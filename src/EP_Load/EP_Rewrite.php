<?php
/*   __________________________________________________
    |  		Code By HauN - HauNYTB.COM  2.0.14    	  |
    |          Telegram: https://t.me/haunytb         |
    |    	   Url : https://haunytb.com    		  |
    |_________________________________________________|
*/
 namespace HNMG\EP_Load; class EP_Rewrite { public function register() { goto ddAQv; yUM3P: add_action("\151\x6e\151\164", [$this, "\x61\x64\144\137\143\165\163\x74\x6f\x6d\137\x72\x65\x77\x72\x69\164\145\x5f\x72\165\154\x65\x73"], 20, 1); goto xYI04; ddAQv: add_action("\x69\x6e\151\164", [$this, "\150\156\x5f\x72\145\x77\x72\151\164\x65\137\162\x75\x6c\145"], 20, 1); goto yUM3P; xYI04: add_filter("\x71\x75\145\x72\171\137\x76\x61\162\x73", [$this, "\x68\x6e\x5f\162\145\147\x69\x73\164\x65\x72\137\x71\165\x65\x72\171\137\x76\141\x72\x73"]); goto SWfey; SWfey: add_action("\151\156\x69\164", [$this, "\150\x61\x75\156\137\x73\145\164\x5f\x70\145\x72\x6d\141\x6c\x69\x6e\x6b\x5f\x73\x74\x72\165\143\x74\x75\162\x65"]); goto jrr5w; jrr5w: } public function hn_rewrite_rule() { goto i4apD; tpEzr: LjNPw: goto VaXud; tazaE: foreach ($filter as $index => $param) { $query_string .= "\46{$param}\75\x24\x6d\141\164\x63\x68\x65\x73\x5b" . ($index + 1) . "\x5d"; PcfIF: } goto SJnwM; YbddG: $watch = preg_replace_callback("\x2f\134\x7b\50\x5b\x5e\x7d\135\53\51\x5c\x7d\x2f", function ($matches) { goto cIvsR; UQg7v: return ''; goto EKxnr; fkO13: jqSle: goto oeRfi; FoNUB: if (!(strpos($matches[1], "\x7c") !== false)) { goto qxOBb; } goto qJiXt; cIvsR: if (!($matches[1] == "\110\117\115\105")) { goto oEyeg; } goto UQg7v; qJiXt: list($before, $after) = explode("\174", $matches[1]); goto g5G6Q; vBH_9: return "\50\133\x5e\57\x5d\52\51"; goto HuwvD; Msaeg: gVxE2: goto F5teT; UXtUz: qxOBb: goto vBH_9; g5G6Q: switch ($before) { case "\x45\x50": return "\x28\x5b\x5e\x2f\x5d\x2a\51" . $after; case "\123\x56": return "\x28\x5b\136\x2f\x5d\52\x29" . $after; case "\x48": case "\127": return $after; } goto MdN6o; F5teT: vTuPM: goto UXtUz; oeRfi: switch ($after) { case "\105\x50": return $before . "\x28\133\136\57\x5d\x2a\51"; case "\x53\x56": return $before . "\x28\x5b\x5e\57\135\x2a\51"; } goto Msaeg; MdN6o: YHasx: goto fkO13; EKxnr: oEyeg: goto FoNUB; HuwvD: }, $urltype); goto BlcYz; d6pps: add_rewrite_rule("\x5e\141\x7a\55\154\x69\x73\x74\57\x28\133\x5e\x2f\x5d\x2a\51\x3f", "\151\156\144\145\170\56\160\x68\x70\77\x70\x61\147\x65\156\x61\x6d\x65\x3d\141\172\55\154\x69\x73\x74\46\154\145\x74\164\145\x72\75\x24\155\141\x74\x63\x68\145\163\133\x31\135", "\x74\x6f\x70"); goto G6mdM; SJnwM: UAquG: goto Ovuzx; VaXud: add_rewrite_rule("\x5e\x63\157\x64\x65\x2f\x28\133\136\x2f\x5d\52\x29\57\77", "\x69\x6e\144\x65\170\56\160\x68\160\77\x70\141\x67\145\x6e\x61\x6d\145\75\x68\141\x75\156\x2d\x63\157\x64\145\x26\x68\141\165\x6e\137\143\157\144\x65\x3d\x24\155\x61\x74\x63\x68\145\x73\133\61\x5d", "\x74\x6f\160"); goto d6pps; i4apD: $urltype = preg_replace("\57\x5b\136\x61\x2d\x7a\x41\x2d\132\x30\x2d\71\173\175\x5c\56\134\x2d\134\57\x7c\135\x2f", '', hnmg_value("\150\156\x63\157\x72\x65\x5f\165\x72\x6c\x5f\164\171\x70\145")); goto YbddG; BEss_: if (!hnmg_value("\150\141\x75\156\x5f\146\151\x6c\164\145\162\x5f\145\156\x61\x62\154\x65")) { goto LjNPw; } goto Ud5uy; yX9Kq: flush_rewrite_rules(); goto YSVaj; UppM7: $with_pagination = $query_string . "\46\160\141\x67\x65\x3d\x24\x6d\141\x74\x63\x68\145\x73\133" . (count($filter) + 1) . "\135\46\160\141\147\145\x31\75\44\x6d\141\x74\143\x68\145\163\x5b" . (count($filter) + 2) . "\135"; goto skSRP; Sp6gU: add_rewrite_rule(rtrim($path_pattern, "\57\77") . "\57\77\x24", $query_string, "\164\157\160"); goto tpEzr; Ovuzx: $path_pattern_with_pagination = $path_pattern . "\50\133\136\57\x5d\x2a\x29\57\x28\x5b\136\x2f\x5d\x2a\x29\57\x3f"; goto UppM7; wDRLI: $path_pattern = "\136\x66\151\154\x74\x65\x72\x2d\155\x6f\166\151\x65\x73\x2f" . str_repeat("\x28\133\136\x2f\135\x2a\x29\x2f", count($filter)); goto N8cuP; skSRP: add_rewrite_rule(rtrim($path_pattern_with_pagination, "\x2f\77") . "\x2f\x3f\x24", $with_pagination, "\x74\x6f\x70"); goto Sp6gU; G6mdM: add_rewrite_rule("\136\x61\x7a\x2d\154\151\163\x74\57\50\133\136\57\x5d\52\51\x2f\50\x5b\136\57\x5d\52\51\x2f\50\133\136\x2f\135\52\51\77", "\151\156\144\145\x78\x2e\x70\x68\x70\77\160\141\x67\x65\x6e\141\x6d\x65\75\x61\172\55\154\151\x73\164\46\154\x65\x74\x74\145\162\75\44\x6d\141\164\x63\x68\145\x73\133\61\135\46\160\141\147\145\x3d\x24\155\141\164\143\150\x65\163\x5b\x32\x5d\46\160\x61\x67\x65\x31\75\44\155\141\164\143\150\x65\x73\133\63\135", "\x74\x6f\160"); goto yX9Kq; Ud5uy: $filter = hnmg_value("\150\x61\165\x6e\137\146\151\154\164\145\162\137\x73\145\x6c\145\x63\x74"); goto wDRLI; N8cuP: $query_string = "\151\156\144\145\x78\56\160\150\160\x3f\x70\141\147\145\x6e\x61\x6d\145\x3d\146\151\154\164\x65\162\55\x6d\157\166\x69\145\163"; goto tazaE; BlcYz: add_rewrite_rule("\136" . $watch . "\x3f\44", "\151\x6e\144\145\170\x2e\x70\150\160\77\x6e\x61\x6d\x65\x3d\x24\155\141\164\143\150\145\x73\x5b\61\x5d\46\145\160\151\163\x6f\144\145\137\x73\154\165\147\75\44\x6d\141\164\x63\150\x65\163\133\x32\x5d\x26\150\141\x75\x6e\x5f\x73\x65\x72\x76\x65\x72\x3d\44\155\141\x74\x63\150\145\x73\x5b\63\x5d\x26\x68\x61\x75\x6e\x5f\x61\x63\164\151\x6f\x6e\75\167\x61\164\143\x68", "\164\x6f\160"); goto BEss_; YSVaj: } public function remcat_function($link) { return str_replace("\x2f\143\141\x74\145\147\157\x72\171\57", "\x2f", $link); } public function add_custom_rewrite_rules() { goto rPfz7; RJSL8: add_filter("\x63\141\x74\x65\147\x6f\x72\x79\x5f\x72\145\x77\x72\151\164\x65\137\162\165\x6c\145\163", [$this, "\x75\160\144\141\164\x65\x5f\x63\x61\x74\145\x67\157\x72\171\137\162\x65\x77\162\151\x74\145\x5f\x72\x75\154\145\163"]); goto WjGwz; ojBeG: add_filter("\x75\163\145\x72\x5f\x74\x72\141\x69\x6c\x69\156\x67\163\154\141\x73\150\x69\x74", [$this, "\162\x65\x6d\x63\141\x74\137\x66\x75\156\x63\164\x69\157\x6e"]); goto HETPy; ehlGr: fjiY_: goto bmGR7; erFJ1: $actions = ["\x63\162\x65\x61\x74\145\144\x5f\143\141\x74\x65\x67\157\x72\171", "\144\x65\x6c\145\164\x65\x5f\143\141\164\x65\x67\157\x72\171", "\x65\x64\151\x74\145\x64\x5f\x63\x61\164\145\147\x6f\162\x79"]; goto x4AlC; x4AlC: foreach ($actions as $action) { add_action($action, [$this, "\146\154\x75\x73\x68\137\x72\x65\x77\162\151\164\x65\x5f\162\165\x6c\x65\163"]); E_zu9: } goto g1647; HETPy: flush_rewrite_rules(); goto ehlGr; g1647: QLOPr: goto GwqUQ; rPfz7: if (!hnmg_value("\150\141\x75\x6e\x5f\x72\x65\155\157\166\x65\137\143\141\164\x65\x67\x6f\162\151\x65\x73\x5f\160\x72\145\x66\x69\x78")) { goto fjiY_; } goto erFJ1; GwqUQ: add_action("\151\156\151\164", [$this, "\165\160\x64\x61\x74\x65\x5f\143\141\164\x65\x67\157\x72\x79\x5f\x70\x65\162\x6d\x61\163\164\162\165\x63\x74"]); goto RJSL8; WjGwz: add_filter("\162\145\x71\x75\x65\163\x74", [$this, "\150\x61\x6e\144\154\145\x5f\x63\x61\x74\145\147\157\x72\171\x5f\x72\145\144\x69\162\145\x63\x74"]); goto ojBeG; bmGR7: } public function flush_rewrite_rules() { flush_rewrite_rules(); } public function update_category_permastruct() { global $wp_rewrite; $wp_rewrite->extra_permastructs["\x63\141\x74\x65\147\x6f\x72\171"]["\163\x74\162\x75\143\164"] = "\45\143\x61\164\145\147\157\x72\171\45"; } public function update_category_rewrite_rules($category_rewrite) { goto XuxXe; GxNT3: $old_category_base = trim(get_option("\x63\141\x74\145\x67\157\x72\171\137\x62\141\163\145") ?: "\x63\x61\164\145\x67\157\x72\171", "\57"); goto RaYZw; onTia: $new_rules = []; goto NAA20; NAA20: foreach ($categories as $category) { goto G8eip; G8eip: $slug = $category->slug; goto Z3M2n; eD76a: $new_rules["\x28{$slug}\x29\x2f\x3f\44"] = "\151\156\144\145\170\x2e\160\150\160\77\x63\141\164\145\147\157\x72\x79\137\x6e\141\155\x65\75\x24\155\x61\x74\x63\x68\x65\163\133\x31\135"; goto TJyZp; idzZ1: $new_rules["\x28{$slug}\x29\x2f\160\x61\x67\145\x2f\x3f\50\x5b\x30\55\x39\135\173\x31\x2c\x7d\x29\57\x3f\x24"] = "\x69\x6e\x64\x65\170\56\160\x68\x70\77\143\x61\164\x65\147\x6f\162\x79\x5f\156\x61\x6d\x65\75\x24\x6d\141\x74\x63\x68\x65\x73\133\61\135\x26\x70\x61\x67\145\144\x3d\44\155\141\x74\143\150\145\x73\133\62\x5d"; goto eD76a; Z3M2n: if (!($category->parent && $category->parent !== $category->cat_ID)) { goto DIvNq; } goto rMjTS; BCmFQ: $new_rules["\50{$slug}\51\57\50\x3f\72\146\145\145\x64\57\51\x3f\50\146\145\x65\144\x7c\162\144\146\x7c\162\x73\163\x7c\x72\163\x73\62\x7c\x61\x74\x6f\x6d\51\x2f\77\x24"] = "\151\156\x64\x65\x78\56\160\150\160\x3f\143\141\164\x65\x67\157\162\x79\137\156\141\x6d\x65\75\x24\x6d\x61\x74\143\x68\145\x73\x5b\61\x5d\46\x66\x65\x65\144\x3d\44\x6d\x61\x74\143\150\x65\163\133\62\x5d"; goto idzZ1; TJyZp: UfbQm: goto y_yXY; XITKk: DIvNq: goto BCmFQ; rMjTS: $slug = get_category_parents($category->parent, false, "\57", true) . $slug; goto XITKk; y_yXY: } goto LGZzj; LGZzj: Xo6BV: goto GxNT3; TDxvY: return $new_rules; goto dXP6O; RaYZw: $new_rules["{$old_category_base}\57\x28\x2e\x2a\x29\44"] = "\x69\x6e\x64\145\x78\56\160\150\x70\77\143\141\164\x65\x67\x6f\x72\x79\137\162\x65\x64\151\x72\x65\143\164\x3d\44\x6d\x61\x74\x63\x68\145\163\x5b\x31\x5d"; goto TDxvY; XuxXe: $categories = get_categories(["\x68\x69\x64\x65\x5f\145\x6d\x70\164\x79" => false, "\x6c\141\x6e\147" => class_exists("\x53\151\x74\145\x70\x72\145\163\163") ? "\137\151\143\154\137\x73\150\157\167\x5f\x61\x6c\x6c\x5f\x6c\x61\156\147\x73" : null]); goto onTia; dXP6O: } public function handle_category_redirect($query_vars) { goto hn7z9; CTmlF: exit; goto O9LKR; Xr2e4: return $query_vars; goto CmvTx; hn7z9: if (!isset($query_vars["\x63\141\x74\145\x67\157\x72\171\137\x72\x65\144\151\162\145\x63\x74"])) { goto AVFsf; } goto hwYFQ; O9LKR: AVFsf: goto Xr2e4; hwYFQ: wp_safe_redirect(trailingslashit(home_url()) . user_trailingslashit($query_vars["\143\x61\x74\x65\147\x6f\x72\x79\x5f\162\145\144\151\162\x65\143\164"], "\x63\x61\164\x65\147\157\x72\171"), 301); goto CTmlF; CmvTx: } public function hn_register_query_vars($vars) { $new_vars = ["\x68\141\165\x6e\x5f\x61\x63\164\151\157\156", "\150\141\x75\156\137\151\x6e\146\x6f", "\x68\141\165\156\x5f\x73\145\162\166\145\x72", "\145\x70\x69\163\157\144\x65\x5f\163\x6c\x75\x67", "\150\141\x75\x6e\137\145\160\x69\163\x6f\x64\x65", "\146\157\162\155\x61\x6c\151\164\x79", "\x73\164\141\164\165\163", "\x63\157\x75\156\164\x72\171", "\x72\x65\154\x65\x61\x73\x65", "\x63\x61\x74\145\x67\x6f\162\171", "\x70\x61\x67\145", "\160\x61\147\x65\61", "\154\145\164\164\145\162", "\x68\141\x75\x6e\x5f\143\157\144\145", "\146\151\x6c\164\x65\x72\137\x70\x61\x67\145", "\x73\157\x72\x74", "\x74\x79\160\x65", "\171\145\x61\x72", "\x67\x65\156\162\x65", "\x6b\x65\x79\x77\x6f\162\x64", "\160\x61\x67\x65\144", "\x63\141\x74\x65\147\x6f\162\x79\137\x72\x65\144\151\x72\145\143\164"]; return array_merge($vars, $new_vars); } public function haun_set_permalink_structure() { update_option("\160\145\x72\x6d\141\x6c\x69\156\153\137\163\x74\x72\x75\143\x74\x75\x72\x65", "\57\45\160\157\163\164\156\x61\x6d\x65\x25"); } }
