<?php
/*   __________________________________________________
    |  		Code By HauN - HauNYTB.COM  2.0.14    	  |
    |          Telegram: https://t.me/haunytb         |
    |    	   Url : https://haunytb.com    		  |
    |_________________________________________________|
*/
 namespace HNMG\EP_Load; class EP_Rewrite { public function register() { goto ac9Kh; gkVSg: add_filter("\x71\x75\x65\x72\x79\137\166\141\x72\x73", [$this, "\x68\156\137\162\145\147\x69\163\164\x65\x72\137\x71\x75\x65\x72\x79\x5f\x76\141\x72\x73"]); goto wdFmg; ac9Kh: add_action("\151\156\151\164", [$this, "\x61\x64\144\137\x63\x75\x73\x74\157\155\x5f\x72\145\167\162\x69\164\x65\x5f\162\165\154\145\x73"]); goto DAbM0; wdFmg: add_action("\x61\146\x74\x65\x72\x5f\x73\x65\164\165\160\137\x74\x68\145\x6d\145", [$this, "\150\141\x75\156\137\162\x65\x6d\157\166\145\137\x63\141\x74\145\147\157\162\151\145\x73\x5f\160\162\x65\146\x69\170"]); goto qYg11; DAbM0: add_action("\151\x6e\151\164", [$this, "\x68\x6e\x5f\162\x65\167\162\x69\164\145\137\162\x75\x6c\x65"], 10, 0); goto gkVSg; qYg11: } public function haun_remove_categories_prefix() { goto LYnmy; bUSYY: $actions = ["\x63\162\x65\x61\x74\145\x64\x5f\x63\141\164\x65\147\x6f\x72\x79", "\x64\x65\154\145\164\145\137\x63\x61\164\145\147\x6f\162\171", "\x65\144\x69\164\x65\144\137\x63\141\164\145\x67\157\162\x79"]; goto Hb2mV; LYnmy: if (hnmg_value("\x68\x61\165\156\x5f\162\145\155\x6f\166\145\x5f\x63\x61\x74\145\147\x6f\162\151\145\x73\x5f\160\162\145\x66\x69\x78")) { goto sHOZo; } goto mHXeX; TYEqO: add_filter("\x72\145\161\x75\145\163\x74", [$this, "\x68\141\x6e\x64\x6c\x65\x5f\143\x61\164\x65\x67\x6f\x72\x79\137\162\x65\x64\151\x72\145\143\164"]); goto c5CoF; NXxv0: A8Jyx: goto TIWA0; Hb2mV: foreach ($actions as $action) { add_action($action, [$this, "\146\x6c\x75\x73\x68\137\x72\x65\x77\162\x69\x74\145\137\162\x75\x6c\x65\163"]); C5Zzh: } goto NXxv0; TIWA0: add_action("\151\x6e\x69\164", [$this, "\x75\160\x64\x61\164\x65\x5f\143\141\164\145\147\x6f\162\x79\x5f\x70\x65\x72\x6d\141\163\164\x72\x75\143\164"]); goto yPFAo; mHXeX: return; goto RrD8F; yPFAo: add_filter("\x63\141\x74\x65\x67\157\x72\x79\137\162\145\x77\x72\x69\x74\145\137\x72\165\x6c\x65\x73", [$this, "\x75\160\144\141\164\x65\x5f\x63\x61\164\x65\147\x6f\162\171\x5f\x72\x65\x77\x72\151\x74\145\137\x72\165\x6c\145\163"]); goto TYEqO; RrD8F: sHOZo: goto bUSYY; c5CoF: } public function flush_rewrite_rules() { flush_rewrite_rules(); } public function update_category_permastruct() { global $wp_rewrite; $wp_rewrite->extra_permastructs["\x63\x61\x74\145\147\x6f\x72\171"]["\x73\x74\x72\x75\x63\x74"] = "\x25\143\x61\x74\145\x67\157\162\x79\x25"; } public function update_category_rewrite_rules($category_rewrite) { goto PcxjE; BR9Yr: foreach ($categories as $category) { goto t1K8o; t1K8o: $slug = $category->slug; goto Ytr9O; Ytr9O: if (!($category->parent && $category->parent !== $category->cat_ID)) { goto IQK_R; } goto OedbV; OedbV: $slug = get_category_parents($category->parent, false, "\x2f", true) . $slug; goto DMhxq; Oxcqv: $new_rules["\x28{$slug}\51\x2f\50\77\72\146\x65\x65\x64\57\x29\77\x28\x66\x65\x65\x64\x7c\162\144\146\174\x72\163\163\x7c\x72\x73\x73\62\174\x61\164\x6f\155\51\x2f\x3f\44"] = "\x69\156\x64\x65\170\56\160\x68\x70\x3f\x63\x61\x74\x65\147\157\x72\171\137\x6e\141\155\x65\75\x24\x6d\x61\x74\x63\x68\x65\x73\x5b\61\x5d\x26\146\145\145\144\75\x24\x6d\x61\x74\x63\150\145\x73\x5b\62\135"; goto H1AkD; H1AkD: $new_rules["\50{$slug}\51\x2f\x70\x61\x67\145\57\x3f\x28\133\x30\x2d\x39\x5d\x7b\x31\x2c\x7d\51\57\77\x24"] = "\151\156\144\145\x78\56\160\150\160\x3f\143\x61\x74\x65\x67\x6f\162\x79\x5f\x6e\141\155\x65\x3d\44\155\x61\164\x63\x68\x65\163\x5b\61\135\x26\x70\x61\147\145\x64\75\x24\155\141\164\143\150\145\163\x5b\x32\135"; goto caaCj; caaCj: $new_rules["\50{$slug}\51\57\77\44"] = "\x69\156\144\x65\170\x2e\x70\150\160\77\143\x61\x74\145\147\157\162\x79\x5f\x6e\141\155\x65\75\x24\x6d\x61\x74\x63\150\x65\x73\x5b\x31\x5d"; goto bw5pX; DMhxq: IQK_R: goto Oxcqv; bw5pX: k1uL1: goto jhmgS; jhmgS: } goto r71X_; PcxjE: $categories = get_categories(["\150\x69\144\x65\137\145\x6d\160\164\x79" => false, "\x6c\x61\156\x67" => class_exists("\123\x69\x74\145\x70\x72\x65\163\x73") ? "\137\x69\x63\x6c\137\163\150\x6f\167\x5f\x61\x6c\x6c\x5f\x6c\141\x6e\x67\163" : null]); goto Gbyif; aElJ6: $new_rules["{$old_category_base}\57\50\x2e\52\51\x24"] = "\x69\x6e\x64\145\x78\56\160\x68\x70\77\143\141\x74\x65\147\x6f\162\x79\x5f\162\145\x64\151\162\x65\x63\164\x3d\44\x6d\x61\x74\x63\150\145\x73\x5b\61\x5d"; goto B1MjE; Gbyif: $new_rules = []; goto BR9Yr; r71X_: eKaEL: goto IOFBX; B1MjE: return $new_rules; goto AsCNY; IOFBX: $old_category_base = trim(get_option("\143\x61\x74\145\x67\157\162\171\137\142\141\163\x65") ?: "\143\141\164\145\147\157\162\x79", "\x2f"); goto aElJ6; AsCNY: } public function handle_category_redirect($query_vars) { goto R7JVO; HZXuC: T7TuE: goto Rp_bv; VIn8U: exit; goto HZXuC; Rp_bv: return $query_vars; goto j6MlN; R7JVO: if (!isset($query_vars["\143\x61\164\145\147\157\162\x79\x5f\162\x65\x64\x69\x72\x65\x63\164"])) { goto T7TuE; } goto wKMCh; wKMCh: wp_safe_redirect(trailingslashit(home_url()) . user_trailingslashit($query_vars["\143\141\x74\145\x67\157\162\x79\x5f\162\145\144\151\x72\x65\x63\164"], "\x63\x61\x74\145\147\x6f\162\x79"), 301); goto VIn8U; j6MlN: } public function hn_rewrite_rule() { goto ed77V; UC562: add_rewrite_rule("\136\141\x7a\55\x6c\x69\x73\164\57\50\x5b\136\x2f\x5d\52\x29\x2f\50\x5b\x5e\x2f\135\52\x29\57\x28\x5b\136\x2f\135\x2a\51\x3f", "\x69\x6e\x64\145\x78\56\x70\x68\160\77\160\x61\x67\x65\x6e\x61\x6d\x65\75\x61\172\x2d\154\x69\x73\x74\46\154\x65\164\164\x65\162\x3d\44\155\141\164\143\x68\x65\x73\x5b\x31\135\46\160\141\x67\145\75\44\x6d\141\164\x63\x68\145\x73\133\62\135\46\160\141\147\x65\61\75\x24\x6d\141\164\143\x68\x65\163\133\63\x5d", "\164\157\160"); goto Ou3b0; hy0_V: $urltype = hnmg_value("\150\156\x63\157\162\145\137\165\x72\154\x5f\x74\171\x70\x65"); goto goSox; abKv1: add_rewrite_rule(rtrim($path_pattern_with_pagination, "\x2f\x3f") . "\x2f\x3f\x24", $with_pagination, "\164\157\160"); goto lnvVh; c3zRi: $query_string = "\x69\156\144\145\170\x2e\x70\x68\160\77\160\141\147\145\x6e\141\x6d\x65\75\x66\151\154\x74\x65\162\55\155\x6f\166\x69\x65\163"; goto Q8f1e; aNLFh: $path_pattern = "\x5e\x66\x69\x6c\164\x65\162\55\x6d\x6f\x76\x69\145\x73\x2f" . str_repeat("\x28\x5b\136\57\x5d\52\51\57", count($filter)); goto c3zRi; LbNz1: add_rewrite_rule("\x5e\x63\157\x64\145\57\50\x5b\136\x2f\135\52\x29\x2f\77", "\x69\156\x64\x65\170\x2e\160\150\x70\x3f\x70\x61\147\145\156\x61\x6d\x65\x3d\150\141\165\x6e\x2d\143\x6f\x64\x65\x26\150\x61\x75\156\137\143\157\x64\145\75\44\x6d\141\x74\143\x68\x65\163\133\x31\135", "\164\157\160"); goto K9rqB; vK773: $filter = hnmg_value("\x68\141\165\156\137\146\151\x6c\x74\145\162\137\x73\145\154\x65\143\164"); goto aNLFh; Q8f1e: foreach ($filter as $index => $param) { $query_string .= "\46{$param}\x3d\44\155\x61\164\x63\150\x65\163\x5b" . ($index + 1) . "\x5d"; pwOwW: } goto gO7Z6; x16no: vbBY9: goto ApeG5; Batx6: $watch = substr($watchPattern, 0, 1) === "\57" ? ltrim($watchPattern, "\x2f") : $watchPattern; goto gqzfY; gO7Z6: po273: goto LBfYd; ed77V: if (!is_plugin_active("\x68\156\143\157\x72\145\x2f\x68\x6e\143\157\x72\x65\x2e\160\x68\160")) { goto vbBY9; } goto hy0_V; lnvVh: add_rewrite_rule(rtrim($path_pattern, "\57\77") . "\57\x3f\44", $query_string, "\164\157\160"); goto jMIxr; I0npb: $watchPattern = str_replace(array_keys($patterns), array_values($patterns), $urltype); goto Batx6; RsJIk: $with_pagination = $query_string . "\x26\160\141\x67\x65\75\x24\155\141\x74\143\150\x65\163\133" . (count($filter) + 1) . "\x5d\x26\160\141\147\x65\x31\75\44\x6d\141\x74\143\150\145\x73\x5b" . (count($filter) + 2) . "\x5d"; goto abKv1; jMIxr: RB5q1: goto LbNz1; HmZSZ: if (!hnmg_value("\x68\141\x75\156\137\146\151\x6c\164\x65\x72\137\145\x6e\x61\142\154\145")) { goto RB5q1; } goto vK773; LBfYd: $path_pattern_with_pagination = $path_pattern . "\x28\133\x5e\57\135\52\x29\x2f\x28\x5b\x5e\x2f\135\52\51\x2f\77"; goto RsJIk; gqzfY: add_rewrite_rule("\x5e" . $watch . "\x24", "\151\156\144\145\x78\56\160\x68\160\77\156\141\x6d\x65\75\x24\155\141\x74\143\150\x65\x73\133\x31\135\x26\x65\160\151\163\157\x64\145\x5f\163\154\x75\x67\75\x24\x6d\x61\x74\x63\x68\145\x73\x5b\x32\x5d\46\x68\x61\x75\156\137\x73\x65\x72\x76\x65\x72\75\44\x6d\141\x74\x63\150\x65\x73\x5b\63\x5d\x26\150\x61\x75\156\x5f\141\143\x74\x69\157\156\75\167\141\x74\x63\150", "\x74\x6f\160"); goto HmZSZ; K9rqB: add_rewrite_rule("\x5e\x61\x7a\55\154\151\163\x74\x2f\50\x5b\136\57\x5d\x2a\51\77", "\x69\156\144\145\170\56\160\x68\160\77\160\141\147\x65\x6e\141\155\x65\x3d\x61\172\55\154\x69\163\164\x26\154\145\164\x74\145\x72\75\44\x6d\141\x74\143\x68\145\x73\x5b\61\x5d", "\164\x6f\x70"); goto UC562; Ou3b0: flush_rewrite_rules(); goto x16no; goSox: $patterns = ["\173\150\x6f\x6d\x65\x5f\x75\162\x6c\x7d" => '', "\173\164\151\164\154\x65\x7d" => "\x28\x5b\x5e\x2f\x5d\52\51", "\x7b\x65\x70\151\163\157\x64\145\175" => "\x28\x5b\x5e\57\x5d\52\x29", "\173\163\145\x72\x76\x65\x72\x7d" => "\50\133\x30\55\x39\x5d\53\51", "\173\157\162\147\x5f\x74\x69\164\x6c\145\x7d" => "\x28\x5b\136\57\135\x2a\x29", "\x7b\x63\x6f\x75\156\x74\162\x79\175" => "\x28\x5b\136\57\x5d\x2a\x29", "\x7b\x79\x65\x61\162\x7d" => "\50\x5b\60\55\x39\x5d\x7b\x34\x7d\51", "\x7b\x68\164\x6d\154\175" => "\56\x68\x74\155\x6c\77"]; goto I0npb; ApeG5: } public function hn_register_query_vars($vars) { $new_vars = ["\x68\141\x75\156\x5f\141\x63\x74\151\157\156", "\150\x61\165\156\137\x69\x6e\x66\157", "\x68\141\165\x6e\137\x73\x65\x72\166\145\x72", "\x65\x70\x69\163\157\144\x65\x5f\x73\154\x75\147", "\150\x61\x75\x6e\137\145\x70\151\163\x6f\144\145", "\146\157\x72\x6d\141\x6c\151\164\171", "\x73\164\141\x74\x75\x73", "\x63\157\x75\x6e\164\162\x79", "\x72\145\154\x65\141\x73\145", "\143\141\164\145\x67\157\162\171", "\160\x61\x67\145", "\160\x61\147\145\61", "\154\x65\164\164\x65\162", "\150\141\x75\156\137\143\157\x64\x65", "\146\x69\x6c\164\145\162\x5f\x70\141\x67\x65", "\163\157\x72\164", "\x74\171\160\x65", "\x79\x65\x61\162", "\x67\145\x6e\x72\x65", "\153\145\x79\167\x6f\162\144", "\160\141\147\145\144", "\143\141\x74\x65\x67\157\x72\171\137\x72\x65\x64\151\162\x65\143\164"]; return array_merge($vars, $new_vars); } public function add_custom_rewrite_rules() { goto agHxq; H96so: add_rewrite_rule("\x5e\x6c\157\141\144\x65\160\x69\x73\57\50\x2e\52\51\44", $vendor_path . "\57\x61\163\163\x65\x74\x73\57\x24\x31", "\164\157\x70"); goto dBihH; HxJmg: add_rewrite_rule("\x5e\x6c\157\141\x64\x5c\x2e\x70\x68\160\44", $vendor_path . "\x2f\x6c\157\141\144\x2e\160\150\x70", "\164\157\x70"); goto H96so; agHxq: $base_path = strpos(get_template_directory(), "\141\x70\x70\x2f\x74\150\145\x6d\x65\163") !== false ? "\x61\160\160\57\x74\x68\145\x6d\145\163" : "\x77\160\55\x63\x6f\x6e\x74\x65\156\x74\57\x74\150\x65\155\145\x73"; goto F3eYR; vSrUH: $vendor_path = $base_path . "\x2f" . get_template() . "\57\x76\x65\x6e\144\157\162\57\x68\156\x63\157\x72\x65\x2f\x68\156\x6d\x67\145\x70\x69\163\57\x72\145\163\x6f\165\x72\143\145\x73"; goto HxJmg; VMHDq: add_rewrite_rule("\136\146\157\x6e\164\163\x2f\x66\x6f\156\x74\141\167\x65\x73\x6f\x6d\x65\x2d\x77\x65\x62\146\x6f\156\x74\x5c\x2e\x28\x77\x6f\x66\146\x32\x3f\174\x74\x74\146\x7c\x73\x76\x67\174\x65\x6f\164\x29\50\x5c\77\56\52\51\x3f\x24", "{$urlfont}\x2f\146\x6f\x6e\x74\x73\x2f\x66\x6f\156\x74\x61\x77\x65\163\x6f\155\145\x2d\x77\x65\142\146\x6f\x6e\x74\56\x24\61\x24\62", "\164\157\x70"); goto P2i49; dBihH: add_rewrite_rule("\x5e\146\x6f\x6e\x74\55\x61\167\x65\163\x6f\155\x65\134\56\x6d\x69\x6e\x5c\56\x63\x73\163\44", "{$urlfont}\57\x63\x73\x73\57\146\x6f\x6e\x74\x2d\141\167\145\x73\157\x6d\145\x2e\x6d\151\x6e\56\143\163\x73", "\x74\157\x70"); goto VMHDq; P2i49: flush_rewrite_rules(); goto imsl2; F3eYR: $urlfont = $base_path . "\x2f" . get_template() . "\x2f\166\145\x6e\x64\x6f\x72\57\x68\x6e\x63\157\162\x65\57\150\156\x6d\x67\x65\160\151\x73\x2f\x76\145\156\x64\157\162\57\146\x6f\162\164\141\x77\x65\x73\x6f\x6d\145\x2f\x66\157\x6e\164\x2d\141\x77\x65\163\x6f\x6d\x65"; goto vSrUH; imsl2: } }
