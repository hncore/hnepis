<?php
/*   __________________________________________________
    |  		Code By HauN - HauNYTB.COM  2.0.14    	  |
    |          Telegram: https://t.me/haunytb         |
    |    	   Url : https://haunytb.com    		  |
    |_________________________________________________|
*/
 namespace HNMG\Episodes; use HNMG\Episodes\EP_Helper; use Illuminate\Support\Str; class EP_Actions { public function __construct() { $this->helper = new EP_Helper(); } public function register() { goto v0c4Z; pSIpX: add_action("\x77\x70\137\x61\x6a\141\x78\x5f\150\x6e\141\152\x61\170\137\x61\x64\x64\x6e\x65\x77\163\x65\x72\x76\145\162", [$this, "\x68\x6e\141\152\x61\x78\x5f\141\144\x64\156\x65\x77\163\145\x72\x76\145\x72"]); goto qh_uw; HENoq: add_action("\x77\160\137\141\x6a\141\170\x5f\154\x6f\x61\144\137\x70\157\163\164\x73\x5f\x64\x61\164\x61", [$this, "\x6c\x6f\x61\x64\x5f\x70\157\x73\164\163\137\144\141\x74\x61"]); goto b06HD; nvwwc: add_action("\167\160\137\x61\152\141\170\137\x68\x6e\141\x6a\141\x78\137\x75\160\144\141\x74\x65\137\x65\160\151\x73\157\144\145", [$this, "\150\156\x61\x6a\141\170\137\165\160\x64\141\164\145\137\145\x70\x69\x73\x6f\144\x65"]); goto pSIpX; v0c4Z: add_action("\x77\160\x5f\141\x6a\x61\170\x5f\150\156\141\x6a\x61\170\x5f\x67\x65\x74\x6c\x69\x73\x74\137\x65\160\x69\x73\x6f\x64\x65\163", [$this, "\150\x6e\x61\152\141\x78\x5f\147\145\164\x6c\151\x73\x74\137\145\160\x69\163\157\144\x65\163"]); goto CRmxJ; CRmxJ: add_action("\167\160\x5f\x61\152\141\x78\137\150\156\x61\152\x61\170\137\162\145\155\x6f\x76\145\x5f\163\145\162\x76\x65\x72", [$this, "\x68\156\x61\152\x61\170\x5f\162\x65\155\x6f\166\145\x5f\x73\145\162\166\145\x72"]); goto o6hHC; VcQxz: add_action("\x77\160\x5f\x61\x6a\x61\170\137\x6e\x6f\160\x72\151\166\137\x68\x61\x6e\x64\x6c\145\137\154\151\153\x65\x5f\144\x69\x73\154\151\153\x65", [$this, "\x68\x61\156\x64\154\145\x5f\154\151\x6b\145\x5f\x64\x69\163\x6c\151\x6b\x65"]); goto HENoq; LX7pI: add_action("\x77\160\x5f\x61\152\x61\x78\137\150\156\x61\152\141\x78\x5f\x74\x77\x6f\137\x69\155\160\x6f\x72\x74\x65\x72", [$this, "\150\156\x61\152\x61\170\x5f\164\167\x6f\x5f\x69\x6d\x70\x6f\x72\x74\145\162"]); goto IuYJj; TbT3u: add_action("\x77\160\x5f\141\x6a\x61\170\137\x68\156\141\x6a\x61\170\137\x66\x6f\162\x63\145\x5f\144\x65\x6c\x65\164\x65\137\x70\157\x73\x74", [$this, "\x68\x6e\x61\x6a\x61\170\x5f\x66\x6f\x72\x63\x65\137\x64\x65\154\x65\164\145\137\x70\x6f\x73\x74"]); goto NcIgu; jKvHf: add_action("\167\160\137\141\x6a\141\x78\137\150\156\x73\141\x76\x65\x5f\163\x65\x72\166\145\x72\137\x68\x69\144\144\x65\156", [$this, "\x68\x6e\163\141\166\x65\x5f\163\x65\162\166\145\x72\x5f\x68\x69\x64\x64\145\x6e"]); goto kyd4Z; gOCGX: add_action("\167\160\x5f\x61\152\x61\x78\x5f\150\156\x61\152\x61\x78\x5f\157\156\145\x5f\x69\155\160\x6f\162\164\145\162", [$this, "\150\156\141\x6a\x61\x78\137\157\156\145\137\151\x6d\x70\157\x72\x74\x65\162"]); goto LX7pI; o6hHC: add_action("\x77\x70\x5f\x61\x6a\141\x78\x5f\150\x6e\141\x6a\x61\x78\137\x70\x75\x62\154\x69\163\150\137\160\157\x73\164", [$this, "\150\x6e\141\152\x61\x78\x5f\160\x75\142\x6c\x69\163\150\137\160\157\x73\164"]); goto gOCGX; NcIgu: add_action("\167\160\x5f\x61\x6a\x61\170\137\150\x6e\x5f\x64\x65\154\x65\x74\x65\137\163\145\x6c\x65\x63\x74\145\144\x5f\x70\x6f\x73\164\163", [$this, "\150\x6e\137\x64\145\x6c\x65\164\145\137\163\x65\154\x65\143\x74\145\144\x5f\x70\157\x73\164\x73"]); goto FezuE; kyd4Z: add_action("\x77\160\137\x61\152\x61\x78\137\x68\x6e\x61\152\141\x78\137\x65\x78\160\x6f\x72\x74\137\x65\160\x69\x73\x6f\x64\x65\x73", [$this, "\x68\156\141\152\x61\170\x5f\x65\170\x70\157\x72\x74\137\145\160\151\163\x6f\x64\145\x73"]); goto TbT3u; qh_uw: add_action("\x77\160\137\141\x6a\x61\170\x5f\x68\156\x61\x6a\x61\x78\137\x75\x70\x64\141\164\x65\137\160\x6f\163\x74\x6d\145\164\x61", [$this, "\x68\156\141\x6a\141\170\x5f\165\x70\144\x61\x74\145\137\x70\157\x73\x74\x6d\145\164\141"]); goto jKvHf; FezuE: add_action("\x77\160\137\x61\x6a\x61\170\x5f\x68\141\x6e\144\154\145\137\154\x69\153\145\x5f\144\151\x73\x6c\x69\153\x65", [$this, "\150\141\156\144\x6c\145\x5f\x6c\x69\x6b\145\137\x64\x69\x73\154\151\x6b\145"]); goto VcQxz; IuYJj: add_action("\x77\x70\x5f\x61\x6a\x61\170\x5f\x68\x6e\141\x6a\141\170\137\x6c\x69\x73\164\x5f\x73\145\162\166\x65\162\151\144", [$this, "\150\x6e\141\152\x61\170\137\x6c\x69\163\164\137\x73\x65\x72\x76\x65\162\151\x64"]); goto nvwwc; b06HD: } public function handle_like_dislike() { goto ywurU; iHuBZ: $post_id = intval($_POST["\160\x6f\x73\164\137\151\x64"]); goto nwrh9; nwrh9: $type = sanitize_text_field($_POST["\164\171\x70\145"]); goto bG_B9; QkMvd: wp_send_json_error(["\x6d\x65\163\163\x61\147\x65" => __("\x49\x6e\x76\x61\154\x69\x64\x20\x70\141\x72\141\155\x65\164\145\x72\163", "\150\x6e\155\147\145\160\151\163")]); goto zhakK; H2iIt: $meta["\x74\157\164\141\154\x5f\154\x69\x6b\145\x73"] = $totallikes; goto BwD4w; uSsNo: $percentage = $total_votes == 0 ? 50 : round($totallikes / $total_votes * 100, 2); goto O2Yzo; KOiJl: if ($type === "\x6c\151\153\145") { goto dHZCp; } goto mtkdB; IBMiM: wp_send_json_error(["\155\x65\163\x73\x61\147\x65" => __("\111\x6e\166\x61\154\151\144\40\x72\145\x71\165\145\163\164", "\150\156\x6d\147\x65\x70\151\x73")]); goto qqRy1; yz1Xm: $totallikes = isset($meta["\164\x6f\x74\141\x6c\x5f\154\x69\x6b\145\163"]) ? intval($meta["\x74\157\164\141\x6c\137\x6c\151\x6b\145\163"]) : 0; goto piV0c; BwD4w: bDLB9: goto RXPaP; zhakK: N8zdS: goto SI7cK; ywurU: if (!(!isset($_POST["\156\157\156\x63\145"]) || !wp_verify_nonce($_POST["\x6e\157\x6e\143\145"], "\x77\x70\141\x6a\x61\x78\x5f\156\157\156\143\145"))) { goto XoL_1; } goto IBMiM; SI7cK: $meta = get_post_meta($post_id, HNMG_META, true); goto yz1Xm; mtkdB: $totaldislikes++; goto Q2odj; ygP7c: $totallikes++; goto H2iIt; RXPaP: update_post_meta($post_id, HNMG_META, $meta); goto rvz5k; rvz5k: $total_votes = $totallikes + $totaldislikes; goto uSsNo; bG_B9: if (!(!$post_id || !in_array($type, ["\154\151\153\x65", "\144\x69\163\154\151\x6b\145"]))) { goto N8zdS; } goto QkMvd; qNkxz: goto bDLB9; goto zUUSm; qqRy1: XoL_1: goto iHuBZ; Q2odj: $meta["\x74\157\x74\141\x6c\137\144\x69\163\x6c\x69\153\x65\x73"] = $totaldislikes; goto qNkxz; piV0c: $totaldislikes = isset($meta["\164\157\x74\x61\x6c\x5f\144\x69\163\154\151\153\x65\x73"]) ? intval($meta["\x74\x6f\x74\141\x6c\x5f\144\151\x73\154\x69\153\x65\x73"]) : 0; goto KOiJl; O2Yzo: wp_send_json_success(["\155\x65\163\x73\141\147\x65" => __("\x59\157\x75\x72\x20\162\145\x61\143\x74\151\157\x6e\x20\x68\x61\163\x20\142\x65\145\156\40\162\x65\143\157\162\144\145\144\x2e", "\150\x6e\x6d\x67\x65\160\151\x73"), "\x6c\x69\153\x65\x73" => $totallikes, "\144\151\163\x6c\151\x6b\145\163" => $totaldislikes, "\160\145\162\143\x65\x6e\164\141\x67\145" => $percentage]); goto Uvgy1; zUUSm: dHZCp: goto ygP7c; Uvgy1: } public function load_posts_data() { goto u6AEP; e5aVX: $post_meta = get_post_meta($post->ID, HNMG_EPS, true); goto rbz2E; rbz2E: $meta = get_post_meta($post->ID, HNMG_META, true); goto EaJKG; o4TWH: $query->the_post(); goto oA0lP; AT1le: $linkname = $link != '' ? __("\105\x64\151\x74", "\x68\156\x6d\x67\x65\160\x69\x73") : __("\101\144\144\40\123\x65\162\x76\145\162", "\x68\x6e\x6d\x67\145\x70\x69\163"); goto T1Lpm; AaEFN: $link = $dataPlayer != NULL ? $data[0]["\150\141\x75\x6e\x6d\157\x76\151\145\163\x5f\x73\x65\162\166\x65\162\137\x64\x61\164\x61"][$dataPlayer]["\150\141\x75\156\x6d\157\x76\151\145\163\x5f\145\160\x5f\154\151\156\x6b"] ?? '' : ''; goto HULfP; UB3Iw: $posts_data = []; goto lWMee; Mp6eJ: SGhPn: goto CPEAu; oA0lP: global $post; goto e5aVX; lWMee: if (!$query->have_posts()) { goto kDzxc; } goto Mp6eJ; LSgUh: lThPY: goto HGrKt; u6AEP: $query = new \WP_Query(["\160\157\163\164\137\x74\x79\160\x65" => "\160\x6f\163\x74", "\160\157\163\164\x73\x5f\160\145\x72\137\x70\x61\147\145" => -1, "\x6f\x72\144\x65\x72\x62\x79" => "\155\157\x64\x69\146\151\145\x64", "\x6f\x72\x64\145\162" => "\x44\105\123\x43"]); goto UB3Iw; C2O9B: goto SGhPn; goto LSgUh; hh8oZ: $hidden_servers = is_array($hidden_servers) ? $hidden_servers : (empty($hidden_servers) ? [] : explode("\54", $hidden_servers)); goto xlCCF; xlCCF: $dataPlayer = $data && !empty($data[0]["\x68\x61\x75\x6e\x6d\x6f\x76\151\145\163\137\x73\145\x72\166\145\162\x5f\x64\x61\x74\141"]) ? key($data[0]["\x68\141\x75\x6e\x6d\157\166\x69\145\163\137\163\x65\x72\x76\x65\x72\137\x64\x61\x74\x61"]) : NULL; goto AaEFN; CbkxE: wp_send_json_success($posts_data); goto HUFUa; HGrKt: wp_reset_postdata(); goto rdVJH; EaJKG: $data = json_decode(stripslashes($post_meta), true); goto xAFTx; HULfP: $linkclass = $link != '' ? "\142\x67\x2d\162\x65\144\55\x35\60\x30\40\150\157\166\x65\162\x3a\x62\x67\55\162\145\144\x2d\66\60\x30" : "\142\x67\55\x6f\162\141\x6e\147\x65\55\65\x30\x30\x20\150\x6f\x76\x65\x72\x3a\x62\x67\x2d\x6f\x72\141\x6e\x67\145\55\x36\x30\x30"; goto AT1le; xAFTx: $hidden_servers = get_post_meta($post->ID, "\145\x70\x69\x73\157\144\145\x5f\x73\145\x72\166\x65\162\137\150\x69\x64\144\145\x6e", true); goto hh8oZ; CPEAu: if (!$query->have_posts()) { goto lThPY; } goto o4TWH; T1Lpm: $posts_data[] = ["\143\150\145\x63\x6b\142\157\170" => "\74\151\156\160\x75\x74\x20\164\171\x70\x65\x3d\x22\x63\150\x65\143\x6b\x62\157\x78\x22\x20\x6e\x61\x6d\x65\x3d\42\x65\160\x69\163\157\x64\145\137\x69\x64\163\x22\x20\x76\x61\154\x75\145\75\42" . $post->ID . "\42\x20\100\143\154\151\x63\153\x3d\42\x74\157\x67\147\x6c\x65\123\x65\154\x65\143\164\151\x6f\x6e\x28" . $post->ID . "\x29\42\x20\x3a\x63\150\x65\x63\153\x65\144\75\42\x63\x68\x65\x63\x6b\x41\154\x6c\x22\40\x63\154\141\x73\163\x3d\42\163\x69\172\145\x2d\x34\40\164\145\170\164\x2d\143\145\x6e\x74\145\x72\40\x63\165\x72\x73\157\162\x2d\160\157\151\x6e\164\x65\162\x20\141\160\x70\145\141\162\141\156\x63\145\x2d\x6e\x6f\x6e\x65\40\x6f\x76\145\x72\x66\x6c\157\x77\55\150\151\144\x64\x65\156\40\x72\x6f\x75\x6e\x64\145\x64\40\142\157\162\x64\x65\x72\40\142\x6f\x72\144\x65\x72\x2d\x6e\x65\x75\164\162\141\154\55\x33\60\x30\x20\x62\147\55\x77\x68\151\x74\145\40\146\x6f\x63\x75\x73\72\x6f\165\x74\x6c\x69\156\x65\x2d\156\157\x6e\145\x20\x66\x6f\143\x75\163\72\162\x69\x6e\147\55\x30\42\x20\x2f\76", "\x49\104" => $post->ID, "\x74\151\x74\x6c\x65" => "\x3c\x61\40\150\x72\x65\x66\75\x22" . get_permalink($post->ID) . "\42\40\164\x61\162\x67\145\164\x3d\x22\x5f\142\154\x61\156\153\x22\40\x63\x6c\x61\163\x73\x3d\x22\164\145\x78\x74\55\x70\x69\156\x6b\x2d\x35\x30\x30\x20\146\157\x6e\x74\55\x73\x65\155\x69\142\157\154\x64\40\x74\x65\x78\x74\x2d\170\163\40\x68\x6f\x76\145\162\x3a\164\145\170\x74\x2d\x66\165\143\150\163\151\x61\x2d\x33\60\x30\x20\150\157\166\145\162\72\x6e\157\x2d\x75\156\x64\x65\162\154\151\x6e\x65\42\x3e" . Str::limit($post->post_title, 60, "\56\x2e\56") . "\x3c\x2f\x61\x3e", "\x73\x68\157\x77" => $this->helper->hidden_servers($post->ID, $data), "\160\165\142\x6c\x69\163\150" => $this->helper->hnupdate_publish($post->ID), "\145\160\151\x73\x6f\144\x65" => $this->helper->hnmg_last_episode($post->ID, $meta), "\163\x74\141\164\x75\x73" => $this->helper->hnshow_status($meta["\x68\141\165\x6e\137\x6d\x6f\x76\151\145\137\x73\x74\x61\x74\165\163"] ?? ''), "\x66\x6f\162\155\141\x6c\x69\164\x79" => $this->helper->hnshow_formality($meta["\x68\141\165\156\137\155\157\166\x69\145\137\x66\157\162\155\x61\x6c\151\x74\171"] ?? ''), "\x65\x78\160\157\x72\164" => $this->helper->list_episode_servers($post->ID, $data), "\141\143\x74\x69\x6f\x6e\x73\137\154\x69\156\153" => "\x3c\141\40\x68\162\145\146\x3d\42\77\x70\141\147\145\75\x68\156\x6d\147\x2d\x65\x70\x69\x73\157\144\x65\x26\141\x63\x74\75\x65\144\151\x74\x5f\145\160\46\x70\x6f\x73\164\x5f\x69\144\x3d" . $post->ID . "\42\40\x63\x6c\x61\163\x73\75\x22" . $linkclass . "\x20\146\157\x6e\164\55\142\157\154\144\x20\164\145\x78\164\x2d\170\163\x20\x74\145\x78\x74\x2d\167\150\x69\164\145\40\160\171\55\61\40\160\x78\x2d\x34\x20\x72\x6f\165\156\144\x65\144\x2d\146\x75\x6c\154\42\x3e" . $linkname . "\x3c\x2f\141\76"]; goto C2O9B; rdVJH: kDzxc: goto CbkxE; HUFUa: } public function hn_delete_selected_posts() { goto aTEkq; zYlj6: wp_send_json_success(["\155\145\163\x73\x61\147\145" => "\x53\x65\154\x65\143\164\x65\144\40\160\157\163\x74\163\x20\x61\x6e\x64\40\x61\x73\163\x6f\x63\x69\141\x74\x65\x64\x20\x69\155\x61\147\x65\x73\x20\144\145\x6c\x65\x74\x65\144\x20\x73\x75\x63\x63\145\x73\163\146\x75\154\154\171"]); goto zvJhS; uh3SM: $post_ids = isset($_POST["\x70\157\163\x74\137\151\144\163"]) ? array_map("\151\156\x74\166\141\x6c", $_POST["\x70\157\163\164\137\151\x64\163"]) : []; goto PQVpW; t8qNF: foreach ($post_ids as $post_id) { goto elHmj; GgmcB: $meta_options = get_post_meta($post_id, HNMG_META, true); goto Sv5mF; elHmj: if (!(get_post($post_id) && current_user_can("\x64\x65\x6c\x65\x74\145\137\x70\x6f\x73\x74", $post_id))) { goto qfR1k; } goto GgmcB; QZlGt: if (empty($meta_options["\150\141\x75\156\137\160\157\x73\x74\x65\x72\x5f\x75\x72\154"])) { goto DBHFt; } goto M4BzJ; qsxmK: if (empty($meta_options["\x68\x61\x75\x6e\137\x74\150\x75\x6d\142\137\x75\162\x6c"])) { goto xCWgY; } goto G9S0L; Shq6O: v2OgT: goto hngy1; q0E1n: DBHFt: goto qsxmK; Sv5mF: if (!$meta_options) { goto v2OgT; } goto QZlGt; M4BzJ: $poster_path = ABSPATH . str_replace(site_url("\x2f"), '', $meta_options["\150\x61\x75\x6e\x5f\160\x6f\x73\164\x65\162\x5f\x75\x72\154"]); goto JXvSF; G9S0L: $thumb_path = ABSPATH . str_replace(site_url("\57"), '', $meta_options["\150\x61\165\x6e\x5f\x74\150\x75\155\x62\137\x75\x72\154"]); goto a4mxC; rdgd_: unlink($thumb_path); goto p2KGl; h_Tcd: zZPqi: goto q0E1n; nS89F: vXbcL: goto m3oB3; hngy1: wp_delete_post($post_id, true); goto X7oT8; a4mxC: if (!file_exists($thumb_path)) { goto aHcgF; } goto rdgd_; JXvSF: if (!file_exists($poster_path)) { goto zZPqi; } goto ZfJn1; X7oT8: qfR1k: goto nS89F; eHMJ5: xCWgY: goto Shq6O; p2KGl: aHcgF: goto eHMJ5; ZfJn1: unlink($poster_path); goto h_Tcd; m3oB3: } goto zw6t1; l_re5: wp_die(); goto rcrE6; dVf8G: wp_send_json_error(["\x6d\145\163\x73\141\147\x65" => "\x4e\157\x20\x70\x6f\x73\164\163\40\163\145\154\x65\143\x74\145\144"]); goto l_re5; zw6t1: D1ttx: goto zYlj6; iSbv5: wp_die(); goto VKEDq; NtGWa: wp_send_json_error(["\x6d\145\163\163\x61\147\145" => "\125\156\141\165\x74\150\x6f\x72\x69\172\x65\144"]); goto iSbv5; zvJhS: wp_die(); goto RfhYE; VKEDq: MR1u3: goto uh3SM; aTEkq: if (current_user_can("\x64\145\154\145\x74\145\137\160\x6f\163\164\163")) { goto MR1u3; } goto NtGWa; PQVpW: if (!empty($post_ids)) { goto YazmT; } goto dVf8G; rcrE6: YazmT: goto t8qNF; RfhYE: } public function hnajax_update_episode() { goto gmq7W; v8B5W: $input = []; goto K3DPR; K3DPR: foreach ($_POST["\x68\141\x75\x6e\155\157\x76\x69\x65\163\x5f\163\x65\x72\166\x65\162\137\x6e\x61\x6d\145"] as $serverIndex => $serverName) { goto zi0ij; pj8PS: hfzXJ: goto sQ8p4; IZwmF: $input[] = $serverdata; goto pj8PS; kvl3c: $serverdata["\x68\141\x75\x6e\x6d\157\166\x69\145\163\137\x73\x65\162\166\145\162\137\x6e\x61\x6d\x65"] = esc_attr($serverName ? $serverName : "\123\x65\x72\x76\145\162\40\x23" . $serverIndex); goto NIX4U; NIX4U: $serverdata["\150\141\x75\156\155\157\166\151\x65\x73\137\163\145\162\x76\x65\x72\x5f\x64\x61\x74\141"] = []; goto QVx3T; PoVz3: B2XjU: goto SGrx7; QVx3T: if (!isset($_POST["\150\x61\165\x6e\x6d\157\166\x69\x65\163\137\145\x70\137\154\151\x6e\x6b"][$serverIndex])) { goto ylmdw; } goto mPWGY; zi0ij: $serverdata = []; goto kvl3c; SGrx7: ylmdw: goto IZwmF; mPWGY: foreach ($_POST["\x68\x61\165\156\155\x6f\x76\x69\x65\163\x5f\145\x70\137\x6c\x69\x6e\x6b"][$serverIndex] as $episodeIndex => $episodeLink) { goto QL1n3; slSFP: foreach ($subLabels as $subIndex => $subLabel) { goto WR8EU; npfAw: rqEEr: goto kH8VQ; tG8oW: cZ2Gd: goto hf2xz; j0Rnq: if (!isset($_POST["\x68\x61\x75\156\x6d\x6f\x76\151\x65\x73\x5f\145\x70\x5f\163\165\142\x5f\x66\151\154\145"][$serverIndex][$episodeIndex][$subIndex])) { goto rqEEr; } goto wGTRo; kH8VQ: goto pG4ms; goto irOPv; wF9B6: $serverdata["\150\x61\165\156\x6d\157\166\151\145\x73\x5f\x73\145\x72\x76\x65\x72\137\144\x61\x74\141"][$_slug]["\150\141\x75\156\155\x6f\x76\x69\x65\163\137\x65\x70\137\x73\165\142\x73"][] = ["\150\141\x75\x6e\x6d\157\166\x69\145\163\137\x65\160\x5f\163\x75\x62\137\146\151\154\145" => trim($subFile), "\150\141\x75\156\155\x6f\166\x69\145\163\x5f\x65\x70\137\163\165\x62\x5f\x6c\x61\142\x65\154" => trim($subLabel), "\150\x61\165\x6e\x6d\157\166\x69\145\163\137\x65\x70\x5f\163\x75\x62\137\153\x69\x6e\144" => "\x63\141\160\x74\x69\157\x6e\163", "\150\x61\165\x6e\155\x6f\166\151\x65\x73\x5f\x65\160\x5f\x73\x75\x62\137\x64\x65\x66\x61\165\x6c\164" => isset($subDefaults[$subIndex]) && $subDefaults[$subIndex] === "\x74\x72\x75\145" ? "\x74\x72\165\x65" : "\146\x61\154\163\145"]; goto tG8oW; xPrmw: $uploadedFile = ["\x6e\141\x6d\145" => $_FILES["\x68\141\x75\x6e\x6d\x6f\166\151\x65\163\137\x65\160\x5f\163\165\x62\x5f\165\x70\x6c\x6f\141\x64"]["\x6e\x61\155\x65"][$serverIndex][$episodeIndex][$subIndex], "\x74\x79\160\x65" => $_FILES["\x68\x61\x75\x6e\x6d\x6f\x76\151\x65\163\x5f\145\160\x5f\163\x75\x62\137\x75\x70\154\x6f\x61\x64"]["\164\171\160\145"][$serverIndex][$episodeIndex][$subIndex], "\164\155\x70\x5f\x6e\141\155\x65" => $_FILES["\x68\141\x75\x6e\155\x6f\x76\151\145\163\137\x65\160\x5f\x73\x75\x62\x5f\x75\160\154\157\x61\144"]["\x74\x6d\160\137\156\141\155\145"][$serverIndex][$episodeIndex][$subIndex], "\x65\x72\x72\157\x72" => $_FILES["\150\141\165\x6e\x6d\157\166\151\x65\x73\137\145\160\137\x73\165\x62\x5f\x75\160\154\157\141\x64"]["\145\162\x72\157\x72"][$serverIndex][$episodeIndex][$subIndex], "\x73\x69\172\145" => $_FILES["\150\141\x75\x6e\x6d\x6f\166\151\145\163\x5f\145\x70\137\x73\165\x62\137\x75\x70\154\x6f\x61\x64"]["\x73\151\172\145"][$serverIndex][$episodeIndex][$subIndex]]; goto KPpLC; wGTRo: $subFile = $_POST["\150\141\x75\x6e\155\157\x76\x69\145\163\x5f\x65\160\x5f\163\165\142\x5f\146\x69\154\x65"][$serverIndex][$episodeIndex][$subIndex]; goto npfAw; YvQn_: if (isset($_FILES["\x68\x61\165\x6e\155\157\x76\x69\x65\x73\x5f\145\x70\x5f\x73\165\142\x5f\165\x70\154\x6f\x61\x64"]["\156\x61\155\145"][$serverIndex][$episodeIndex][$subIndex]) && !empty($_FILES["\x68\141\165\156\155\x6f\166\x69\145\163\x5f\145\x70\x5f\163\165\142\137\165\x70\154\157\x61\144"]["\x6e\141\155\145"][$serverIndex][$episodeIndex][$subIndex])) { goto VJZDc; } goto j0Rnq; tIvPO: if (isset($upload["\x65\x72\162\x6f\162"])) { goto j5U5O; } goto TAJ79; Q0pZo: pG4ms: goto wF9B6; WR8EU: $subFile = ''; goto YvQn_; KPpLC: $upload = wp_handle_upload($uploadedFile, ["\164\x65\x73\x74\x5f\x66\x6f\162\155" => false]); goto tIvPO; hHgo7: j5U5O: goto Q0pZo; TAJ79: $subFile = $upload["\165\x72\154"]; goto hHgo7; irOPv: VJZDc: goto xPrmw; hf2xz: } goto C6dIX; zDUlq: foreach ($_POST["\150\141\x75\156\x6d\x6f\x76\151\145\163\x5f\145\x70\137\154\x69\163\x74\x73\166\137\154\x69\x6e\153"][$serverIndex][$episodeIndex] as $svIndex => $listsvLink) { goto PFZpv; PFZpv: $listsvName = isset($_POST["\150\141\x75\156\155\x6f\166\x69\x65\163\x5f\x65\x70\137\x6c\151\x73\164\x73\x76\x5f\156\141\155\145"][$serverIndex][$episodeIndex][$svIndex]) ? $_POST["\x68\x61\165\156\155\157\x76\151\145\x73\137\145\160\x5f\x6c\151\163\x74\x73\x76\x5f\x6e\141\155\x65"][$serverIndex][$episodeIndex][$svIndex] : ''; goto HY7rC; HY7rC: $listsvType = isset($_POST["\x68\x61\x75\156\x6d\x6f\x76\151\x65\x73\137\145\160\137\x6c\151\x73\x74\x73\166\137\x74\x79\160\x65"][$serverIndex][$episodeIndex][$svIndex]) ? $_POST["\150\x61\165\156\155\157\166\x69\x65\163\137\145\x70\x5f\x6c\x69\163\164\x73\x76\137\164\x79\160\x65"][$serverIndex][$episodeIndex][$svIndex] : ''; goto cpnGW; szEf3: S3gg6: goto FETYe; cpnGW: $serverdata["\150\x61\x75\x6e\155\x6f\166\x69\145\163\x5f\x73\x65\x72\x76\x65\162\137\144\x61\164\x61"][$_slug]["\x68\x61\x75\x6e\155\157\x76\x69\145\163\x5f\145\x70\x5f\x6c\151\163\164\163\166"][] = ["\x68\141\x75\x6e\155\x6f\166\x69\145\x73\x5f\x65\160\x5f\x6c\151\x73\x74\163\x76\137\x6c\151\x6e\153" => trim($listsvLink), "\x68\x61\165\x6e\x6d\157\166\x69\x65\x73\x5f\x65\x70\137\x6c\x69\x73\x74\163\166\137\x6e\141\155\x65" => trim($listsvName), "\x68\141\x75\156\x6d\157\166\x69\x65\x73\x5f\x65\160\x5f\154\151\163\x74\163\166\x5f\164\171\x70\145" => trim($listsvType)]; goto szEf3; FETYe: } goto D82MK; aqQU1: $serverdata["\x68\141\165\156\x6d\157\x76\x69\x65\163\137\x73\x65\x72\166\145\x72\x5f\x64\141\x74\x61"][$_slug] = ["\150\x61\x75\156\x6d\157\166\x69\x65\x73\137\145\x70\137\156\141\x6d\x65" => isset($_POST["\150\x61\x75\156\x6d\157\x76\x69\145\x73\x5f\x65\160\137\156\141\x6d\x65"][$serverIndex][$episodeIndex]) ? $_POST["\150\141\x75\x6e\x6d\157\166\151\x65\163\137\x65\x70\x5f\x6e\141\x6d\x65"][$serverIndex][$episodeIndex] : '', "\150\x61\165\156\x6d\x6f\x76\151\x65\163\137\145\160\137\163\x6c\165\147" => isset($_POST["\150\x61\x75\156\155\x6f\166\151\145\163\x5f\145\160\x5f\163\154\x75\x67"][$serverIndex][$episodeIndex]) ? $_POST["\x68\x61\x75\156\x6d\x6f\x76\x69\145\x73\137\x65\x70\x5f\x73\x6c\165\147"][$serverIndex][$episodeIndex] : '', "\150\141\165\x6e\x6d\x6f\x76\151\x65\x73\137\145\x70\137\x74\171\160\x65" => isset($_POST["\x68\141\165\x6e\155\x6f\x76\151\x65\x73\x5f\x65\x70\x5f\x74\x79\160\145"][$serverIndex][$episodeIndex]) ? $_POST["\x68\141\165\x6e\x6d\157\x76\x69\x65\x73\137\x65\x70\137\x74\x79\160\x65"][$serverIndex][$episodeIndex] : '', "\x68\x61\x75\x6e\155\x6f\166\x69\x65\163\137\145\x70\x5f\x6c\x69\156\153" => $episodeLink, "\150\141\x75\x6e\x6d\157\166\151\x65\163\137\x65\160\137\x73\x75\142\163" => [], "\150\x61\165\156\155\157\x76\151\x65\163\x5f\145\160\x5f\x6c\x69\163\x74\163\166" => []]; goto vVBQX; C6dIX: sNXzS: goto YSpnI; vVBQX: if (!isset($_POST["\150\x61\165\156\155\157\166\x69\x65\163\137\x65\160\x5f\x73\x75\142\x5f\x6c\141\x62\145\x6c"][$serverIndex][$episodeIndex])) { goto zOEu7; } goto TQ2JT; QL1n3: $episode_slug = sanitize_title($_POST["\150\141\165\x6e\x6d\x6f\166\151\x65\x73\137\145\x70\137\163\154\x75\x67"][$serverIndex][$episodeIndex]); goto hrKrA; V4wt9: $subDefaults = $_POST["\150\141\x75\156\x6d\157\x76\x69\x65\x73\137\x65\160\x5f\x73\165\142\x5f\144\x65\x66\x61\x75\x6c\x74"][$serverIndex][$episodeIndex]; goto slSFP; TQ2JT: $subLabels = $_POST["\150\x61\165\x6e\155\157\166\151\145\x73\x5f\145\x70\x5f\163\x75\142\x5f\x6c\x61\142\145\154"][$serverIndex][$episodeIndex]; goto V4wt9; bPQWZ: SO5ai: goto Qil93; hrKrA: $_slug = str_replace("\55", "\137", $episode_slug); goto aqQU1; k8iEI: pczHy: goto bPQWZ; R4Rq2: if (!isset($_POST["\150\141\x75\x6e\155\157\x76\x69\145\163\x5f\145\x70\x5f\x6c\x69\163\x74\163\166\137\154\151\156\x6b"][$serverIndex][$episodeIndex])) { goto pczHy; } goto zDUlq; YSpnI: zOEu7: goto R4Rq2; D82MK: ljl47: goto k8iEI; Qil93: } goto PoVz3; sQ8p4: } goto AQxmq; AQxmq: d8qjZ: goto y7EA3; gmq7W: $post_id = isset($_POST["\160\157\x73\x74\137\x69\x64"]) ? absint($_POST["\160\x6f\163\x74\x5f\x69\x64"]) : ''; goto v8B5W; y7EA3: update_post_meta($post_id, HNMG_EPS, json_encode($input, JSON_UNESCAPED_UNICODE)); goto Lm4YI; Lm4YI: wp_send_json_success(json_encode($input, JSON_UNESCAPED_UNICODE)); goto Sllzc; Sllzc: } public function hnajax_getlist_episodes() { goto e38am; QfKTb: wp_die(); goto cFjYE; d7Bwj: $metaPost = get_post_meta($postID, HNMG_EPS, true); goto otIrs; TI2oa: wp_send_json_success($data); goto QfKTb; otIrs: $data = json_decode(stripslashes($metaPost), true); goto TI2oa; e38am: $postID = isset($_POST["\x70\x6f\x73\164\x5f\151\144"]) ? intval($_POST["\x70\x6f\x73\164\137\151\144"]) : 0; goto d7Bwj; cFjYE: } public function hnajax_remove_server() { goto gvNjf; gvNjf: $post_id = isset($_POST["\160\157\163\x74\137\x69\x64"]) ? absint($_POST["\x70\x6f\163\x74\137\x69\x64"]) : ''; goto GN7Ee; eSINk: unset($hiddensv[$server]); goto PhIKK; h3TBK: hdGVl: goto AzwGn; UGWxq: unset($data[$server]); goto LvssQ; PhIKK: update_post_meta($post_id, "\x65\160\x69\x73\157\x64\x65\137\x73\145\162\166\x65\162\137\x68\151\x64\144\145\x6e", $hiddensv); goto h3TBK; n73qF: $data = json_decode(stripslashes(get_post_meta($post_id, HNMG_EPS, true)), true); goto GBhjm; M59lH: wp_send_json_error(["\x6d\x65\163\163\x61\x67\145" => "\x49\156\x76\141\154\151\144\40\162\x65\x71\x75\x65\163\x74"]); goto kfRi7; J1L9g: wp_send_json_success(["\155\x65\163\x73\141\x67\145" => "\123\145\162\x76\145\162\40\x64\x65\154\x65\x74\145\x64\x20\163\165\143\143\x65\163\x73\x66\165\x6c\x6c\x79"]); goto obQ5z; mtdta: wp_die(); goto D2YyW; GqipI: delete_post_meta($post_id, HNMG_EPS); goto TNqMR; GBhjm: $hiddensv = get_post_meta($post_id, "\145\x70\151\163\157\x64\x65\137\163\145\x72\166\145\x72\x5f\150\151\144\144\145\156", true); goto UGWxq; obQ5z: wp_die(); goto ZBxQh; C3bNh: if (!$hiddensv) { goto hdGVl; } goto eSINk; AzwGn: update_post_meta($post_id, HNMG_EPS, wp_json_encode($metaPost, JSON_UNESCAPED_UNICODE)); goto J1L9g; GN7Ee: $server = isset($_POST["\163\145\x72\166\145\x72"]) ? absint($_POST["\163\145\x72\166\145\x72"]) : ''; goto K4tuM; TNqMR: wp_send_json_success(["\155\x65\x73\x73\141\x67\145" => "\x53\x65\x72\x76\x65\x72\x20\144\145\x6c\x65\164\145\144\x20\x73\x75\143\x63\145\x73\163\x66\165\154\x6c\x79"]); goto mtdta; K4tuM: if (!(empty($server) && $server == "\x30")) { goto T5w7s; } goto GqipI; D2YyW: T5w7s: goto B4Lss; LvssQ: $metaPost = array_values($data); goto C3bNh; B4Lss: if (!(!$post_id || !$server)) { goto EJQaw; } goto M59lH; kfRi7: EJQaw: goto n73qF; ZBxQh: } public function hnajax_publish_post() { goto CQqNU; czDcy: fqJI8: goto CZUOl; mN2d8: NujSa: goto Y0LIQ; XX_6a: goto fqJI8; goto mN2d8; EXGor: wp_update_post($postData); goto KmgLS; Y0LIQ: $postData = array("\111\104" => $post_id, "\160\x6f\x73\x74\137\163\164\141\164\165\163" => "\x70\165\x62\x6c\151\x73\150"); goto EXGor; CQqNU: $post_id = isset($_POST["\160\x6f\163\x74\x5f\x69\x64"]) ? (int) $_POST["\160\157\x73\164\x5f\x69\144"] : ''; goto yzbql; yzbql: if ($post_id) { goto NujSa; } goto P5F2z; KmgLS: wp_send_json_success($post_id); goto czDcy; P5F2z: wp_send_json_error(); goto XX_6a; CZUOl: } public function hnajax_one_importer() { goto TEgIF; rDqZ7: foreach ($list_link as $link) { goto eXDrb; NPLrz: goto TW2SK; goto KLbL3; IMAj4: goto TW2SK; goto iss78; pRXPC: kidgs: goto w6T1a; TCRLI: switch ($import_type) { case "\x6c\x69\163\164\x73\x65\x72\x76\x65\162": goto thDxc; thDxc: $new_episode_data = ["\150\x61\x75\x6e\155\x6f\x76\151\x65\x73\x5f\x65\x70\x5f\154\x69\x73\164\163\166\x5f\156\x61\155\145" => sanitize_text_field(trim($link_parts[0])), "\x68\141\165\x6e\x6d\157\166\x69\x65\163\x5f\x65\x70\x5f\x6c\x69\x73\x74\x73\x76\137\x6c\151\156\x6b" => sanitize_text_field(trim($link_parts[1])), "\150\141\x75\156\155\157\166\151\x65\x73\137\145\160\137\154\151\163\164\163\x76\137\x74\x79\x70\x65" => sanitize_text_field(trim($link_parts[2] ?? ''))]; goto APS8i; rAJMI: $metaPost[$server]["\x68\141\165\156\x6d\157\x76\151\145\163\x5f\163\x65\x72\166\x65\162\137\x64\x61\x74\x61"][$episode_slug]["\x68\141\165\x6e\155\157\x76\151\145\163\137\x65\160\x5f\x6c\151\x73\x74\x73\x76"][] = $new_episode_data; goto vn_rZ; APS8i: $metaPost[$server]["\150\141\x75\156\155\157\166\151\145\x73\137\x73\145\x72\x76\x65\162\x5f\x64\x61\x74\x61"][$episode_slug]["\x68\141\165\x6e\155\x6f\166\x69\145\163\137\x65\x70\x5f\154\x69\x73\164\x73\166"] = $metaPost[$server]["\x68\141\165\156\155\157\166\x69\145\x73\x5f\163\x65\162\x76\145\x72\137\144\141\x74\x61"][$episode_slug]["\150\141\165\x6e\155\157\166\151\145\163\137\x65\x70\137\x6c\151\x73\x74\163\166"] ?? []; goto rAJMI; vn_rZ: goto kidgs; goto W_yzW; W_yzW: case "\x73\x75\x62\x74\x69\164\x6c\x65": goto VHOez; ex041: goto kidgs; goto TCorl; VHOez: $new_subtitle_data = ["\150\x61\x75\156\x6d\157\166\151\145\x73\137\145\160\x5f\163\165\142\137\x6c\x61\142\x65\x6c" => sanitize_text_field(trim($link_parts[0])), "\150\141\165\156\155\157\x76\x69\x65\x73\x5f\x65\160\x5f\163\165\142\137\x6c\x69\x6e\x6b" => sanitize_text_field(trim($link_parts[1]))]; goto SFVF_; ziP89: $metaPost[$server]["\150\x61\x75\156\155\x6f\x76\x69\x65\163\137\163\145\x72\166\145\162\x5f\144\x61\164\141"][$episode_slug]["\x68\141\x75\x6e\155\x6f\x76\x69\x65\163\x5f\x65\x70\x5f\x73\165\142\x73"][] = $new_subtitle_data; goto ex041; SFVF_: $metaPost[$server]["\150\x61\x75\156\155\157\x76\x69\145\x73\x5f\x73\145\x72\166\145\x72\x5f\x64\x61\x74\x61"][$episode_slug]["\x68\141\165\x6e\155\157\x76\x69\145\x73\x5f\145\160\137\x73\165\142\x73"] = $metaPost[$server]["\150\141\x75\156\x6d\x6f\166\x69\x65\x73\137\163\x65\x72\x76\x65\162\137\x64\x61\164\x61"][$episode_slug]["\x68\141\165\x6e\x6d\x6f\x76\151\x65\163\137\x65\160\137\x73\165\142\163"] ?? []; goto ziP89; TCorl: case "\154\x69\x73\164\145\x70\151\x73\x6f\144\145": goto BTBrG; jFCLj: goto kidgs; goto Ni9Ss; BTBrG: list($ep_name, $ep_link, $ep_type) = $link_parts; goto W2z7Q; vcZyh: $metaPost[$server]["\150\x61\x75\x6e\x6d\157\x76\x69\145\163\137\163\x65\x72\x76\145\162\137\144\141\164\141"][$ep_slug] = ["\x68\x61\165\x6e\x6d\x6f\166\151\x65\x73\x5f\x65\x70\137\x6e\141\x6d\x65" => sanitize_text_field(trim($ep_name)), "\150\141\x75\x6e\x6d\157\166\151\x65\x73\x5f\145\x70\137\x73\x6c\165\147" => str_replace("\x2d", "\x5f", sanitize_title(trim($ep_slug))), "\x68\141\165\156\155\157\166\151\x65\163\137\145\160\137\x74\171\x70\x65" => sanitize_text_field(trim($ep_type)), "\x68\x61\x75\x6e\155\157\166\x69\x65\163\x5f\x65\160\x5f\x6c\x69\x6e\153" => sanitize_text_field(trim($ep_link)), "\x68\141\165\x6e\x6d\157\x76\151\x65\x73\137\145\x70\137\x73\165\142\163" => [], "\x68\141\165\156\x6d\157\x76\151\x65\163\x5f\145\160\x5f\154\151\163\164\x73\166" => []]; goto jFCLj; W2z7Q: $ep_slug = sanitize_text_field(trim($ep_name)); goto vcZyh; Ni9Ss: } goto XMlmF; KLbL3: J_U05: goto TCRLI; XMlmF: tdTov: goto pRXPC; kSZWu: $link_parts = explode("\x7c", $link); goto VI1KL; eXDrb: if (!empty($link)) { goto oot5X; } goto IMAj4; VI1KL: if (!(count($link_parts) < 2)) { goto J_U05; } goto NPLrz; iss78: oot5X: goto kSZWu; w6T1a: TW2SK: goto JqFdi; JqFdi: } goto CYW2m; WLYIR: $server = isset($_POST["\x73\145\162\166\145\162"]) ? absint($_POST["\x73\x65\162\x76\145\162"]) : ''; goto xkVNu; xkVNu: $server_name = isset($_POST["\163\145\162\166\x65\x72\x5f\x6e\x61\x6d\145"]) ? sanitize_text_field(trim($_POST["\x73\145\x72\166\x65\162\x5f\156\141\155\x65"])) : "\x53\x65\x72\166\145\x72\x20\x23\x31"; goto lzHvQ; XX2PA: update_post_meta($post_id, HNMG_EPS, wp_json_encode($metaPost, JSON_UNESCAPED_UNICODE)); goto bxUGi; bxUGi: wp_send_json_success($metaPost); goto fWgAC; jGfOD: $episode_slug = sanitize_text_field(trim($_POST["\x65\160\151\163\157\x64\145\x5f\163\x6c\x75\147"] ?? '')); goto Kfxj0; TEgIF: $post_id = isset($_POST["\160\157\x73\x74\x5f\151\144"]) ? absint($_POST["\x70\157\x73\x74\137\151\144"]) : ''; goto WLYIR; CYW2m: XUHnr: goto XX2PA; irrLp: $import_type = sanitize_text_field(trim($_POST["\151\155\x70\x6f\162\164\137\x74\x79\x70\145"] ?? '')); goto jGfOD; Kfxj0: $metaPost = json_decode(get_post_meta($post_id, HNMG_EPS, true), true) ?? []; goto rDqZ7; lzHvQ: $list_link = isset($_POST["\154\151\163\x74\137\x6c\151\156\x6b"]) ? json_decode(stripslashes($_POST["\154\151\163\x74\137\x6c\151\156\x6b"]), true) : []; goto irrLp; fWgAC: } public function hnajax_list_serverid() { goto zTmmw; kAfi3: wp_send_json_error(__("\x4e\157\x20\145\x70\x69\x73\x6f\144\x65\x73\x20\146\157\165\x6e\x64", "\x68\x6e\x6d\x67\x65\160\151\163")); goto TIVhe; AxDzP: $server = isset($_POST["\163\x65\x72\166\x65\x72"]) ? absint($_POST["\x73\145\162\x76\145\162"]) : ''; goto Q24ke; TIVhe: goto tyGEs; goto GU70Q; V3hU8: $data = json_decode(stripslashes($episode_meta)); goto nlfRU; Fgd3R: $options = "\74\x6f\x70\x74\x69\157\x6e\40\166\141\x6c\x75\145\x3d\42\42\40\x69\144\75\x22\x63\x68\157\157\x73\145\55\145\x70\x22\x3e" . __("\x43\x68\x6f\x6f\163\145\x20\105\160\x69\163\157\144\x65", "\150\x6e\x6d\x67\x65\x70\151\163") . "\74\57\157\160\x74\x69\x6f\156\x3e"; goto uCPbZ; ZNvQt: tyGEs: goto edayn; uCPbZ: foreach ($data[$server]->haunmovies_server_data as $key => $val) { $options .= "\74\157\160\164\x69\157\x6e\x20\x76\x61\x6c\x75\145\75\42" . $key . "\x22\x3e" . esc_html($val->haunmovies_ep_name) . "\x3c\57\157\x70\164\x69\157\x6e\76"; ym3us: } goto eP9CC; eP9CC: g21RJ: goto h7Q0K; edayn: exit; goto tkASF; GU70Q: YF7V_: goto Fgd3R; Q24ke: $episode_meta = get_post_meta($post_id, HNMG_EPS, true); goto V3hU8; zTmmw: $post_id = isset($_POST["\x70\x6f\163\164\137\151\x64"]) ? absint($_POST["\160\x6f\163\164\137\151\x64"]) : ''; goto AxDzP; nlfRU: if (!empty($data) && isset($data[$server]->haunmovies_server_data)) { goto YF7V_; } goto kAfi3; h7Q0K: wp_send_json_success($options); goto ZNvQt; tkASF: } public function hnajax_two_importer() { goto bOzhe; oKJfQ: $json[$server]["\150\141\x75\156\155\157\166\x69\145\x73\x5f\163\x65\x72\x76\x65\162\137\156\141\155\145"] = $server_name; goto DYsMN; u0VpR: $server = isset($_POST["\x73\145\162\166\145\162"]) ? absint($_POST["\x73\x65\162\166\145\x72"]) : 0; goto smabY; XXXAL: Mg2MJ: goto G8AqR; smabY: $server_name = isset($_POST["\x73\145\162\x76\145\162\137\x6e\x61\x6d\x65"]) ? sanitize_text_field(trim($_POST["\163\x65\x72\x76\x65\x72\137\x6e\x61\155\145"])) : "\123\x65\162\x76\x65\162\x20\43\x31"; goto Fe0x7; Fe0x7: $list_link = isset($_POST["\154\151\x73\x74\x5f\154\151\x6e\153"]) ? json_decode(stripslashes($_POST["\154\x69\x73\164\x5f\x6c\x69\x6e\153"]), true) : []; goto gai_j; gai_j: $json = json_decode(stripcslashes(get_post_meta($post_id, HNMG_EPS, true)), true); goto oKJfQ; uQUcg: wp_send_json_success($json); goto JALaS; DYsMN: foreach ($list_link as $links) { goto jlXiP; aDVgm: okteW: goto HBgeK; UndnH: if (!($subtitle_arr[0] !== '')) { goto okteW; } goto N_tt3; JCc4F: $array = array("\x68\141\x75\156\x6d\x6f\166\151\145\x73\137\x65\160\x5f\156\x61\x6d\145" => sanitize_text_field(trim($ep_name)), "\150\x61\x75\x6e\155\x6f\166\x69\145\x73\x5f\x65\x70\137\x73\x6c\x75\x67" => str_replace("\x2d", "\137", sanitize_title(trim($ep_slug))), "\150\141\165\156\155\x6f\x76\151\145\x73\x5f\145\x70\137\164\171\x70\145" => sanitize_text_field(trim($ep_type)), "\x68\x61\165\x6e\155\157\166\151\x65\163\x5f\145\160\137\x6c\151\x6e\x6b" => sanitize_text_field(trim($ep_link)), "\150\x61\x75\x6e\x6d\157\x76\x69\145\x73\x5f\x65\x70\137\163\x75\x62\x73" => array(), "\x68\141\x75\156\155\157\166\x69\x65\x73\x5f\145\160\137\x6c\151\163\x74\x73\166" => array()); goto TmJaq; ZYobU: klzRO: goto ZdgIs; jQfvm: if (!($server_data[0] !== '')) { goto zHDS2; } goto mEfZb; jlXiP: if (!($links != '')) { goto FcJTh; } goto WdTgq; kaGyR: FcJTh: goto bGFn6; w29if: zHDS2: goto Pdr0j; WdTgq: $info = explode("\174", $links); goto jtqPr; bGFn6: x4oy0: goto srbN4; Pdr0j: W7dwx: goto kaGyR; ZdgIs: $json[$server]["\x68\x61\165\156\155\157\166\151\145\x73\x5f\163\145\x72\x76\x65\x72\137\x64\x61\x74\x61"][$_slug]["\150\141\165\156\x6d\157\x76\151\145\163\137\145\x70\x5f\x6c\151\163\164\x73\166"] = $dataserver; goto w29if; xStgV: yYNqK: goto pucQL; DtuVF: $server_data = str_replace("\x73\x65\162\x76\x65\x72\75", '', explode("\x2c", $info[4])); goto jQfvm; N_tt3: foreach ($subtitle_arr as $key => $subfile) { goto BKXdz; mDRx4: tzqoi: goto ngEuH; w_wAo: $subtitle_info[$key]["\x68\141\165\x6e\155\x6f\166\x69\x65\163\x5f\145\x70\137\x73\165\142\x5f\x66\x69\154\x65"] = sanitize_text_field(trim($subfile[0])); goto yxhdr; cjYbp: $subtitle_info[$key]["\x68\x61\x75\x6e\x6d\157\166\151\x65\x73\137\x65\160\137\163\165\x62\137\x64\x65\146\x61\x75\154\164"] = $key == 0 ? true : false; goto mDRx4; BKXdz: $subfile = explode("\52", $subfile); goto w_wAo; yxhdr: $subtitle_info[$key]["\150\141\165\156\x6d\157\166\x69\x65\x73\137\x65\160\137\x73\x75\x62\137\x6c\x61\142\145\154"] = sanitize_text_field(trim($subfile[1])); goto cjYbp; ngEuH: } goto xStgV; jUb3G: $_slug = str_replace("\x2d", "\137", $ep_slug); goto JCc4F; eseDh: if (!isset($info[4])) { goto W7dwx; } goto DtuVF; pucQL: $json[$server]["\x68\x61\x75\x6e\x6d\157\166\x69\x65\x73\x5f\x73\145\x72\x76\145\x72\x5f\x64\141\x74\x61"][$_slug]["\x68\141\x75\x6e\155\157\x76\x69\x65\163\137\x65\160\x5f\163\x75\142\x73"] = $subtitle_info; goto aDVgm; PASbe: if (!isset($info[3])) { goto XZOzi; } goto o7yWd; u8z1x: $ep_slug = preg_match("\57\50\x5b\141\55\172\135\x2b\51\x2f\x69\163", $ep_name) ? sanitize_title($ep_name) : sanitize_title($ep_name); goto jUb3G; jtqPr: list($ep_name, $ep_link, $ep_type) = $info; goto u8z1x; mEfZb: foreach ($server_data as $key => $sv) { goto c78z1; bNkAk: $dataserver[$key]["\x68\x61\x75\156\x6d\x6f\x76\x69\145\x73\x5f\x65\x70\x5f\x6c\151\x73\x74\163\x76\x5f\154\x69\156\153"] = sanitize_text_field(trim($sv[0])); goto aPBxT; PkCfK: $dataserver[$key]["\150\141\165\156\155\x6f\166\151\x65\163\x5f\145\x70\x5f\154\151\x73\164\x73\x76\137\164\171\160\x65"] = sanitize_text_field(trim($sv[2])); goto Qnko5; aPBxT: $dataserver[$key]["\x68\x61\165\x6e\155\x6f\x76\151\x65\x73\137\x65\160\137\x6c\151\x73\164\163\166\137\156\141\155\145"] = sanitize_text_field(trim($sv[1])); goto PkCfK; Qnko5: AkHmG: goto WX4b2; c78z1: $sv = explode("\x2a", $sv); goto bNkAk; WX4b2: } goto ZYobU; TmJaq: $json[$server]["\150\141\165\156\155\157\166\x69\145\x73\x5f\163\x65\162\x76\145\x72\x5f\144\141\x74\x61"][$_slug] = $array; goto PASbe; HBgeK: XZOzi: goto eseDh; o7yWd: $subtitle_arr = str_replace("\x73\165\142\x74\x69\x74\x6c\x65\x3d", '', explode("\54", $info[3])); goto UndnH; srbN4: } goto XXXAL; G8AqR: update_post_meta($post_id, HNMG_EPS, wp_json_encode($json, JSON_UNESCAPED_UNICODE)); goto uQUcg; bOzhe: $post_id = isset($_POST["\x70\157\x73\x74\x5f\151\144"]) ? absint($_POST["\160\x6f\163\x74\x5f\x69\144"]) : ''; goto u0VpR; JALaS: } public function hnajax_addnewserver() { goto dx7zN; LKyK6: wp_send_json_success($metaPost); goto Mrxgk; KqHr3: update_post_meta($post_id, HNMG_EPS, wp_json_encode($metaPost, JSON_UNESCAPED_UNICODE)); goto LKyK6; ozc0_: foreach ($list_link as $link) { goto jAVpU; eBLIm: $ep_link = esc_url_raw($data[1]); goto o5WM4; dpQU_: goto NLT5c; goto Lkses; Lkses: pJp06: goto GW57e; NVGb1: $ep_slug = preg_match("\57\x28\133\x61\55\x7a\135\53\x29\x2f\151\x73", $ep_name) ? sanitize_title($ep_name) : sanitize_title("{$ep_name}"); goto Txybk; X3scx: $metaPost[$server]["\150\x61\165\156\155\x6f\x76\x69\145\x73\x5f\163\145\162\x76\x65\162\x5f\x64\141\x74\141"][$ep_slug] = ["\150\x61\x75\x6e\x6d\x6f\x76\x69\145\x73\x5f\145\x70\x5f\156\141\155\x65" => sanitize_text_field(trim($ep_name)), "\x68\141\165\x6e\x6d\x6f\x76\x69\x65\163\x5f\145\160\137\x73\x6c\x75\x67" => str_replace("\x2d", "\x5f", sanitize_title(trim($ep_slug))), "\150\141\x75\156\x6d\157\x76\x69\145\163\137\145\160\137\x74\x79\160\x65" => sanitize_text_field(trim($ep_type)), "\150\x61\165\x6e\x6d\x6f\x76\x69\x65\163\137\x65\160\137\154\x69\156\x6b" => sanitize_text_field(trim($ep_link)), "\x68\141\x75\156\155\157\x76\x69\x65\163\x5f\x65\x70\137\x73\x75\142\x73" => [], "\150\x61\x75\156\x6d\x6f\x76\151\x65\x73\137\x65\x70\x5f\x6c\151\163\164\x73\166" => []]; goto APorC; F2_c0: if (!(count($data) < 3)) { goto pJp06; } goto dpQU_; jAVpU: $data = explode("\x7c", $link); goto F2_c0; o5WM4: $ep_type = sanitize_text_field($data[2]); goto NVGb1; GW57e: $ep_name = sanitize_text_field($data[0]); goto eBLIm; Txybk: $ep_slug = str_replace("\55", "\x5f", $ep_slug); goto X3scx; APorC: NLT5c: goto KxnHr; KxnHr: } goto wROZQ; bQgrh: R6qDk: goto yxPEu; n6Deg: $server_name = isset($_POST["\x73\x65\162\166\145\x72\x5f\x6e\x61\x6d\x65"]) ? sanitize_text_field($_POST["\x73\145\x72\x76\145\x72\137\x6e\x61\x6d\x65"]) : ''; goto DdFHP; DdFHP: $list_link = isset($_POST["\x6c\x69\x73\x74\x5f\154\x69\156\x6b"]) ? json_decode(stripslashes($_POST["\154\x69\x73\x74\x5f\x6c\151\156\x6b"]), true) : []; goto iYNLC; iYNLC: if (!(!$post_id || !$server || !$server_name || !is_array($list_link))) { goto R6qDk; } goto n8DPY; wROZQ: LzuwZ: goto KhqpM; KhqpM: $this->helper->set_post_modified($post_id); goto KqHr3; t5UU2: $server = isset($_POST["\x73\145\162\x76\x65\162"]) ? absint($_POST["\163\145\162\x76\145\162"]) : 0; goto n6Deg; yxPEu: $metaPost = json_decode(stripslashes(get_post_meta($post_id, HNMG_EPS, true)), true); goto mDTlz; dx7zN: $post_id = isset($_POST["\160\x6f\163\164\137\x69\144"]) ? absint($_POST["\160\157\163\x74\137\x69\x64"]) : 0; goto t5UU2; mDTlz: $metaPost[$server]["\x68\141\x75\x6e\155\x6f\166\151\145\x73\x5f\x73\145\162\x76\145\162\x5f\x6e\x61\155\145"] = $server_name; goto ozc0_; n8DPY: wp_send_json_error(["\x6d\145\x73\x73\141\147\145" => __("\111\x6e\x76\x61\154\151\x64\40\x64\x61\164\141\40\160\x72\x6f\x76\x69\144\x65\x64\56", "\150\x6e\155\147\145\x70\x69\x73")]); goto bQgrh; Mrxgk: } public function hnajax_update_postmeta() { goto cW5Jm; mpCRs: $meta_data = get_post_meta($post_id, HNMG_META, true); goto IMLxF; IMLxF: $metaPost["\150\x61\165\x6e\137\160\157\x73\x74\x65\x72\x5f\165\x72\154"] = sanitize_text_field($meta_data["\150\141\x75\156\x5f\x70\x6f\163\164\x65\x72\137\x75\x72\x6c"]); goto RCcJM; jQBOn: sleep(1); goto vuWYV; RCcJM: $metaPost["\150\141\165\156\137\164\150\x75\155\x62\x5f\x75\x72\x6c"] = sanitize_text_field($meta_data["\x68\x61\165\x6e\137\164\150\165\x6d\x62\137\165\162\154"]); goto ra8lU; AMlTs: $post_meta = isset($_POST["\x70\157\x73\164\x5f\x6d\145\164\141"]) ? json_decode(stripslashes($_POST["\160\157\163\164\x5f\155\145\x74\x61"]), true) : []; goto V8zzA; mpGAE: wYOz2: goto mpCRs; SG5Ty: $this->helper->set_post_modified($post_id); goto V6kkB; AwEB4: set_post_format($post_id, $formality); goto Yonk9; GAhXB: $formality = $this->helper->get_post_format($post_meta["\x68\141\165\x6e\x5f\155\x6f\166\x69\x65\137\146\x6f\162\155\x61\x6c\x69\x74\171"]); goto AwEB4; Yonk9: wp_send_json_success($metaPost); goto xhASO; V6kkB: update_post_meta($post_id, HNMG_META, $metaPost); goto jQBOn; cFR71: $metaPost["\x68\x61\x75\156\137\x61\x64\144\137\x74\157\x5f\x77\x69\x64\147\145\x74"] = $widget_values; goto SG5Ty; kVI3I: wp_set_object_terms($post_id, $post_meta["\150\x61\165\x6e\137\x6d\157\166\x69\x65\x5f\x73\x74\x61\164\x75\x73"], "\x73\164\x61\x74\165\163", false); goto gsME4; ra8lU: $widget_values = []; goto ujvKK; bbhuR: wp_die(); goto mpGAE; ujvKK: foreach ($post_meta as $item) { goto ZKun2; ZKun2: if (!(isset($item["\x6e\141\155\x65"]) && isset($item["\166\x61\x6c\165\x65"]))) { goto Q_F8O; } goto YWgbq; FI1FV: if (!($item["\156\141\155\145"] == "\150\x61\165\156\x5f\x61\x64\144\137\x74\157\x5f\167\x69\x64\x67\x65\164")) { goto lIFSO; } goto rltDW; Qb3_R: Q_F8O: goto SM2Bx; mMGJF: lIFSO: goto Qb3_R; YWgbq: $metaPost[$item["\x6e\141\155\145"]] = sanitize_text_field($item["\166\x61\x6c\165\x65"]); goto FI1FV; rltDW: $widget_values[] = sanitize_text_field($item["\x76\x61\154\165\x65"]); goto mMGJF; SM2Bx: b0ust: goto pt3DR; pt3DR: } goto OUfAF; V8zzA: if (is_array($post_meta)) { goto wYOz2; } goto cEBw8; cEBw8: wp_send_json_error(["\155\x65\x73\x73\141\x67\145" => "\x49\x6e\x76\141\154\x69\144\x20\160\x6f\163\164\x20\x6d\x65\164\x61\40\146\157\x72\x6d\141\x74"]); goto bbhuR; xmqn2: $server = isset($_POST["\163\145\162\166\x65\x72"]) ? absint($_POST["\163\145\162\166\x65\162"]) : ''; goto AMlTs; cW5Jm: $post_id = isset($_POST["\160\157\x73\164\137\151\x64"]) ? absint($_POST["\x70\x6f\x73\164\x5f\151\144"]) : ''; goto xmqn2; gsME4: wp_set_object_terms($post_id, $post_meta["\150\x61\165\156\137\x61\144\x64\137\164\157\137\167\151\x64\x67\145\164"], "\x70\x6f\163\x74\137\157\160\164\151\x6f\x6e\x73", false); goto GAhXB; vuWYV: $post_meta = get_post_meta($post_id, HNMG_META, true); goto kVI3I; OUfAF: uIGuR: goto cFR71; xhASO: } public function hnajax_export_episodes() { goto mUAqg; QcU37: $list_link_string = implode("\xd\xa", $list_link); goto f2ifT; wRaM8: if (is_dir(HNMG_EXPORT)) { goto LLj4R; } goto qBClj; mUAqg: $post_id = sanitize_text_field($_POST["\x70\x6f\163\164\137\151\144"]); goto hRqJn; qBClj: wp_mkdir_p(HNMG_EXPORT); goto cwr5l; hRqJn: $server = sanitize_text_field($_POST["\x73\x65\x72\x76\x65\162\x5f\x69\x64"]); goto dzMcd; PTr2H: $file_path = HNMG_EXPORT . "\x2f" . sanitize_file_name($file_name); goto HLZRg; G8NqK: $list_link = array_map(function ($episode) { goto KTmnx; N3xFP: $list_server = array_map(function ($server_data) { return implode("\52", [$server_data["\x68\x61\165\x6e\x6d\157\166\x69\145\163\137\145\160\x5f\x6c\x69\163\x74\163\166\137\x6e\x61\x6d\145"], $server_data["\x68\141\x75\156\x6d\x6f\x76\x69\145\163\x5f\145\160\x5f\x6c\x69\163\164\x73\x76\x5f\x6c\x69\x6e\153"], $server_data["\x68\x61\165\156\155\x6f\x76\x69\x65\163\137\x65\160\x5f\x6c\x69\x73\x74\x73\166\x5f\x74\x79\160\145"]]); }, $episode["\x68\141\x75\x6e\155\157\166\x69\x65\163\137\x65\x70\x5f\x6c\151\x73\x74\163\166"] ?? []); goto fJmUG; KN3ML: return implode("\174", [$episode["\150\141\x75\x6e\155\157\x76\x69\145\163\137\145\160\x5f\x6e\x61\155\145"], $episode["\150\141\x75\156\x6d\157\166\151\145\163\x5f\145\x70\x5f\x6c\x69\x6e\x6b"], $episode["\x68\x61\x75\156\x6d\157\x76\x69\x65\x73\x5f\x65\160\137\x74\x79\160\145"]]) . $subtitle_string . $lists_v; goto CvfWS; DWJYe: $lists_v = !empty($list_server) ? "\174\x73\x65\x72\x76\145\x72\x3d" . implode("\x2c", $list_server) : ''; goto KN3ML; KTmnx: $subtitle_list = array_map(function ($sub) { return $sub["\x68\141\x75\x6e\155\157\x76\151\145\163\137\145\x70\137\x73\x75\x62\x5f\146\151\154\145"] . "\52" . $sub["\150\141\165\156\x6d\157\x76\151\x65\x73\x5f\x65\160\137\x73\x75\142\x5f\154\x61\142\x65\x6c"]; }, $episode["\x68\141\x75\x6e\155\x6f\166\151\x65\163\137\x65\x70\x5f\x73\x75\x62\163"] ?? []); goto N3xFP; fJmUG: $subtitle_string = !empty($subtitle_list) ? "\x7c\163\x75\x62\x74\151\x74\154\x65\x3d" . implode("\x2c", $subtitle_list) : ''; goto DWJYe; CvfWS: }, $json[$server]["\x68\x61\x75\156\x6d\x6f\166\x69\145\x73\137\163\145\x72\x76\x65\x72\x5f\144\x61\164\x61"] ?? []); goto wRaM8; cwr5l: LLj4R: goto QcU37; HLZRg: file_put_contents($file_path, $list_link_string); goto YY_Ao; YY_Ao: wp_send_json(["\163\x74\x61\164\x75\163" => true, "\x6d\163\147" => "\74\144\151\x76\x20\x63\154\x61\163\x73\x3d\42\x74\145\x78\164\x2d\x62\141\x73\x65\40\x66\157\x6e\164\55\x62\157\154\144\40\x70\x78\x2d\x34\40\160\171\x2d\x36\40\164\x65\170\x74\x2d\143\145\156\x74\x65\162\x22\x3e\x3c\141\x20\x68\x72\145\x66\x3d\42" . esc_url(content_url("\x66\x69\154\155\x2d\x65\x78\160\157\162\164") . "\57" . sanitize_file_name($file_name)) . "\42\x20\x64\157\x77\156\154\x6f\141\144\x3e\104\x6f\x77\x6e\x6c\x6f\x61\144\x20" . esc_html($file_name) . "\74\x2f\141\x3e\74\x2f\144\x69\166\76"]); goto CLOFO; f2ifT: $file_name = "\105\160\151\163\157\144\x65\x20\55\x20" . get_the_title($post_id) . "\40\55\x20" . str_replace("\43", '', $json[$server]["\x68\141\x75\156\x6d\x6f\166\x69\x65\x73\x5f\163\145\x72\x76\x65\x72\137\x6e\x61\155\x65"]) . "\56\164\170\x74"; goto PTr2H; dzMcd: $json = json_decode(stripslashes(get_post_meta($post_id, HNMG_EPS, true)), true); goto G8NqK; CLOFO: } public function hnsave_server_hidden() { goto aprXo; YXVUM: $post_id = isset($_POST["\160\x6f\x73\164\x5f\x69\x64"]) ? absint($_POST["\160\x6f\163\164\x5f\151\144"]) : ''; goto cmDjf; aprXo: $value = isset($_POST["\x76\141\x6c\165\x65"]) ? (array) $_POST["\x76\x61\x6c\165\x65"] : []; goto YXVUM; cmDjf: update_post_meta($post_id, "\145\160\x69\163\157\144\x65\137\163\145\x72\166\x65\x72\x5f\150\x69\144\x64\x65\156", $value); goto LA8t0; LA8t0: wp_die(); goto fn3it; fn3it: } public function hnajax_force_delete_post() { wp_delete_post($_POST["\160\x6f\163\164\137\x69\x64"], true); die; } }
