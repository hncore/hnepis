<?php
/*   __________________________________________________
    |  		Code By HauN - HauNYTB.COM  2.0.14    	  |
    |          Telegram: https://t.me/haunytb         |
    |    	   Url : https://haunytb.com    		  |
    |_________________________________________________|
*/
 namespace HNMG\EP_Load; class EP_Rewrite { public function register() { goto xPv_S; dGeN5: add_filter("\161\165\x65\x72\171\137\166\141\x72\163", [$this, "\x68\156\x5f\162\145\x67\151\163\x74\x65\x72\137\161\165\x65\x72\x79\x5f\x76\x61\162\163"]); goto LLg7f; ozjBh: add_action("\x69\x6e\x69\164", [$this, "\x61\144\x64\x5f\x63\x75\163\x74\157\x6d\137\x72\x65\167\x72\151\164\145\x5f\x72\165\x6c\x65\163"], 20, 1); goto dGeN5; LLg7f: add_action("\x69\156\151\x74", [$this, "\x68\141\x75\x6e\x5f\x73\x65\164\137\160\145\162\155\141\x6c\x69\156\153\x5f\163\164\x72\x75\143\164\165\162\x65"]); goto Nfyah; xPv_S: add_action("\151\x6e\151\x74", [$this, "\x68\x6e\x5f\x72\x65\167\x72\x69\x74\x65\137\x72\165\x6c\x65"], 20, 1); goto ozjBh; Nfyah: } public function hn_rewrite_rule() { goto wx9iJ; Rt_T4: $filter = hnmg_value("\x68\x61\165\x6e\137\x66\151\x6c\x74\x65\x72\137\163\x65\x6c\x65\x63\164"); goto i6kU4; l8exK: flush_rewrite_rules(); goto W0Cnd; YyLx2: add_rewrite_rule("\x5e\141\x7a\55\154\x69\x73\x74\57\x28\x5b\136\57\135\52\51\57\x28\x5b\x5e\57\x5d\52\51\57\x28\133\136\57\135\x2a\x29\x3f", "\151\156\144\145\170\x2e\x70\150\160\x3f\160\141\147\x65\x6e\141\155\145\x3d\x61\172\x2d\x6c\151\163\x74\x26\x6c\x65\164\x74\x65\162\75\44\155\x61\164\143\150\145\x73\133\x31\135\46\160\x61\x67\x65\x3d\x24\x6d\141\x74\x63\x68\x65\x73\133\62\x5d\46\160\141\x67\x65\x31\75\x24\155\141\164\143\x68\145\163\133\63\135", "\164\x6f\160"); goto l8exK; i6kU4: $path_pattern = "\x5e\146\x69\x6c\x74\145\162\x2d\155\157\166\151\x65\163\x2f" . str_repeat("\50\133\136\x2f\x5d\x2a\51\x2f", count($filter)); goto gIX_O; zAJs1: if (!hnmg_value("\150\x61\165\x6e\x5f\146\x69\x6c\x74\145\x72\x5f\145\156\141\x62\x6c\145")) { goto gUyyw; } goto Rt_T4; uJvO1: $watch = preg_replace_callback("\57\134\173\x28\x5b\x5e\x7d\135\x2b\51\134\x7d\57", function ($matches) { goto f1mVe; eGcVl: list($before, $after) = explode("\x7c", $matches[1]); goto WX7AJ; xmdE7: if (!(strpos($matches[1], "\174") !== false)) { goto fykgD; } goto eGcVl; gWaBq: wKaca: goto XySZY; sAH_r: switch ($after) { case "\x45\x50": return $before . "\x28\133\x5e\x2f\x5d\52\x29"; case "\123\126": return $before . "\50\133\136\x2f\135\x2a\51"; } goto whKSN; f1mVe: if (!($matches[1] == "\x48\117\x4d\x45")) { goto KQUTd; } goto pWatE; XySZY: fykgD: goto qxCqp; E3dnH: J3GIi: goto sAH_r; WX7AJ: switch ($before) { case "\105\x50": return "\50\x5b\x5e\57\x5d\x2a\51" . $after; case "\123\x56": return "\x28\x5b\x5e\x2f\135\52\x29" . $after; case "\x48": case "\x57": return $after; } goto WWBza; qxCqp: return "\50\133\136\x2f\135\x2a\51"; goto IjaeS; whKSN: cszcO: goto gWaBq; pWatE: return ''; goto LKFAw; LKFAw: KQUTd: goto xmdE7; WWBza: IdvbZ: goto E3dnH; IjaeS: }, $urltype); goto dmgZB; wx9iJ: $urltype = preg_replace("\x2f\x5b\x5e\x61\55\172\101\x2d\132\x30\55\71\173\175\134\x2e\x5c\x2d\134\x2f\x7c\135\57", '', hnmg_value("\150\x6e\143\157\x72\145\137\x75\x72\x6c\137\x74\x79\160\145")); goto uJvO1; Iu6Wp: foreach ($filter as $index => $param) { $query_string .= "\46{$param}\x3d\x24\x6d\141\164\x63\x68\145\163\x5b" . ($index + 1) . "\135"; aQcO0: } goto EAeSR; EAeSR: kf4pY: goto WBEot; phR2Z: $with_pagination = $query_string . "\x26\x70\x61\x67\145\75\44\155\141\x74\143\x68\x65\x73\133" . (count($filter) + 1) . "\135\46\x70\141\x67\x65\x31\75\x24\155\x61\164\143\150\145\163\x5b" . (count($filter) + 2) . "\x5d"; goto pCPjw; afHzu: add_rewrite_rule(rtrim($path_pattern, "\x2f\77") . "\x2f\77\44", $query_string, "\x74\x6f\160"); goto qEZBO; pCPjw: add_rewrite_rule(rtrim($path_pattern_with_pagination, "\57\x3f") . "\x2f\77\44", $with_pagination, "\164\157\x70"); goto afHzu; qEZBO: gUyyw: goto kRY90; WBEot: $path_pattern_with_pagination = $path_pattern . "\x28\133\136\x2f\x5d\x2a\x29\x2f\x28\x5b\x5e\57\x5d\x2a\x29\57\x3f"; goto phR2Z; gIX_O: $query_string = "\x69\156\x64\145\x78\x2e\x70\x68\160\77\160\x61\147\145\156\x61\x6d\x65\x3d\146\x69\154\164\x65\x72\x2d\x6d\157\166\x69\145\x73"; goto Iu6Wp; wvG2b: add_rewrite_rule("\136\x61\172\55\x6c\151\x73\164\57\x28\x5b\136\57\135\x2a\x29\x3f", "\x69\x6e\144\x65\x78\56\160\x68\x70\x3f\160\141\147\145\156\x61\155\x65\75\x61\x7a\x2d\154\x69\163\x74\46\154\x65\x74\164\145\162\x3d\x24\155\x61\164\x63\150\145\x73\x5b\61\135", "\164\157\x70"); goto YyLx2; dmgZB: add_rewrite_rule("\x5e" . $watch . "\x3f\x24", "\151\156\144\145\x78\56\160\x68\x70\77\156\x61\155\145\75\x24\x6d\x61\164\x63\x68\145\163\x5b\61\135\46\145\160\x69\163\157\x64\145\x5f\x73\154\x75\147\75\44\x6d\x61\x74\x63\150\x65\163\133\62\135\46\x68\x61\x75\156\x5f\163\x65\162\166\145\x72\x3d\x24\x6d\141\164\143\150\x65\163\133\x33\135\46\x68\141\x75\x6e\x5f\141\x63\164\151\157\x6e\75\x77\141\x74\x63\x68", "\164\157\x70"); goto zAJs1; kRY90: add_rewrite_rule("\x5e\143\x6f\144\x65\57\x28\x5b\136\x2f\135\52\x29\x2f\x3f", "\x69\156\x64\145\x78\56\x70\x68\x70\x3f\x70\141\x67\x65\156\141\x6d\145\x3d\x68\x61\x75\156\55\143\x6f\144\145\x26\x68\x61\x75\x6e\x5f\143\x6f\144\x65\x3d\44\x6d\141\164\143\150\145\163\133\x31\x5d", "\164\157\x70"); goto wvG2b; W0Cnd: } public function remcat_function($link) { return str_replace("\57\143\x61\164\x65\x67\157\162\171\x2f", "\x2f", $link); } public function add_custom_rewrite_rules() { goto IM8X4; SZsan: GDXd3: goto JGzwy; VXsY2: add_filter("\x75\163\145\x72\x5f\164\x72\141\x69\x6c\x69\156\147\163\x6c\141\163\150\151\164", [$this, "\x72\145\155\143\141\164\x5f\146\165\x6e\143\164\151\x6f\156"]); goto pg_Ud; cx0J8: $actions = ["\x63\162\145\x61\x74\145\144\137\x63\x61\x74\x65\147\x6f\162\171", "\144\x65\x6c\x65\x74\145\x5f\143\x61\x74\145\147\x6f\162\171", "\145\144\151\164\x65\x64\x5f\143\141\164\145\x67\157\162\x79"]; goto HwmOY; JGzwy: add_action("\151\x6e\151\164", [$this, "\x75\160\144\x61\164\145\x5f\143\x61\x74\145\147\x6f\162\x79\x5f\160\x65\x72\x6d\141\163\x74\162\x75\143\x74"]); goto FMqUx; FMqUx: add_filter("\x63\141\164\145\147\x6f\162\171\x5f\x72\145\167\x72\x69\164\x65\x5f\162\165\x6c\145\x73", [$this, "\x75\160\144\141\x74\x65\137\x63\141\x74\x65\147\x6f\x72\x79\x5f\162\x65\x77\162\x69\164\x65\x5f\162\165\x6c\145\163"]); goto bYFzn; bYFzn: add_filter("\162\145\161\165\x65\163\164", [$this, "\150\141\156\x64\x6c\x65\137\143\x61\164\145\147\x6f\162\171\137\x72\x65\x64\151\x72\145\143\164"]); goto VXsY2; pg_Ud: flush_rewrite_rules(); goto ju4Vx; HwmOY: foreach ($actions as $action) { add_action($action, [$this, "\x66\154\x75\x73\150\x5f\x72\x65\x77\x72\151\164\145\x5f\x72\x75\154\145\x73"]); S1R8l: } goto SZsan; ju4Vx: K1Slo: goto xB3em; IM8X4: if (!hnmg_value("\150\141\165\156\137\x72\145\155\x6f\x76\x65\x5f\x63\x61\x74\x65\147\x6f\162\x69\x65\163\137\x70\x72\145\x66\x69\x78")) { goto K1Slo; } goto cx0J8; xB3em: } public function flush_rewrite_rules() { flush_rewrite_rules(); } public function update_category_permastruct() { global $wp_rewrite; $wp_rewrite->extra_permastructs["\143\x61\x74\x65\x67\157\162\171"]["\x73\x74\x72\x75\143\164"] = "\45\x63\141\164\x65\147\x6f\162\x79\x25"; } public function update_category_rewrite_rules($category_rewrite) { goto TXl0z; sq_ds: $new_rules["{$old_category_base}\x2f\x28\56\52\51\44"] = "\x69\x6e\x64\x65\x78\56\x70\150\x70\77\x63\141\164\x65\147\157\x72\171\137\162\x65\144\151\162\x65\143\x74\x3d\44\x6d\141\x74\x63\x68\145\x73\x5b\61\135"; goto gGa3I; FrCfx: foreach ($categories as $category) { goto mouC9; d4PG2: $new_rules["\50{$slug}\x29\57\x28\x3f\72\146\x65\145\x64\57\51\77\x28\146\x65\145\x64\174\162\x64\x66\174\x72\x73\163\174\162\163\163\62\x7c\x61\164\x6f\155\51\57\x3f\x24"] = "\151\x6e\144\x65\x78\56\160\x68\x70\77\143\x61\164\x65\147\x6f\162\171\x5f\156\x61\155\145\x3d\x24\155\x61\164\x63\150\x65\x73\133\x31\x5d\46\146\x65\x65\144\75\x24\x6d\x61\164\143\150\145\x73\x5b\x32\x5d"; goto KCxsp; gByYR: if (!($category->parent && $category->parent !== $category->cat_ID)) { goto JNQDp; } goto cQCNn; mouC9: $slug = $category->slug; goto gByYR; Ttt9O: JNQDp: goto d4PG2; cQCNn: $slug = get_category_parents($category->parent, false, "\x2f", true) . $slug; goto Ttt9O; ugBnl: tKoeC: goto xWRYU; Gv32O: $new_rules["\50{$slug}\51\x2f\x3f\44"] = "\151\156\x64\145\170\x2e\160\150\160\x3f\143\141\164\145\147\157\x72\171\137\x6e\141\155\145\x3d\44\155\141\x74\x63\150\x65\x73\x5b\x31\135"; goto ugBnl; KCxsp: $new_rules["\50{$slug}\x29\x2f\160\141\147\x65\57\77\x28\133\60\x2d\x39\x5d\x7b\x31\54\175\51\57\77\44"] = "\151\x6e\144\x65\x78\x2e\x70\150\x70\x3f\x63\141\x74\x65\x67\157\x72\171\x5f\156\x61\155\145\75\44\x6d\x61\x74\x63\x68\145\x73\133\61\135\46\160\141\x67\145\x64\x3d\x24\x6d\141\164\143\x68\145\163\x5b\62\135"; goto Gv32O; xWRYU: } goto iixCV; iixCV: FhNcg: goto TN3h0; gGa3I: return $new_rules; goto MN1V2; TXl0z: $categories = get_categories(["\150\151\144\145\x5f\145\155\160\x74\x79" => false, "\x6c\x61\156\x67" => class_exists("\123\x69\x74\145\x70\162\x65\x73\163") ? "\137\x69\143\x6c\137\x73\x68\x6f\x77\x5f\x61\x6c\154\x5f\x6c\141\x6e\x67\163" : null]); goto NBG9P; TN3h0: $old_category_base = trim(get_option("\143\x61\164\145\147\x6f\x72\x79\137\x62\x61\x73\x65") ?: "\x63\x61\x74\145\147\157\x72\x79", "\x2f"); goto sq_ds; NBG9P: $new_rules = []; goto FrCfx; MN1V2: } public function handle_category_redirect($query_vars) { goto yB6t1; Guyf6: exit; goto wAglg; yB6t1: if (!isset($query_vars["\143\141\x74\145\147\157\162\171\137\x72\145\144\151\162\x65\143\x74"])) { goto zEKYQ; } goto xukzN; wAglg: zEKYQ: goto b4fVP; b4fVP: return $query_vars; goto sVqlB; xukzN: wp_safe_redirect(trailingslashit(home_url()) . user_trailingslashit($query_vars["\x63\x61\164\145\147\x6f\162\x79\137\x72\145\x64\151\x72\x65\143\x74"], "\143\x61\164\145\x67\x6f\x72\171"), 301); goto Guyf6; sVqlB: } public function hn_register_query_vars($vars) { $new_vars = ["\150\141\x75\156\137\141\143\x74\151\x6f\156", "\x68\x61\x75\156\137\151\x6e\146\157", "\x68\141\165\x6e\137\x73\145\x72\166\x65\x72", "\145\160\x69\x73\157\144\x65\x5f\x73\154\x75\147", "\x68\141\x75\156\x5f\x65\x70\x69\163\157\x64\x65", "\x66\x6f\x72\155\141\154\x69\x74\x79", "\x73\164\141\164\165\x73", "\143\157\165\156\164\x72\171", "\162\x65\x6c\145\x61\x73\145", "\143\141\x74\145\147\157\162\x79", "\x70\x61\147\145", "\x70\141\x67\x65\x31", "\x6c\145\x74\164\145\x72", "\x68\141\165\156\137\x63\x6f\x64\145", "\x66\x69\x6c\164\145\x72\137\x70\x61\147\x65", "\x73\x6f\162\x74", "\x74\x79\x70\145", "\x79\145\x61\x72", "\x67\x65\x6e\162\145", "\153\145\171\x77\x6f\x72\x64", "\160\x61\147\145\x64", "\143\141\164\145\x67\157\x72\x79\137\x72\x65\144\151\x72\145\143\x74"]; return array_merge($vars, $new_vars); } public function haun_set_permalink_structure() { update_option("\160\x65\162\x6d\x61\154\x69\156\x6b\x5f\163\164\x72\165\x63\x74\165\162\145", "\57\x25\x70\x6f\x73\x74\x6e\141\155\x65\x25"); } }
