<?php
/*   __________________________________________________
    |  		Code By HauN - HauNYTB.COM  2.0.14    	  |
    |          Telegram: https://t.me/haunytb         |
    |    	   Url : https://haunytb.com    		  |
    |_________________________________________________|
*/
 namespace HNMG\Episodes; use HNMG\Episodes\EP_Helper; use Illuminate\Support\Str; class EP_Actions { public function __construct() { $this->helper = new EP_Helper(); } public function register() { goto LrL_x; APDNU: add_action("\167\160\x5f\x61\152\141\170\137\150\x6e\163\x61\166\145\137\x73\145\x72\166\x65\x72\137\150\x69\x64\x64\x65\156", [$this, "\x68\x6e\163\x61\x76\145\x5f\163\145\x72\x76\x65\162\x5f\150\151\144\144\145\x6e"]); goto gxqJ5; gxqJ5: add_action("\167\160\137\x61\x6a\x61\x78\x5f\x68\156\x61\152\141\170\137\x65\x78\x70\157\162\x74\137\145\x70\151\163\x6f\144\145\x73", [$this, "\x68\156\141\x6a\141\170\137\145\170\160\157\162\x74\137\145\x70\151\163\157\x64\145\x73"]); goto pSeBR; epEqa: add_action("\167\160\x5f\141\152\141\x78\137\x68\156\141\152\141\170\x5f\x75\x70\x64\x61\x74\x65\x5f\145\x70\x69\x73\x6f\144\x65", [$this, "\x68\x6e\141\152\141\x78\x5f\x75\160\x64\141\164\x65\x5f\x65\x70\151\163\x6f\x64\x65"]); goto SED7b; mcJFB: add_action("\167\x70\137\x61\x6a\141\x78\x5f\150\x6e\137\x64\x65\154\145\164\x65\x5f\163\145\x6c\x65\143\164\x65\x64\137\160\157\x73\164\163", [$this, "\x68\156\137\x64\145\x6c\x65\x74\145\137\163\x65\154\x65\x63\x74\x65\144\137\160\157\163\x74\x73"]); goto iSjvE; SHucw: add_action("\167\x70\137\x61\x6a\141\x78\x5f\150\156\141\152\x61\170\137\x6f\156\x65\137\x69\x6d\160\157\162\164\x65\162", [$this, "\150\156\141\x6a\141\x78\x5f\x6f\156\x65\137\x69\x6d\160\157\162\164\145\162"]); goto gXsTs; gJmSa: add_action("\x77\160\x5f\x61\152\x61\x78\x5f\150\156\x61\152\141\x78\137\165\x70\144\141\x74\x65\137\x70\x6f\x73\x74\x6d\145\164\x61", [$this, "\x68\x6e\141\x6a\141\x78\137\165\160\x64\x61\164\145\x5f\160\157\163\164\155\x65\164\141"]); goto APDNU; gXsTs: add_action("\167\160\x5f\x61\x6a\x61\x78\x5f\150\x6e\141\x6a\x61\x78\x5f\164\167\157\137\151\155\x70\157\x72\164\x65\162", [$this, "\150\x6e\141\x6a\141\170\x5f\x74\x77\157\137\x69\x6d\160\157\x72\x74\x65\x72"]); goto mJzrr; QnY2M: add_action("\167\x70\x5f\141\x6a\x61\x78\137\x68\156\x61\152\x61\170\x5f\x70\x75\x62\x6c\151\x73\x68\137\x70\157\x73\164", [$this, "\150\x6e\x61\x6a\141\170\x5f\160\165\x62\154\151\x73\150\x5f\x70\x6f\x73\164"]); goto SHucw; ClVw4: add_action("\x77\x70\137\x61\152\141\170\x5f\x6e\157\160\x72\x69\x76\137\150\x61\156\144\154\x65\x5f\x6c\151\x6b\145\137\144\151\163\x6c\x69\x6b\x65", [$this, "\x68\x61\x6e\144\x6c\x65\137\154\151\x6b\x65\137\x64\151\x73\x6c\x69\153\145"]); goto Y7xTF; LrL_x: add_action("\167\x70\137\x61\152\x61\x78\x5f\x68\156\x61\x6a\141\170\137\147\x65\164\154\151\x73\164\137\x65\x70\x69\x73\x6f\x64\x65\x73", [$this, "\150\156\x61\152\141\x78\137\x67\x65\x74\x6c\151\163\x74\137\145\160\151\x73\157\144\x65\x73"]); goto whZxK; pSeBR: add_action("\167\160\137\x61\152\141\170\137\150\156\141\x6a\141\170\137\146\x6f\x72\x63\145\137\144\x65\154\145\164\145\x5f\160\x6f\163\164", [$this, "\x68\x6e\141\152\x61\170\x5f\x66\157\x72\x63\145\x5f\144\145\x6c\x65\164\145\137\160\157\x73\x74"]); goto mcJFB; whZxK: add_action("\167\x70\137\141\152\x61\170\x5f\x68\156\141\152\141\170\x5f\x72\x65\155\x6f\x76\x65\137\163\x65\162\166\x65\162", [$this, "\x68\156\x61\x6a\141\x78\x5f\162\145\x6d\x6f\x76\145\137\163\145\x72\166\145\x72"]); goto QnY2M; iSjvE: add_action("\x77\x70\x5f\141\x6a\141\170\137\150\x61\156\x64\x6c\145\137\x6c\151\153\x65\137\144\x69\x73\x6c\x69\153\145", [$this, "\150\x61\x6e\144\x6c\x65\137\x6c\x69\153\145\137\144\x69\x73\x6c\151\x6b\x65"]); goto ClVw4; Y7xTF: add_action("\x77\160\137\141\152\141\170\137\154\157\141\144\137\x70\x6f\163\164\163\x5f\x64\x61\164\141", [$this, "\x6c\157\x61\x64\137\160\157\x73\x74\x73\x5f\x64\141\164\141"]); goto vZ1FH; SED7b: add_action("\x77\160\137\x61\x6a\x61\x78\x5f\x68\x6e\x61\x6a\141\170\x5f\141\x64\x64\x6e\145\x77\163\x65\162\x76\x65\x72", [$this, "\150\x6e\141\x6a\141\x78\x5f\141\144\144\x6e\x65\167\x73\145\x72\166\x65\162"]); goto gJmSa; mJzrr: add_action("\167\160\x5f\141\152\x61\x78\137\150\x6e\x61\152\x61\x78\137\154\x69\x73\164\x5f\x73\145\x72\x76\x65\162\151\x64", [$this, "\x68\x6e\x61\152\x61\170\137\x6c\x69\x73\x74\137\x73\x65\x72\166\x65\162\x69\144"]); goto epEqa; vZ1FH: } public function handle_like_dislike() { goto ChT1n; xAG_C: $totallikes++; goto Fyk8n; R4VGi: $totallikes = isset($meta["\164\x6f\x74\x61\154\137\154\x69\153\145\x73"]) ? intval($meta["\x74\157\164\141\x6c\x5f\154\151\x6b\x65\163"]) : 0; goto MjJzM; NW1gn: $meta = get_post_meta($post_id, HNMG_META, true); goto R4VGi; BiHy4: $type = sanitize_text_field($_POST["\164\171\160\145"]); goto ifEm8; i_Rh3: $meta["\x74\x6f\164\141\154\x5f\x64\151\163\154\x69\153\145\163"] = $totaldislikes; goto Rx4y2; IAAvY: NoMNd: goto NW1gn; Fyk8n: $meta["\x74\x6f\x74\141\154\137\154\x69\153\145\163"] = $totallikes; goto PvOwr; rEOeE: wp_send_json_error(["\x6d\x65\x73\x73\141\x67\145" => __("\111\x6e\166\x61\x6c\151\x64\40\160\141\162\x61\x6d\145\164\145\x72\x73", "\150\x6e\x6d\x67\x65\x70\x69\163")]); goto IAAvY; ChT1n: if (!(!isset($_POST["\x6e\x6f\x6e\143\x65"]) || !wp_verify_nonce($_POST["\x6e\x6f\156\143\x65"], "\x77\x70\x61\152\141\x78\x5f\x6e\157\156\143\x65"))) { goto Td9R9; } goto yJtPQ; Rx4y2: goto vah_o; goto TZWzx; bHDDH: update_post_meta($post_id, HNMG_META, $meta); goto PrHL3; SZq8E: wp_send_json_success(["\155\145\x73\163\x61\x67\x65" => __("\x59\x6f\x75\x72\x20\162\145\141\x63\164\151\x6f\x6e\x20\x68\141\x73\x20\142\145\x65\x6e\x20\162\145\x63\157\162\x64\x65\x64\x2e", "\x68\x6e\155\147\145\x70\x69\x73"), "\x6c\x69\153\x65\163" => $totallikes, "\x64\151\163\x6c\151\153\145\x73" => $totaldislikes, "\x70\x65\x72\143\x65\156\x74\x61\x67\x65" => $percentage]); goto zImVo; MjJzM: $totaldislikes = isset($meta["\x74\157\x74\141\x6c\x5f\x64\x69\163\154\151\153\145\163"]) ? intval($meta["\x74\x6f\164\141\154\x5f\144\151\x73\154\151\x6b\x65\163"]) : 0; goto SMfed; ypJxV: $totaldislikes++; goto i_Rh3; crR16: Td9R9: goto QlTYC; PvOwr: vah_o: goto bHDDH; SMfed: if ($type === "\x6c\x69\153\x65") { goto ohWJo; } goto ypJxV; TMNPw: $percentage = $total_votes == 0 ? 50 : round($totallikes / $total_votes * 100, 2); goto SZq8E; QlTYC: $post_id = intval($_POST["\160\x6f\x73\x74\137\x69\144"]); goto BiHy4; TZWzx: ohWJo: goto xAG_C; PrHL3: $total_votes = $totallikes + $totaldislikes; goto TMNPw; yJtPQ: wp_send_json_error(["\155\145\x73\163\x61\147\145" => __("\x49\156\166\x61\x6c\x69\144\40\162\x65\161\x75\145\163\164", "\x68\x6e\155\147\145\160\151\x73")]); goto crR16; ifEm8: if (!(!$post_id || !in_array($type, ["\154\151\153\145", "\144\x69\163\154\x69\153\x65"]))) { goto NoMNd; } goto rEOeE; zImVo: } public function load_posts_data() { goto TvP1o; CN8TG: BQQOL: goto Paxek; gHnMe: $query->the_post(); goto lpxwe; vw_5l: $posts_data[] = ["\x63\150\x65\143\153\x62\x6f\x78" => "\74\x69\156\160\165\x74\x20\164\x79\160\145\x3d\42\143\x68\145\x63\153\x62\x6f\170\x22\x20\156\x61\155\145\x3d\42\x65\x70\151\163\x6f\x64\x65\x5f\x69\x64\163\42\40\166\141\x6c\165\145\75\42" . $post->ID . "\42\40\100\143\154\x69\x63\x6b\x3d\x22\x74\157\x67\x67\154\145\123\x65\154\x65\x63\x74\151\157\156\x28" . $post->ID . "\x29\x22\x20\72\143\x68\x65\x63\153\145\144\x3d\x22\x63\150\145\x63\x6b\x41\154\154\x22\x20\x63\x6c\141\x73\x73\x3d\x22\x73\x69\x7a\145\55\64\40\164\145\170\164\x2d\143\x65\x6e\164\x65\162\x20\x63\165\162\163\157\162\x2d\x70\157\151\156\164\145\162\40\x61\x70\160\x65\x61\x72\x61\x6e\x63\x65\55\156\x6f\x6e\145\x20\157\x76\145\x72\146\x6c\157\167\x2d\x68\x69\144\144\145\x6e\x20\x72\157\165\156\144\x65\x64\x20\142\157\162\144\145\x72\40\142\x6f\162\144\145\x72\55\156\145\165\x74\x72\141\154\x2d\x33\x30\x30\40\x62\x67\55\x77\150\151\x74\145\x20\146\157\143\x75\163\x3a\157\165\164\154\x69\x6e\145\55\156\x6f\x6e\145\x20\x66\x6f\x63\165\x73\72\162\x69\x6e\147\x2d\x30\x22\x20\57\x3e", "\x49\104" => $post->ID, "\x74\x69\x74\154\145" => "\x3c\x61\x20\150\x72\x65\146\75\x22" . get_permalink($post->ID) . "\42\x20\164\x61\x72\x67\x65\x74\75\x22\x5f\x62\x6c\141\156\x6b\x22\x20\143\x6c\x61\163\163\x3d\x22\164\x65\170\164\x2d\160\x69\x6e\153\55\65\60\60\40\146\157\156\x74\55\x73\145\x6d\x69\142\157\154\144\40\x74\145\170\x74\55\170\163\40\x68\x6f\166\x65\162\72\x74\x65\x78\x74\55\x66\165\143\x68\x73\151\x61\x2d\63\x30\60\40\x68\x6f\166\x65\x72\x3a\156\157\55\165\x6e\x64\x65\x72\154\x69\156\145\x22\76" . Str::limit($post->post_title, 60, "\x2e\x2e\x2e") . "\x3c\57\x61\76", "\x73\x68\x6f\x77" => $this->helper->hidden_servers($post->ID, $data), "\x70\x75\142\154\151\x73\x68" => $this->helper->hnupdate_publish($post->ID), "\145\160\x69\163\157\144\x65" => $this->helper->hnmg_last_episode($post->ID, $meta), "\x73\164\x61\x74\165\163" => $this->helper->hnshow_status($meta["\x68\141\x75\156\x5f\155\x6f\x76\x69\x65\137\x73\x74\x61\164\x75\163"] ?? ''), "\x66\x6f\162\x6d\x61\x6c\x69\x74\171" => $this->helper->hnshow_formality($meta["\150\x61\x75\x6e\137\155\157\166\151\x65\x5f\146\x6f\x72\x6d\x61\154\x69\164\x79"] ?? ''), "\145\x78\x70\x6f\162\164" => $this->helper->list_episode_servers($post->ID, $data), "\x61\x63\x74\x69\157\x6e\163\x5f\x6c\151\156\x6b" => "\x3c\141\x20\150\x72\x65\x66\x3d\42\77\160\x61\147\x65\x3d\150\156\155\147\55\145\160\151\x73\x6f\x64\145\x26\x61\x63\164\x3d\x65\144\x69\x74\137\145\160\46\160\157\163\x74\x5f\151\x64\75" . $post->ID . "\42\40\x63\154\141\163\163\75\x22" . $linkclass . "\40\146\157\156\x74\x2d\x62\157\154\x64\40\164\x65\x78\164\55\170\163\x20\x74\145\170\x74\55\x77\x68\151\x74\x65\x20\x70\x79\55\x31\40\x70\170\55\x34\x20\x72\157\x75\156\x64\145\144\55\146\165\154\154\42\76" . $linkname . "\74\57\x61\x3e"]; goto bwGTa; RaW_F: $post_meta = get_post_meta($post->ID, HNMG_EPS, true); goto PkTtT; N6bpH: $dataPlayer = $data && !empty($data[0]["\150\x61\x75\156\155\x6f\x76\x69\x65\163\137\x73\145\x72\166\145\x72\137\144\141\x74\141"]) ? key($data[0]["\150\x61\x75\156\x6d\x6f\x76\151\x65\x73\137\163\x65\162\x76\x65\x72\137\144\x61\x74\x61"]) : NULL; goto XyHcv; f1w_d: wp_reset_postdata(); goto FAC38; cKznD: $linkname = $link != '' ? __("\105\144\x69\164", "\150\x6e\x6d\x67\x65\x70\151\163") : __("\101\144\144\x20\123\x65\162\166\x65\x72", "\150\156\155\x67\x65\x70\x69\163"); goto vw_5l; e1iHp: $posts_data = []; goto YGdR4; FCMBD: $linkclass = $link != '' ? "\x62\x67\x2d\162\x65\x64\x2d\65\60\60\x20\x68\x6f\x76\x65\x72\x3a\142\x67\55\162\x65\x64\x2d\66\60\60" : "\x62\147\55\x6f\162\141\156\147\x65\x2d\65\x30\x30\x20\150\x6f\166\x65\162\x3a\x62\147\x2d\x6f\x72\x61\x6e\147\145\x2d\x36\x30\x30"; goto cKznD; lpxwe: global $post; goto RaW_F; FAC38: QIHy5: goto bRnda; PkTtT: $meta = get_post_meta($post->ID, HNMG_META, true); goto IMDPy; bwGTa: goto BQQOL; goto ggvlJ; Paxek: if (!$query->have_posts()) { goto zKjyD; } goto gHnMe; DKFZv: $hidden_servers = is_array($hidden_servers) ? $hidden_servers : (empty($hidden_servers) ? [] : explode("\54", $hidden_servers)); goto N6bpH; ggvlJ: zKjyD: goto f1w_d; TvP1o: $query = new \WP_Query(["\x70\157\163\x74\x5f\164\171\160\x65" => "\160\x6f\x73\x74", "\x70\157\163\x74\x73\x5f\x70\145\162\x5f\160\141\x67\145" => -1, "\x6f\162\x64\145\162\x62\171" => "\155\157\144\151\146\x69\x65\144", "\x6f\162\x64\x65\162" => "\104\x45\x53\103"]); goto e1iHp; IMDPy: $data = json_decode(stripslashes($post_meta), true); goto x_Zy9; bRnda: wp_send_json_success($posts_data); goto PQM8P; YGdR4: if (!$query->have_posts()) { goto QIHy5; } goto CN8TG; XyHcv: $link = $dataPlayer != NULL ? $data[0]["\150\x61\x75\x6e\155\x6f\166\x69\145\x73\x5f\163\145\162\x76\x65\x72\x5f\144\141\x74\x61"][$dataPlayer]["\x68\141\165\156\155\157\166\x69\145\163\137\145\x70\137\x6c\151\156\x6b"] ?? '' : ''; goto FCMBD; x_Zy9: $hidden_servers = get_post_meta($post->ID, "\x65\x70\151\163\157\144\145\x5f\x73\145\x72\166\x65\162\137\x68\x69\144\x64\145\x6e", true); goto DKFZv; PQM8P: } public function hn_delete_selected_posts() { goto tHnGF; LzXNW: iFVkI: goto IT8iE; dtvU_: wp_die(); goto M__KH; hb7TZ: wp_send_json_error(["\x6d\x65\x73\x73\141\x67\145" => "\116\x6f\40\x70\x6f\x73\164\x73\40\x73\145\x6c\145\x63\164\x65\144"]); goto eKTIC; YOiFT: oKZO1: goto U3EuD; U3EuD: wp_send_json_success(["\155\x65\x73\163\x61\147\145" => "\x53\x65\x6c\145\143\164\145\x64\40\x70\157\163\164\163\x20\141\x6e\144\40\141\x73\163\157\x63\151\x61\x74\145\x64\x20\151\x6d\x61\x67\x65\163\x20\144\145\x6c\x65\x74\x65\144\x20\x73\x75\x63\x63\x65\x73\x73\x66\165\x6c\x6c\x79"]); goto fqwRf; rD9ft: $post_ids = isset($_POST["\x70\157\x73\164\x5f\151\x64\163"]) ? array_map("\x69\156\x74\x76\141\154", $_POST["\160\157\163\x74\137\x69\144\x73"]) : []; goto MGR8y; M__KH: r8OtW: goto rD9ft; eKTIC: wp_die(); goto LzXNW; IT8iE: foreach ($post_ids as $post_id) { goto NXNFX; XaLa7: XVWFc: goto asE8G; z3Efn: if (!$meta_options) { goto OAIel; } goto RwjKN; AF0gE: wp_delete_post($post_id, true); goto K5GDs; EVXcs: $poster_path = ABSPATH . str_replace(site_url("\x2f"), '', $meta_options["\x68\141\x75\x6e\137\x70\x6f\x73\164\x65\x72\137\x75\162\154"]); goto JMqgB; Cyjih: $meta_options = get_post_meta($post_id, HNMG_META, true); goto z3Efn; mQSm6: bWEqt: goto cM2Z7; L2B1T: unlink($thumb_path); goto XaLa7; RwjKN: if (empty($meta_options["\x68\x61\165\156\137\160\157\x73\x74\x65\x72\137\165\162\154"])) { goto U3O1f; } goto EVXcs; c_e3w: U3O1f: goto pvtf0; fAJ7W: JgwlR: goto c_e3w; wYDFt: $thumb_path = ABSPATH . str_replace(site_url("\57"), '', $meta_options["\x68\141\x75\156\x5f\164\150\165\155\x62\x5f\165\x72\154"]); goto SSf7M; kx6ph: unlink($poster_path); goto fAJ7W; NXNFX: if (!(get_post($post_id) && current_user_can("\x64\x65\154\145\x74\x65\x5f\x70\x6f\163\x74", $post_id))) { goto j7LVm; } goto Cyjih; pvtf0: if (empty($meta_options["\150\x61\x75\156\137\x74\150\x75\x6d\142\137\x75\162\x6c"])) { goto uKcCD; } goto wYDFt; SSf7M: if (!file_exists($thumb_path)) { goto XVWFc; } goto L2B1T; K5GDs: j7LVm: goto mQSm6; pFrdu: OAIel: goto AF0gE; JMqgB: if (!file_exists($poster_path)) { goto JgwlR; } goto kx6ph; asE8G: uKcCD: goto pFrdu; cM2Z7: } goto YOiFT; MGR8y: if (!empty($post_ids)) { goto iFVkI; } goto hb7TZ; tHnGF: if (current_user_can("\x64\x65\154\x65\164\145\x5f\x70\x6f\163\x74\x73")) { goto r8OtW; } goto ICguW; fqwRf: wp_die(); goto mAoub; ICguW: wp_send_json_error(["\x6d\145\x73\x73\141\x67\145" => "\125\x6e\141\165\164\150\x6f\162\x69\x7a\145\x64"]); goto dtvU_; mAoub: } public function hnajax_update_episode() { goto N8cXc; HcB_Y: wp_send_json_success(json_encode($input, JSON_UNESCAPED_UNICODE)); goto cJq2i; aV_zB: foreach ($_POST["\150\x61\x75\x6e\x6d\157\x76\151\x65\x73\137\x73\145\162\x76\x65\162\x5f\x6e\x61\x6d\145"] as $serverIndex => $serverName) { goto u2n4P; rnQVv: RI2mG: goto NdWdb; zG9Bk: foreach ($_POST["\150\141\165\x6e\x6d\x6f\x76\151\145\163\x5f\145\160\x5f\154\151\x6e\x6b"][$serverIndex] as $episodeIndex => $episodeLink) { goto URz7W; eRkeG: wjBtx: goto l6Khk; URz7W: $episode_slug = sanitize_title($_POST["\150\x61\x75\156\x6d\157\166\x69\145\x73\x5f\145\x70\x5f\x73\154\x75\147"][$serverIndex][$episodeIndex]); goto d0pmt; d0pmt: $_slug = str_replace("\x2d", "\x5f", $episode_slug); goto kNi3a; KIZEP: w88ZW: goto V5OL6; APSnk: if (!isset($_POST["\x68\141\165\156\x6d\157\x76\151\x65\x73\x5f\145\x70\137\163\x75\142\137\154\141\142\x65\154"][$serverIndex][$episodeIndex])) { goto wjBtx; } goto xjktL; gNTwK: foreach ($subLabels as $subIndex => $subLabel) { goto nExcl; Qnj2d: goto GaXEb; goto WC7VX; eozat: jmTRl: goto Cd1CR; vTXdb: Sy3Nh: goto dMLHl; HwC8s: $upload = wp_handle_upload($uploadedFile, ["\164\x65\x73\164\137\x66\157\162\155" => false]); goto eWU3L; bwVN3: $subFile = $_POST["\x68\141\165\x6e\155\x6f\166\151\x65\163\x5f\x65\160\x5f\x73\165\x62\x5f\x66\x69\x6c\145"][$serverIndex][$episodeIndex][$subIndex]; goto Xhy7D; Io8Bl: if (isset($_FILES["\150\141\165\156\155\x6f\x76\x69\x65\x73\x5f\x65\x70\137\x73\x75\x62\137\165\160\154\157\x61\144"]["\156\x61\155\x65"][$serverIndex][$episodeIndex][$subIndex]) && !empty($_FILES["\150\x61\x75\156\155\x6f\x76\x69\145\x73\137\145\160\137\163\165\142\137\x75\160\x6c\x6f\x61\144"]["\x6e\x61\x6d\x65"][$serverIndex][$episodeIndex][$subIndex])) { goto PGhj2; } goto hVIu1; H1l2N: $uploadedFile = ["\156\141\155\145" => $_FILES["\x68\x61\165\156\155\157\166\x69\x65\x73\x5f\x65\160\x5f\163\x75\142\x5f\165\x70\154\157\141\x64"]["\x6e\x61\155\145"][$serverIndex][$episodeIndex][$subIndex], "\164\x79\x70\x65" => $_FILES["\150\141\x75\156\155\x6f\x76\151\145\x73\x5f\145\160\x5f\x73\165\x62\x5f\x75\160\154\157\141\x64"]["\x74\171\x70\145"][$serverIndex][$episodeIndex][$subIndex], "\x74\155\160\137\156\x61\x6d\x65" => $_FILES["\x68\x61\165\156\x6d\157\x76\151\145\163\x5f\145\x70\137\163\x75\142\x5f\165\x70\154\157\141\x64"]["\x74\155\x70\137\156\x61\155\x65"][$serverIndex][$episodeIndex][$subIndex], "\145\x72\x72\x6f\x72" => $_FILES["\x68\141\165\156\x6d\157\166\x69\x65\163\137\145\x70\137\x73\165\142\x5f\165\160\x6c\157\141\144"]["\x65\x72\162\157\x72"][$serverIndex][$episodeIndex][$subIndex], "\163\x69\172\145" => $_FILES["\x68\x61\x75\x6e\x6d\x6f\x76\x69\145\163\x5f\x65\160\137\163\x75\x62\x5f\x75\160\x6c\x6f\141\x64"]["\x73\151\172\x65"][$serverIndex][$episodeIndex][$subIndex]]; goto HwC8s; hVIu1: if (!isset($_POST["\x68\x61\x75\x6e\x6d\157\166\151\x65\163\137\x65\x70\137\163\x75\x62\137\146\151\x6c\x65"][$serverIndex][$episodeIndex][$subIndex])) { goto vLUaw; } goto bwVN3; BZUL3: $serverdata["\150\141\165\156\x6d\x6f\x76\151\145\163\x5f\x73\x65\162\166\145\162\137\x64\141\x74\141"][$_slug]["\x68\141\x75\156\155\157\x76\x69\145\x73\137\145\160\x5f\163\165\x62\163"][] = ["\150\x61\x75\x6e\155\157\x76\x69\x65\163\137\x65\x70\x5f\163\165\x62\137\146\x69\154\x65" => trim($subFile), "\x68\x61\165\156\155\x6f\x76\x69\x65\163\137\145\160\x5f\163\x75\142\x5f\154\x61\x62\145\x6c" => trim($subLabel), "\150\x61\165\156\x6d\x6f\166\x69\145\163\x5f\x65\160\137\163\165\142\137\x6b\151\156\144" => "\x63\141\x70\164\151\157\x6e\163", "\x68\141\165\156\155\157\166\151\145\x73\137\x65\160\x5f\x73\165\142\137\144\x65\146\x61\165\x6c\x74" => isset($subDefaults[$subIndex]) && $subDefaults[$subIndex] === "\x74\162\165\x65" ? "\x74\162\x75\145" : "\146\141\154\x73\145"]; goto eozat; eWU3L: if (isset($upload["\145\162\162\157\162"])) { goto Sy3Nh; } goto L8eSd; WC7VX: PGhj2: goto H1l2N; L8eSd: $subFile = $upload["\165\162\154"]; goto vTXdb; Xhy7D: vLUaw: goto Qnj2d; dMLHl: GaXEb: goto BZUL3; nExcl: $subFile = ''; goto Io8Bl; Cd1CR: } goto bTAwc; xjktL: $subLabels = $_POST["\150\x61\x75\156\155\157\x76\151\145\163\137\x65\160\137\x73\x75\x62\137\x6c\141\142\145\x6c"][$serverIndex][$episodeIndex]; goto DWn7D; AsfNr: foreach ($_POST["\150\x61\165\x6e\155\157\166\151\x65\163\x5f\x65\160\137\x6c\x69\163\164\x73\166\137\154\151\x6e\x6b"][$serverIndex][$episodeIndex] as $svIndex => $listsvLink) { goto BXRdj; d71YV: QqV6Y: goto ar0fx; kwRng: $serverdata["\x68\x61\165\156\x6d\157\x76\x69\x65\x73\137\x73\x65\x72\x76\145\162\x5f\x64\x61\x74\x61"][$_slug]["\150\x61\x75\x6e\155\157\166\x69\x65\x73\137\145\x70\x5f\154\151\163\164\x73\x76"][] = ["\x68\x61\x75\156\x6d\157\x76\x69\x65\x73\x5f\x65\x70\x5f\154\x69\x73\x74\163\x76\137\154\151\156\x6b" => trim($listsvLink), "\150\x61\165\156\x6d\x6f\166\151\x65\x73\137\145\x70\x5f\x6c\151\x73\x74\163\166\x5f\x6e\141\x6d\145" => trim($listsvName), "\x68\x61\x75\x6e\x6d\x6f\166\151\x65\x73\137\145\160\x5f\154\151\x73\x74\x73\x76\x5f\x74\x79\160\x65" => trim($listsvType)]; goto d71YV; BXRdj: $listsvName = isset($_POST["\x68\x61\x75\156\155\x6f\x76\151\x65\163\137\x65\x70\x5f\x6c\151\x73\164\x73\166\137\156\x61\155\145"][$serverIndex][$episodeIndex][$svIndex]) ? $_POST["\150\x61\165\156\x6d\157\166\151\x65\163\137\145\160\x5f\x6c\151\163\x74\163\166\137\156\x61\x6d\x65"][$serverIndex][$episodeIndex][$svIndex] : ''; goto F3_ea; F3_ea: $listsvType = isset($_POST["\150\141\x75\x6e\155\157\x76\151\145\x73\x5f\145\160\x5f\x6c\x69\163\164\x73\x76\137\164\171\x70\x65"][$serverIndex][$episodeIndex][$svIndex]) ? $_POST["\x68\x61\165\x6e\155\157\x76\151\145\x73\x5f\145\160\137\154\x69\x73\164\163\x76\137\164\x79\x70\x65"][$serverIndex][$episodeIndex][$svIndex] : ''; goto kwRng; ar0fx: } goto XDLIo; bTAwc: SdpF7: goto eRkeG; kNi3a: $serverdata["\x68\141\x75\156\155\x6f\x76\x69\145\163\x5f\163\145\162\166\145\162\137\x64\141\x74\141"][$_slug] = ["\x68\141\165\x6e\x6d\157\166\x69\145\x73\x5f\145\160\x5f\x6e\141\x6d\145" => isset($_POST["\x68\x61\x75\x6e\155\157\x76\x69\145\163\137\145\160\137\x6e\x61\155\x65"][$serverIndex][$episodeIndex]) ? $_POST["\150\x61\x75\156\155\x6f\166\151\145\163\137\145\160\x5f\x6e\141\x6d\x65"][$serverIndex][$episodeIndex] : '', "\x68\x61\x75\156\155\x6f\166\x69\145\163\x5f\145\x70\137\163\x6c\165\147" => isset($_POST["\150\x61\x75\x6e\155\x6f\x76\151\145\163\137\145\x70\137\163\154\x75\x67"][$serverIndex][$episodeIndex]) ? $_POST["\150\141\x75\156\155\157\x76\151\145\163\137\x65\x70\137\x73\x6c\x75\x67"][$serverIndex][$episodeIndex] : '', "\x68\141\165\x6e\x6d\x6f\166\x69\x65\x73\137\x65\160\x5f\164\x79\x70\x65" => isset($_POST["\x68\141\165\x6e\x6d\157\166\x69\x65\163\x5f\x65\160\x5f\164\x79\160\145"][$serverIndex][$episodeIndex]) ? $_POST["\x68\x61\165\156\155\x6f\166\x69\145\x73\137\x65\x70\x5f\x74\171\x70\x65"][$serverIndex][$episodeIndex] : '', "\x68\141\x75\156\x6d\157\166\x69\145\163\x5f\x65\x70\137\154\151\x6e\153" => $episodeLink, "\150\x61\x75\x6e\x6d\157\166\151\145\x73\137\x65\160\x5f\163\x75\142\163" => [], "\150\141\x75\x6e\155\x6f\166\151\x65\x73\x5f\x65\x70\137\154\x69\163\x74\163\x76" => []]; goto APSnk; XDLIo: fBPil: goto a1Ngt; l6Khk: if (!isset($_POST["\150\141\165\x6e\x6d\157\166\x69\145\x73\x5f\x65\160\137\x6c\x69\x73\164\x73\x76\x5f\x6c\151\156\x6b"][$serverIndex][$episodeIndex])) { goto ZToYK; } goto AsfNr; a1Ngt: ZToYK: goto KIZEP; DWn7D: $subDefaults = $_POST["\150\141\165\156\x6d\157\166\x69\x65\x73\x5f\145\x70\x5f\x73\165\142\137\x64\x65\x66\x61\x75\x6c\x74"][$serverIndex][$episodeIndex]; goto gNTwK; V5OL6: } goto rnQVv; NdWdb: dU9so: goto XzsMQ; nmDbn: if (!isset($_POST["\150\141\165\156\x6d\x6f\166\151\x65\163\x5f\145\x70\x5f\x6c\151\x6e\153"][$serverIndex])) { goto dU9so; } goto zG9Bk; u2n4P: $serverdata = []; goto KOJb9; XzsMQ: $input[] = $serverdata; goto fys96; fys96: pJxHn: goto rCMuR; KOJb9: $serverdata["\x68\141\x75\x6e\x6d\x6f\166\151\x65\x73\x5f\x73\145\162\x76\145\162\x5f\156\x61\155\145"] = esc_attr($serverName ? $serverName : "\x53\x65\162\x76\x65\162\40\x23" . $serverIndex); goto UdJ1B; UdJ1B: $serverdata["\x68\x61\165\156\155\x6f\x76\151\x65\x73\137\163\145\162\166\145\162\137\x64\x61\164\141"] = []; goto nmDbn; rCMuR: } goto msxzn; msxzn: CG11A: goto bbG7_; qoVcp: $input = []; goto aV_zB; bbG7_: update_post_meta($post_id, HNMG_EPS, json_encode($input, JSON_UNESCAPED_UNICODE)); goto HcB_Y; N8cXc: $post_id = isset($_POST["\x70\x6f\163\x74\x5f\151\144"]) ? absint($_POST["\160\x6f\163\164\137\x69\x64"]) : ''; goto qoVcp; cJq2i: } public function hnajax_getlist_episodes() { goto cUWA9; cUWA9: $postID = isset($_POST["\160\157\x73\x74\137\151\144"]) ? intval($_POST["\x70\x6f\x73\x74\x5f\x69\144"]) : 0; goto Fd262; LKUVC: $data = json_decode(stripslashes($metaPost), true); goto zMtFF; VG0tY: wp_die(); goto gW6rx; zMtFF: wp_send_json_success($data); goto VG0tY; Fd262: $metaPost = get_post_meta($postID, HNMG_EPS, true); goto LKUVC; gW6rx: } public function hnajax_remove_server() { goto cJhcQ; SshY8: update_post_meta($post_id, "\145\x70\x69\x73\157\x64\145\x5f\x73\145\x72\x76\145\162\x5f\x68\x69\x64\144\x65\156", $hiddensv); goto L4NQI; V2H7A: unset($data[$server]); goto zzyLE; Fs4E1: if (!(empty($server) && $server == "\x30")) { goto thCYr; } goto Y6gJJ; e4i3d: if (!(!$post_id || !$server)) { goto yg86S; } goto t3Nhr; L4NQI: Y5p1W: goto HVK9n; cJhcQ: $post_id = isset($_POST["\160\157\x73\164\x5f\151\144"]) ? absint($_POST["\160\x6f\163\x74\137\x69\x64"]) : ''; goto COlQ6; TIdQT: wp_send_json_success(["\155\x65\x73\x73\x61\147\x65" => "\x53\145\162\166\x65\x72\x20\x64\x65\154\145\164\x65\144\40\x73\x75\143\x63\x65\x73\163\x66\x75\154\x6c\171"]); goto h1sow; t3Nhr: wp_send_json_error(["\x6d\x65\x73\163\x61\147\145" => "\x49\x6e\166\141\154\x69\144\40\x72\145\x71\x75\145\163\164"]); goto yXA4L; zjmqC: wp_die(); goto niqZV; yXA4L: yg86S: goto HT1fv; zzyLE: $metaPost = array_values($data); goto Jp9oW; Jp9oW: if (!$hiddensv) { goto Y5p1W; } goto zKS9I; Y6gJJ: delete_post_meta($post_id, HNMG_EPS); goto TIdQT; HVK9n: update_post_meta($post_id, HNMG_EPS, wp_json_encode($metaPost, JSON_UNESCAPED_UNICODE)); goto cgSKd; h1sow: wp_die(); goto eJcvD; eJcvD: thCYr: goto e4i3d; cgSKd: wp_send_json_success(["\155\x65\x73\163\x61\x67\145" => "\123\145\x72\x76\x65\x72\40\144\x65\x6c\145\164\145\144\x20\x73\x75\143\143\145\163\x73\146\165\154\154\x79"]); goto zjmqC; fz6AI: $hiddensv = get_post_meta($post_id, "\145\x70\x69\x73\157\144\x65\137\163\x65\162\166\145\x72\x5f\150\x69\144\144\145\156", true); goto V2H7A; zKS9I: unset($hiddensv[$server]); goto SshY8; COlQ6: $server = isset($_POST["\x73\145\162\166\x65\x72"]) ? absint($_POST["\x73\x65\162\166\x65\162"]) : ''; goto Fs4E1; HT1fv: $data = json_decode(stripslashes(get_post_meta($post_id, HNMG_EPS, true)), true); goto fz6AI; niqZV: } public function hnajax_publish_post() { goto cU0e6; CK0_I: goto cFxQN; goto PyH7m; ahEB_: cFxQN: goto o9W07; PyH7m: Bs5SU: goto f0Mmx; TMHef: wp_update_post($postData); goto UW_a5; cU0e6: $post_id = isset($_POST["\160\157\x73\x74\x5f\x69\x64"]) ? (int) $_POST["\x70\157\x73\164\137\151\x64"] : ''; goto B65S3; B65S3: if ($post_id) { goto Bs5SU; } goto TTlRO; f0Mmx: $postData = array("\111\x44" => $post_id, "\160\157\163\x74\137\x73\x74\x61\x74\x75\163" => "\x70\x75\x62\x6c\x69\x73\x68"); goto TMHef; UW_a5: wp_send_json_success($post_id); goto ahEB_; TTlRO: wp_send_json_error(); goto CK0_I; o9W07: } public function hnajax_one_importer() { goto C4WNn; A_Gmk: $episode_slug = sanitize_text_field(trim($_POST["\x65\x70\151\163\x6f\x64\x65\x5f\x73\154\165\x67"] ?? '')); goto xHzSm; f7KEm: $server_name = isset($_POST["\x73\x65\162\x76\x65\162\137\x6e\141\155\145"]) ? sanitize_text_field(trim($_POST["\x73\145\x72\166\145\162\137\x6e\141\155\145"])) : "\x53\145\x72\166\145\162\40\43\61"; goto hucTr; xF2Fb: update_post_meta($post_id, HNMG_EPS, wp_json_encode($metaPost, JSON_UNESCAPED_UNICODE)); goto ZB_Im; hucTr: $list_link = isset($_POST["\x6c\x69\x73\164\137\154\x69\156\153"]) ? json_decode(stripslashes($_POST["\154\151\x73\x74\137\x6c\151\x6e\153"]), true) : []; goto SSoSt; cIp0k: foreach ($list_link as $link) { goto ZafP1; EbGGK: goto vv7RO; goto c1gY0; PA1X9: DgEP6: goto VZKKG; NTwZi: goto vv7RO; goto BefY1; e8LZF: $link_parts = explode("\174", $link); goto KYkNd; QNB_b: switch ($import_type) { case "\x6c\151\163\164\163\145\x72\166\x65\162": goto X4kr_; DLk3r: $metaPost[$server]["\150\141\165\156\155\157\166\x69\x65\163\137\163\x65\x72\166\145\162\137\144\x61\x74\141"][$episode_slug]["\150\141\165\156\155\x6f\166\x69\x65\x73\x5f\145\160\x5f\154\x69\x73\164\163\166"][] = $new_episode_data; goto XpiPI; XpiPI: goto UNj3V; goto PsBHN; X4kr_: $new_episode_data = ["\150\141\165\156\x6d\157\x76\151\x65\x73\x5f\x65\x70\x5f\154\x69\x73\x74\x73\x76\137\156\141\x6d\145" => sanitize_text_field(trim($link_parts[0])), "\150\x61\x75\x6e\155\157\166\x69\x65\x73\137\x65\160\137\x6c\151\x73\x74\x73\166\137\x6c\151\156\x6b" => sanitize_text_field(trim($link_parts[1])), "\150\141\x75\x6e\155\157\x76\151\x65\163\137\x65\x70\137\x6c\x69\163\164\x73\166\x5f\x74\171\x70\145" => sanitize_text_field(trim($link_parts[2] ?? ''))]; goto GCNgn; GCNgn: $metaPost[$server]["\x68\x61\165\x6e\x6d\x6f\166\x69\x65\163\x5f\x73\x65\162\166\145\162\137\144\x61\x74\x61"][$episode_slug]["\150\x61\165\x6e\x6d\x6f\x76\151\145\163\137\145\x70\137\154\151\x73\x74\x73\x76"] = $metaPost[$server]["\150\x61\x75\x6e\x6d\x6f\166\151\x65\163\137\163\145\x72\x76\x65\162\x5f\144\141\164\x61"][$episode_slug]["\150\x61\165\156\155\157\166\x69\145\x73\137\x65\160\137\x6c\x69\x73\164\x73\x76"] ?? []; goto DLk3r; PsBHN: case "\163\165\142\x74\x69\164\x6c\x65": goto QIrDi; JJiag: goto UNj3V; goto vLUkc; X_40_: $metaPost[$server]["\x68\x61\x75\x6e\155\x6f\166\151\x65\163\x5f\x73\x65\x72\x76\145\162\137\x64\x61\164\141"][$episode_slug]["\150\x61\x75\x6e\x6d\157\x76\151\x65\163\137\145\x70\137\x73\x75\142\163"] = $metaPost[$server]["\x68\x61\165\156\155\157\x76\151\145\163\x5f\x73\x65\162\x76\145\162\137\144\x61\164\x61"][$episode_slug]["\x68\141\165\x6e\155\x6f\166\151\145\x73\x5f\x65\x70\x5f\163\165\x62\163"] ?? []; goto Sl_IZ; Sl_IZ: $metaPost[$server]["\150\141\x75\x6e\x6d\157\x76\151\x65\163\x5f\x73\x65\162\x76\145\x72\137\144\141\164\x61"][$episode_slug]["\150\x61\x75\156\155\x6f\166\x69\x65\163\137\x65\x70\137\x73\165\142\163"][] = $new_subtitle_data; goto JJiag; QIrDi: $new_subtitle_data = ["\x68\x61\x75\x6e\x6d\x6f\166\151\145\163\x5f\145\160\137\163\165\142\137\x6c\141\142\x65\154" => sanitize_text_field(trim($link_parts[0])), "\x68\141\x75\x6e\x6d\157\166\151\x65\x73\x5f\145\160\x5f\163\165\142\137\x6c\151\156\153" => sanitize_text_field(trim($link_parts[1]))]; goto X_40_; vLUkc: case "\154\151\x73\x74\145\160\151\x73\x6f\x64\145": goto n870n; n870n: list($ep_name, $ep_link, $ep_type) = $link_parts; goto TwjnX; TwjnX: $ep_slug = sanitize_text_field(trim($ep_name)); goto iyjn3; ds4Ah: goto UNj3V; goto ER0uf; iyjn3: $metaPost[$server]["\150\141\165\156\x6d\x6f\166\x69\x65\x73\137\x73\145\x72\166\x65\x72\137\x64\x61\164\x61"][$ep_slug] = ["\x68\141\x75\156\x6d\x6f\166\151\x65\x73\x5f\145\x70\137\x6e\141\x6d\x65" => sanitize_text_field(trim($ep_name)), "\150\141\x75\156\155\157\166\151\x65\163\x5f\x65\160\137\x73\154\165\147" => str_replace("\x2d", "\x5f", sanitize_title(trim($ep_slug))), "\x68\x61\x75\x6e\155\157\x76\151\145\163\x5f\x65\x70\x5f\164\171\x70\x65" => sanitize_text_field(trim($ep_type)), "\150\141\x75\156\155\x6f\166\x69\x65\x73\137\145\160\x5f\x6c\151\x6e\153" => sanitize_text_field(trim($ep_link)), "\x68\141\165\x6e\x6d\x6f\x76\151\x65\163\137\145\x70\137\163\165\142\163" => [], "\150\x61\165\x6e\155\x6f\166\x69\x65\x73\x5f\x65\160\x5f\x6c\151\x73\x74\163\166" => []]; goto ds4Ah; ER0uf: } goto PA1X9; VZKKG: UNj3V: goto lkmhO; ZafP1: if (!empty($link)) { goto N9jdf; } goto EbGGK; KYkNd: if (!(count($link_parts) < 2)) { goto hr6Nz; } goto NTwZi; c1gY0: N9jdf: goto e8LZF; lkmhO: vv7RO: goto yI7Uz; BefY1: hr6Nz: goto QNB_b; yI7Uz: } goto k7lZJ; ZB_Im: wp_send_json_success($metaPost); goto qbSeX; k7lZJ: Eb5k7: goto xF2Fb; C4WNn: $post_id = isset($_POST["\x70\x6f\x73\x74\x5f\x69\x64"]) ? absint($_POST["\160\157\163\x74\137\151\x64"]) : ''; goto e7YDf; e7YDf: $server = isset($_POST["\x73\x65\x72\x76\145\x72"]) ? absint($_POST["\x73\145\x72\x76\x65\x72"]) : ''; goto f7KEm; SSoSt: $import_type = sanitize_text_field(trim($_POST["\151\x6d\160\157\x72\164\137\164\x79\160\x65"] ?? '')); goto A_Gmk; xHzSm: $metaPost = json_decode(get_post_meta($post_id, HNMG_EPS, true), true) ?? []; goto cIp0k; qbSeX: } public function hnajax_list_serverid() { goto HajFt; rvxn1: yogNs: goto DwmTi; EoZFf: goto yogNs; goto i6XF_; pQL0t: $episode_meta = get_post_meta($post_id, HNMG_EPS, true); goto qMo_i; ubz2D: wp_send_json_success($options); goto rvxn1; DwmTi: exit; goto lIzUj; xWY12: $server = isset($_POST["\x73\145\x72\166\145\x72"]) ? absint($_POST["\163\x65\x72\166\145\x72"]) : ''; goto pQL0t; BLZjD: if (!empty($data) && isset($data[$server]->haunmovies_server_data)) { goto jqRYB; } goto SV9vT; hUQCP: Mbt1s: goto ubz2D; qMo_i: $data = json_decode(stripslashes($episode_meta)); goto BLZjD; O6ANC: $options = "\74\x6f\160\x74\151\157\x6e\x20\166\141\x6c\x75\x65\x3d\42\42\x20\151\x64\x3d\42\143\x68\157\157\163\x65\55\145\x70\42\76" . __("\x43\150\157\x6f\163\145\40\x45\160\151\163\157\x64\145", "\150\156\x6d\x67\145\x70\x69\x73") . "\74\57\157\160\164\x69\157\156\x3e"; goto U5UrC; U5UrC: foreach ($data[$server]->haunmovies_server_data as $key => $val) { $options .= "\74\x6f\x70\x74\151\x6f\156\x20\x76\141\x6c\x75\145\75\x22" . $key . "\42\x3e" . esc_html($val->haunmovies_ep_name) . "\74\x2f\157\160\164\151\x6f\156\x3e"; pTR3u: } goto hUQCP; i6XF_: jqRYB: goto O6ANC; SV9vT: wp_send_json_error(__("\x4e\x6f\x20\145\160\151\163\x6f\144\x65\163\40\x66\157\x75\x6e\x64", "\150\156\155\x67\x65\160\x69\163")); goto EoZFf; HajFt: $post_id = isset($_POST["\x70\x6f\163\164\137\x69\144"]) ? absint($_POST["\160\x6f\163\x74\137\x69\x64"]) : ''; goto xWY12; lIzUj: } public function hnajax_two_importer() { goto Mg1Fd; roCTO: $list_link = isset($_POST["\x6c\151\x73\164\137\x6c\151\156\153"]) ? json_decode(stripslashes($_POST["\x6c\x69\163\164\137\x6c\151\156\x6b"]), true) : []; goto yjLDC; oAZVp: nWdBk: goto YFD3U; Mg1Fd: $post_id = isset($_POST["\x70\x6f\163\x74\137\x69\144"]) ? absint($_POST["\160\x6f\163\164\x5f\x69\x64"]) : ''; goto ZyQa1; yjLDC: $json = json_decode(stripcslashes(get_post_meta($post_id, HNMG_EPS, true)), true); goto F6o7U; uyVys: foreach ($list_link as $links) { goto c88kv; zOMK4: $ep_slug = preg_match("\x2f\x28\133\141\55\172\x5d\x2b\x29\x2f\x69\x73", $ep_name) ? sanitize_title($ep_name) : sanitize_title($ep_name); goto FgYl3; u23oo: if (!isset($info[3])) { goto vMASB; } goto ekFEO; uHuSU: d5t7g: goto LS5kV; g7KTr: list($ep_name, $ep_link, $ep_type) = $info; goto zOMK4; dndfn: $json[$server]["\150\141\165\156\155\x6f\x76\151\145\x73\137\x73\x65\x72\166\x65\162\137\x64\141\x74\141"][$_slug] = $array; goto u23oo; a7Sfm: MbnYj: goto aAHpx; OzBs2: DUHPm: goto RnZSi; Zv2WF: wFfhD: goto QvP2b; ekFEO: $subtitle_arr = str_replace("\163\x75\x62\x74\151\164\x6c\145\75", '', explode("\54", $info[3])); goto VZZcb; LS5kV: $json[$server]["\x68\141\165\156\155\157\x76\151\145\x73\137\x73\145\162\166\145\x72\x5f\x64\x61\164\x61"][$_slug]["\150\x61\165\156\155\157\166\x69\x65\163\137\x65\160\x5f\154\151\x73\x74\x73\166"] = $dataserver; goto OzBs2; Hw9n8: $array = array("\150\x61\x75\x6e\x6d\157\166\151\145\163\x5f\x65\160\137\156\141\155\x65" => sanitize_text_field(trim($ep_name)), "\x68\141\x75\x6e\155\x6f\x76\x69\x65\x73\x5f\145\x70\137\163\154\x75\147" => str_replace("\x2d", "\137", sanitize_title(trim($ep_slug))), "\x68\x61\x75\156\155\157\166\151\145\x73\137\145\160\137\x74\x79\160\145" => sanitize_text_field(trim($ep_type)), "\x68\x61\165\x6e\155\157\166\x69\x65\163\x5f\145\160\137\x6c\151\x6e\153" => sanitize_text_field(trim($ep_link)), "\x68\x61\x75\x6e\x6d\157\x76\x69\145\x73\x5f\x65\160\x5f\x73\165\142\x73" => array(), "\x68\141\165\x6e\x6d\157\x76\151\145\x73\x5f\x65\x70\x5f\x6c\x69\x73\164\x73\166" => array()); goto dndfn; zq_xk: foreach ($subtitle_arr as $key => $subfile) { goto AWE6p; AWE6p: $subfile = explode("\52", $subfile); goto LwVZE; oxzJh: $subtitle_info[$key]["\150\x61\x75\x6e\x6d\157\166\151\x65\x73\x5f\145\x70\137\x73\165\x62\137\x64\145\146\x61\165\x6c\x74"] = $key == 0 ? true : false; goto aVzw4; aVzw4: A5eLe: goto MNnkp; PHTD3: $subtitle_info[$key]["\150\141\x75\x6e\x6d\157\166\x69\x65\163\x5f\x65\x70\137\163\165\x62\137\x6c\x61\x62\x65\154"] = sanitize_text_field(trim($subfile[1])); goto oxzJh; LwVZE: $subtitle_info[$key]["\x68\141\x75\156\x6d\x6f\x76\x69\x65\163\137\145\160\137\x73\x75\x62\137\x66\151\x6c\x65"] = sanitize_text_field(trim($subfile[0])); goto PHTD3; MNnkp: } goto a7Sfm; d5QEv: foreach ($server_data as $key => $sv) { goto E3r_K; xSwP3: $dataserver[$key]["\150\x61\165\156\x6d\x6f\x76\151\x65\x73\137\x65\x70\137\154\x69\x73\x74\x73\166\x5f\164\x79\160\x65"] = sanitize_text_field(trim($sv[2])); goto AZDlE; UA4pQ: $dataserver[$key]["\150\x61\165\x6e\x6d\157\166\151\145\x73\137\145\160\137\154\x69\163\x74\x73\x76\x5f\156\141\155\x65"] = sanitize_text_field(trim($sv[1])); goto xSwP3; E3r_K: $sv = explode("\52", $sv); goto qqfN1; qqfN1: $dataserver[$key]["\150\141\x75\156\x6d\x6f\x76\x69\145\163\x5f\145\160\x5f\x6c\151\x73\x74\x73\166\137\154\151\x6e\153"] = sanitize_text_field(trim($sv[0])); goto UA4pQ; AZDlE: Z17_A: goto AO_bA; AO_bA: } goto uHuSU; Olzkj: $server_data = str_replace("\163\x65\162\x76\145\162\75", '', explode("\x2c", $info[4])); goto TereN; TereN: if (!($server_data[0] !== '')) { goto DUHPm; } goto d5QEv; c88kv: if (!($links != '')) { goto jUUrr; } goto ceFR8; hz3qM: jUUrr: goto Zv2WF; RnZSi: KITTT: goto hz3qM; aAHpx: $json[$server]["\150\141\165\156\155\157\166\151\145\163\x5f\163\145\x72\x76\x65\x72\137\144\x61\164\x61"][$_slug]["\x68\141\165\156\x6d\x6f\166\151\145\163\x5f\145\160\x5f\x73\165\142\163"] = $subtitle_info; goto WnPxx; VZZcb: if (!($subtitle_arr[0] !== '')) { goto QpwIe; } goto zq_xk; FgYl3: $_slug = str_replace("\x2d", "\x5f", $ep_slug); goto Hw9n8; ceFR8: $info = explode("\174", $links); goto g7KTr; WnPxx: QpwIe: goto Qlcyz; keUnG: if (!isset($info[4])) { goto KITTT; } goto Olzkj; Qlcyz: vMASB: goto keUnG; QvP2b: } goto oAZVp; JEsZj: $server_name = isset($_POST["\163\145\162\166\145\x72\137\156\x61\155\145"]) ? sanitize_text_field(trim($_POST["\163\x65\162\x76\145\x72\x5f\156\141\155\145"])) : "\x53\145\x72\166\145\x72\x20\43\61"; goto roCTO; F6o7U: $json[$server]["\150\141\x75\x6e\x6d\x6f\166\151\145\x73\x5f\163\x65\x72\166\x65\x72\137\156\141\155\x65"] = $server_name; goto uyVys; ZyQa1: $server = isset($_POST["\163\x65\162\166\x65\162"]) ? absint($_POST["\163\x65\x72\x76\145\x72"]) : 0; goto JEsZj; YFD3U: update_post_meta($post_id, HNMG_EPS, wp_json_encode($json, JSON_UNESCAPED_UNICODE)); goto jC013; jC013: wp_send_json_success($json); goto mUXh2; mUXh2: } public function hnajax_addnewserver() { goto V0Uk0; dT87T: fdvfB: goto MkARu; V0Uk0: $post_id = isset($_POST["\160\157\x73\164\x5f\151\x64"]) ? absint($_POST["\160\x6f\x73\x74\x5f\x69\x64"]) : 0; goto eNljp; FQ4fI: $metaPost = json_decode(stripslashes(get_post_meta($post_id, HNMG_EPS, true)), true); goto HOnBa; LYTit: foreach ($list_link as $link) { goto fowxW; Lahkv: if (!(count($data) < 3)) { goto mRWnI; } goto bzvkA; j0I8j: $ep_slug = preg_match("\x2f\50\x5b\141\x2d\x7a\135\x2b\x29\x2f\x69\163", $ep_name) ? sanitize_title($ep_name) : sanitize_title("{$ep_name}"); goto NqixO; fowxW: $data = explode("\x7c", $link); goto Lahkv; vMmYR: $metaPost[$server]["\150\141\165\x6e\x6d\x6f\166\151\x65\163\x5f\x73\145\x72\x76\x65\x72\137\144\x61\164\141"][$ep_slug] = ["\150\x61\x75\x6e\155\157\x76\151\x65\163\x5f\145\x70\x5f\x6e\x61\155\x65" => sanitize_text_field(trim($ep_name)), "\150\141\x75\x6e\x6d\157\x76\x69\x65\163\137\x65\x70\x5f\163\154\x75\147" => str_replace("\55", "\x5f", sanitize_title(trim($ep_slug))), "\150\141\x75\x6e\155\x6f\x76\151\x65\x73\x5f\x65\160\137\164\171\160\145" => sanitize_text_field(trim($ep_type)), "\x68\x61\x75\156\x6d\x6f\166\151\145\163\x5f\x65\160\137\154\x69\156\x6b" => sanitize_text_field(trim($ep_link)), "\150\141\x75\x6e\155\157\166\151\x65\x73\137\x65\x70\x5f\163\x75\x62\x73" => [], "\x68\x61\x75\156\155\x6f\166\151\145\163\137\x65\x70\137\x6c\151\x73\x74\163\166" => []]; goto CktvA; B5SyV: $ep_name = sanitize_text_field($data[0]); goto Qt1GT; CktvA: e0wdr: goto a3_C9; Qt1GT: $ep_link = esc_url_raw($data[1]); goto HsA4h; HsA4h: $ep_type = sanitize_text_field($data[2]); goto j0I8j; O8oW8: mRWnI: goto B5SyV; NqixO: $ep_slug = str_replace("\55", "\137", $ep_slug); goto vMmYR; bzvkA: goto e0wdr; goto O8oW8; a3_C9: } goto dT87T; MkARu: $this->helper->set_post_modified($post_id); goto a7KVP; a7KVP: update_post_meta($post_id, HNMG_EPS, wp_json_encode($metaPost, JSON_UNESCAPED_UNICODE)); goto pETWX; p2s8n: gOM0M: goto FQ4fI; eNljp: $server = isset($_POST["\x73\x65\x72\x76\x65\162"]) ? absint($_POST["\163\145\162\x76\145\162"]) : 0; goto zHtyZ; zHtyZ: $server_name = isset($_POST["\163\145\x72\x76\x65\x72\x5f\x6e\141\155\145"]) ? sanitize_text_field($_POST["\163\145\162\x76\145\x72\x5f\156\x61\x6d\145"]) : ''; goto TVvgy; HOnBa: $metaPost[$server]["\x68\x61\165\x6e\x6d\x6f\x76\151\145\163\137\163\x65\x72\166\145\x72\x5f\x6e\141\155\145"] = $server_name; goto LYTit; dNFL2: if (!(!$post_id || !$server || !$server_name || !is_array($list_link))) { goto gOM0M; } goto JLiIq; TVvgy: $list_link = isset($_POST["\x6c\151\x73\x74\137\x6c\x69\156\x6b"]) ? json_decode(stripslashes($_POST["\154\x69\163\164\137\154\x69\156\x6b"]), true) : []; goto dNFL2; JLiIq: wp_send_json_error(["\x6d\x65\x73\x73\x61\147\145" => __("\x49\x6e\166\x61\154\151\x64\x20\144\x61\164\x61\x20\160\162\157\166\151\x64\145\x64\x2e", "\150\x6e\155\x67\x65\160\151\163")]); goto p2s8n; pETWX: wp_send_json_success($metaPost); goto KwBSn; KwBSn: } public function hnajax_update_postmeta() { goto EtFWm; qx6Wc: sleep(1); goto vC3dn; lSLNT: mY6_p: goto B_T4W; jn8Xj: $widget_values = []; goto CtxUh; LEf5g: update_post_meta($post_id, HNMG_META, $metaPost); goto qx6Wc; EtFWm: $post_id = isset($_POST["\x70\157\163\164\137\x69\x64"]) ? absint($_POST["\x70\157\x73\164\x5f\x69\144"]) : ''; goto D405Z; B_T4W: $meta_data = get_post_meta($post_id, HNMG_META, true); goto I5Mpg; BbfnN: wp_send_json_success($metaPost); goto peck0; xHene: $post_meta = isset($_POST["\x70\x6f\x73\164\137\155\145\164\141"]) ? json_decode(stripslashes($_POST["\x70\157\163\164\x5f\155\x65\164\x61"]), true) : []; goto ZHMc2; bLrrA: wp_die(); goto lSLNT; I5Mpg: $metaPost["\x68\141\x75\x6e\x5f\x70\157\x73\x74\145\162\137\x75\x72\x6c"] = sanitize_text_field($meta_data["\x68\141\x75\156\x5f\x70\x6f\x73\164\x65\x72\137\165\162\154"]); goto ps4hj; UID42: $formality = $this->helper->get_post_format($post_meta["\150\x61\x75\156\x5f\155\157\x76\151\145\137\x66\157\x72\x6d\x61\x6c\151\x74\171"]); goto tsfgX; h4Ih6: wp_set_object_terms($post_id, $post_meta["\150\x61\x75\x6e\137\x61\x64\x64\x5f\x74\157\137\167\151\x64\147\x65\x74"], "\x70\x6f\x73\x74\x5f\x6f\x70\x74\x69\x6f\x6e\x73", false); goto UID42; Z2aKh: $this->helper->set_post_modified($post_id); goto LEf5g; vC3dn: $post_meta = get_post_meta($post_id, HNMG_META, true); goto Iuprw; Iuprw: wp_set_object_terms($post_id, $post_meta["\150\x61\x75\156\137\155\x6f\x76\151\x65\137\x73\x74\x61\164\x75\x73"], "\163\164\141\164\165\163", false); goto h4Ih6; ZHMc2: if (is_array($post_meta)) { goto mY6_p; } goto tIkP2; D405Z: $server = isset($_POST["\163\145\x72\166\x65\x72"]) ? absint($_POST["\x73\x65\162\166\x65\162"]) : ''; goto xHene; ps4hj: $metaPost["\150\x61\165\156\137\x74\150\165\155\x62\137\x75\162\154"] = sanitize_text_field($meta_data["\150\141\x75\x6e\x5f\x74\x68\165\155\142\x5f\x75\x72\x6c"]); goto jn8Xj; CtxUh: foreach ($post_meta as $item) { goto WXAIh; h6kB5: jQCMY: goto C1Ick; iVZzv: $metaPost[$item["\x6e\x61\x6d\x65"]] = sanitize_text_field($item["\166\x61\x6c\165\x65"]); goto SYm3F; WXAIh: if (!(isset($item["\x6e\x61\155\145"]) && isset($item["\166\141\x6c\x75\145"]))) { goto jQCMY; } goto iVZzv; l3mvW: UHaFX: goto h6kB5; SYm3F: if (!($item["\156\x61\155\145"] == "\x68\x61\165\x6e\x5f\x61\x64\x64\x5f\164\x6f\137\x77\151\x64\x67\x65\164")) { goto UHaFX; } goto aSpxW; aSpxW: $widget_values[] = sanitize_text_field($item["\166\x61\x6c\165\x65"]); goto l3mvW; C1Ick: yA1v4: goto FBITb; FBITb: } goto HdJAl; tIkP2: wp_send_json_error(["\155\x65\x73\x73\x61\147\x65" => "\111\x6e\166\x61\x6c\151\x64\40\160\x6f\x73\164\40\155\x65\164\141\40\x66\157\162\x6d\x61\x74"]); goto bLrrA; HdJAl: KtQ_a: goto Cfwlb; tsfgX: set_post_format($post_id, $formality); goto BbfnN; Cfwlb: $metaPost["\x68\141\x75\156\x5f\x61\144\x64\137\164\157\137\x77\x69\144\147\145\164"] = $widget_values; goto Z2aKh; peck0: } public function hnajax_export_episodes() { goto eGGDC; S8c43: $server = sanitize_text_field($_POST["\x73\145\162\x76\145\x72\137\x69\144"]); goto Za4fs; bU3sg: if (is_dir(HNMG_EXPORT)) { goto r2PsX; } goto zKldy; Za4fs: $json = json_decode(stripslashes(get_post_meta($post_id, HNMG_EPS, true)), true); goto N35Cf; F6icD: $file_name = "\105\160\151\x73\x6f\144\x65\40\55\x20" . get_the_title($post_id) . "\40\x2d\40" . str_replace("\43", '', $json[$server]["\x68\141\x75\156\155\157\166\x69\x65\163\137\x73\x65\162\166\x65\x72\137\x6e\141\x6d\x65"]) . "\56\164\170\x74"; goto tlvwV; zFndR: r2PsX: goto MhT3F; N35Cf: $list_link = array_map(function ($episode) { goto I_261; uR1Eg: $subtitle_string = !empty($subtitle_list) ? "\174\163\x75\142\x74\151\x74\x6c\145\75" . implode("\x2c", $subtitle_list) : ''; goto BjVlt; BjVlt: $lists_v = !empty($list_server) ? "\174\x73\145\x72\166\145\x72\x3d" . implode("\x2c", $list_server) : ''; goto DH3Kr; I_261: $subtitle_list = array_map(function ($sub) { return $sub["\150\x61\x75\x6e\x6d\x6f\166\151\x65\163\137\x65\x70\137\163\165\142\x5f\x66\151\154\145"] . "\x2a" . $sub["\x68\141\165\156\x6d\157\x76\x69\x65\x73\137\145\x70\137\x73\x75\x62\137\x6c\141\x62\145\154"]; }, $episode["\x68\141\x75\156\x6d\x6f\166\x69\x65\x73\137\145\160\137\x73\x75\142\x73"] ?? []); goto Kgnm5; DH3Kr: return implode("\174", [$episode["\150\141\x75\156\155\157\x76\x69\x65\x73\137\145\160\x5f\156\141\x6d\x65"], $episode["\x68\x61\165\156\x6d\x6f\166\151\145\x73\x5f\x65\160\x5f\x6c\151\156\x6b"], $episode["\150\141\165\x6e\155\x6f\166\x69\145\x73\137\x65\160\137\x74\x79\160\145"]]) . $subtitle_string . $lists_v; goto FEFT2; Kgnm5: $list_server = array_map(function ($server_data) { return implode("\52", [$server_data["\x68\x61\165\x6e\155\157\166\151\145\x73\137\145\x70\x5f\154\151\163\x74\163\166\137\x6e\141\x6d\145"], $server_data["\x68\x61\x75\x6e\x6d\x6f\166\x69\145\x73\137\x65\160\x5f\154\151\x73\164\x73\166\x5f\154\151\x6e\153"], $server_data["\x68\x61\165\156\x6d\x6f\166\x69\x65\163\x5f\x65\160\137\154\151\163\164\163\x76\x5f\164\x79\x70\145"]]); }, $episode["\x68\x61\165\x6e\155\157\x76\x69\145\163\137\145\x70\137\x6c\x69\x73\x74\163\x76"] ?? []); goto uR1Eg; FEFT2: }, $json[$server]["\x68\x61\165\x6e\155\157\x76\151\145\x73\137\x73\145\x72\x76\x65\162\x5f\x64\141\164\141"] ?? []); goto bU3sg; zKldy: wp_mkdir_p(HNMG_EXPORT); goto zFndR; eGGDC: $post_id = sanitize_text_field($_POST["\160\157\163\x74\x5f\151\x64"]); goto S8c43; LRYr6: file_put_contents($file_path, $list_link_string); goto vxT5u; MhT3F: $list_link_string = implode("\xd\12", $list_link); goto F6icD; vxT5u: wp_send_json(["\163\x74\141\x74\x75\163" => true, "\x6d\163\x67" => "\x3c\x64\x69\x76\x20\x63\154\x61\163\163\75\x22\164\145\170\164\55\142\141\x73\145\x20\146\157\156\164\55\142\x6f\x6c\144\40\x70\170\x2d\64\40\x70\x79\55\66\40\x74\145\x78\164\55\143\145\156\x74\x65\162\42\x3e\x3c\141\40\x68\162\145\x66\x3d\42" . esc_url(content_url("\x66\151\154\155\x2d\145\x78\x70\157\x72\164") . "\x2f" . sanitize_file_name($file_name)) . "\x22\40\144\x6f\167\156\154\157\141\x64\76\x44\x6f\x77\156\154\157\x61\144\x20" . esc_html($file_name) . "\x3c\x2f\141\76\x3c\57\x64\x69\x76\76"]); goto OAqZF; tlvwV: $file_path = HNMG_EXPORT . "\57" . sanitize_file_name($file_name); goto LRYr6; OAqZF: } public function hnsave_server_hidden() { goto E2vAH; N4Ff7: $post_id = isset($_POST["\x70\157\163\x74\x5f\151\x64"]) ? absint($_POST["\x70\157\x73\x74\137\151\144"]) : ''; goto O_8rW; IYR2M: wp_die(); goto tTPpF; O_8rW: update_post_meta($post_id, "\145\x70\151\163\x6f\x64\x65\137\x73\x65\x72\166\x65\x72\137\x68\x69\x64\144\x65\x6e", $value); goto IYR2M; E2vAH: $value = isset($_POST["\166\141\x6c\x75\145"]) ? (array) $_POST["\x76\x61\154\x75\145"] : []; goto N4Ff7; tTPpF: } public function hnajax_force_delete_post() { wp_delete_post($_POST["\x70\157\x73\164\x5f\151\144"], true); die; } }
