<?php
/*   __________________________________________________
    |  		Code By HauN - HauNYTB.COM  2.0.14    	  |
    |          Telegram: https://t.me/haunytb         |
    |    	   Url : https://haunytb.com    		  |
    |_________________________________________________|
*/
 namespace HNMG\Episodes; use HNMG\Episodes\EP_Helper; use Illuminate\Support\Str; class EP_Actions { public function __construct() { $this->load = new EP_Helper(); } public function register() { goto ya1Gy; AO6MQ: add_action("\167\160\x5f\141\152\141\170\137\x68\x6e\141\x6a\x61\x78\x5f\157\156\145\x5f\x69\x6d\x70\157\x72\x74\145\162", [$this, "\150\156\x61\x6a\x61\x78\x5f\x6f\x6e\145\137\x69\x6d\160\157\162\x74\145\162"]); goto Be4EX; CSI5b: add_action("\167\x70\x5f\x61\x6a\x61\x78\137\150\x6e\141\x6a\x61\x78\x5f\x6c\151\x73\x74\x5f\x73\x65\x72\166\145\x72\151\144", [$this, "\x68\x6e\141\152\x61\170\x5f\x6c\x69\x73\x74\137\x73\145\162\166\x65\x72\x69\x64"]); goto e6a_T; ya1Gy: add_action("\x77\160\137\x61\x6a\141\170\137\x68\156\x61\x6a\141\x78\x5f\x67\x65\164\154\x69\x73\164\x5f\145\x70\x69\163\157\x64\145\x73", [$this, "\150\156\x61\152\x61\x78\137\x67\145\164\154\x69\x73\164\137\x65\x70\x69\163\x6f\x64\x65\x73"]); goto uaLkl; Be4EX: add_action("\167\x70\137\x61\x6a\x61\x78\x5f\150\x6e\x61\152\x61\170\137\164\167\x6f\x5f\x69\x6d\160\157\162\x74\145\162", [$this, "\150\156\141\x6a\141\170\137\x74\167\157\x5f\151\155\160\x6f\x72\164\145\x72"]); goto CSI5b; O38Qr: add_action("\167\x70\137\141\x6a\141\x78\137\x68\156\141\152\141\170\137\146\157\x72\x63\x65\x5f\144\145\154\145\164\x65\x5f\160\x6f\x73\x74", [$this, "\150\x6e\x61\152\141\170\137\146\157\x72\143\x65\x5f\144\x65\x6c\x65\x74\145\x5f\160\x6f\163\164"]); goto BDXn1; X0JLD: add_action("\167\160\x5f\x61\152\x61\170\x5f\150\x6e\x61\x6a\x61\170\x5f\x75\160\144\x61\x74\x65\137\160\x6f\x73\164\155\145\x74\141", [$this, "\x68\x6e\141\x6a\x61\170\137\x75\x70\144\x61\x74\x65\137\160\157\163\164\155\145\x74\141"]); goto zIwGd; zIwGd: add_action("\x77\x70\137\x61\x6a\141\170\x5f\150\156\163\x61\166\145\x5f\x73\145\162\x76\145\162\x5f\150\x69\144\x64\145\x6e", [$this, "\x68\x6e\x73\141\x76\145\137\x73\145\162\166\x65\x72\x5f\150\151\144\144\145\156"]); goto dlZOY; e6a_T: add_action("\167\x70\x5f\x61\x6a\x61\x78\x5f\150\x6e\x61\x6a\x61\x78\x5f\x75\x70\144\141\164\x65\137\x65\160\151\x73\157\x64\145", [$this, "\150\156\141\x6a\x61\x78\x5f\165\x70\144\141\164\145\137\145\160\151\x73\157\144\x65"]); goto T2XU3; RE_0o: add_action("\x77\160\137\141\x6a\141\170\x5f\x6c\x6f\141\144\x5f\x70\x6f\163\x74\x73\x5f\x64\x61\x74\x61", [$this, "\154\x6f\x61\x64\x5f\x70\x6f\163\164\x73\137\144\x61\164\141"]); goto ASecI; BDXn1: add_action("\x77\160\x5f\x61\152\141\x78\x5f\x68\156\137\x64\x65\154\145\x74\x65\x5f\163\145\154\x65\143\x74\145\144\x5f\160\x6f\x73\x74\163", [$this, "\150\x6e\137\x64\145\154\145\x74\145\x5f\x73\145\x6c\x65\143\x74\145\x64\x5f\x70\x6f\x73\x74\x73"]); goto RE_0o; T2XU3: add_action("\x77\160\137\x61\152\x61\x78\137\x68\x6e\141\x6a\x61\x78\x5f\141\x64\x64\156\145\x77\x73\x65\x72\x76\x65\x72", [$this, "\x68\x6e\141\x6a\x61\x78\137\141\144\144\x6e\x65\167\x73\x65\162\166\145\x72"]); goto X0JLD; dlZOY: add_action("\167\x70\x5f\x61\x6a\x61\170\137\x68\x6e\141\x6a\141\x78\x5f\x65\170\160\157\x72\164\137\x65\160\x69\163\x6f\x64\145\x73", [$this, "\150\156\x61\x6a\x61\x78\137\x65\x78\x70\x6f\162\x74\x5f\x65\160\151\x73\157\144\x65\163"]); goto O38Qr; yeCgI: add_action("\x77\x70\x5f\141\152\x61\170\x5f\150\156\x61\152\x61\x78\137\x70\x75\142\x6c\151\163\150\x5f\160\x6f\163\164", [$this, "\150\156\141\152\141\x78\x5f\160\165\x62\154\151\163\x68\x5f\160\x6f\x73\x74"]); goto AO6MQ; uaLkl: add_action("\x77\x70\x5f\x61\x6a\x61\x78\x5f\x68\x6e\x61\x6a\141\x78\137\162\145\155\x6f\x76\145\x5f\x73\x65\162\x76\145\x72", [$this, "\150\x6e\141\152\x61\x78\137\162\x65\155\x6f\166\x65\137\163\x65\162\x76\x65\162"]); goto yeCgI; ASecI: } public function load_posts_data() { goto juj9u; BX7kW: $linkname = $link != '' ? __("\105\x64\151\x74", "\x68\x6e\155\147\x65\160\151\163") : __("\x41\144\x64\40\x53\145\x72\166\x65\162", "\150\x6e\x6d\147\145\x70\x69\163"); goto xaYTx; xaYTx: $posts_data[] = ["\143\x68\145\x63\153\x62\x6f\x78" => "\74\151\156\160\165\164\x20\164\x79\160\145\x3d\42\x63\150\x65\143\x6b\142\157\x78\42\40\156\x61\x6d\x65\75\x22\x65\160\x69\163\x6f\144\145\x5f\x69\x64\163\42\40\x76\x61\x6c\165\x65\75\42" . $post->ID . "\x22\x20\x40\143\x6c\x69\x63\x6b\75\x22\164\x6f\x67\x67\x6c\x65\x53\x65\x6c\x65\143\164\x69\157\156\x28" . $post->ID . "\x29\x22\x20\72\143\x68\145\x63\x6b\145\144\75\42\143\150\145\x63\153\x41\154\154\42\x20\x63\x6c\141\163\x73\x3d\x22\x73\x69\172\x65\55\64\x20\x74\145\170\x74\55\x63\x65\156\x74\x65\x72\40\143\165\162\x73\157\x72\55\x70\157\151\x6e\164\145\x72\x20\141\160\160\145\141\162\x61\156\x63\145\55\156\157\x6e\145\40\x6f\166\145\x72\x66\x6c\x6f\x77\55\150\151\144\144\145\x6e\40\x72\x6f\x75\156\x64\145\144\x20\x62\157\162\144\x65\x72\40\142\157\162\144\145\x72\x2d\x6e\x65\x75\x74\x72\141\x6c\55\63\x30\x30\40\x62\147\55\x77\x68\151\164\145\40\x66\x6f\x63\165\x73\x3a\157\165\x74\154\x69\156\x65\x2d\156\157\156\145\x20\146\157\143\165\163\x3a\x72\151\156\x67\55\x30\42\40\x2f\76", "\111\104" => $post->ID, "\x74\x69\164\154\x65" => "\74\141\40\150\x72\x65\x66\x3d\42" . get_permalink($post->ID) . "\x22\x20\164\141\x72\x67\x65\x74\x3d\42\x5f\x62\x6c\141\156\x6b\x22\x20\x63\x6c\141\163\163\75\42\164\145\170\164\55\x70\151\156\153\55\x35\x30\60\x20\146\157\156\164\x2d\x73\x65\x6d\151\x62\x6f\x6c\144\x20\x74\x65\x78\164\55\170\x73\x20\150\x6f\166\x65\162\72\x74\x65\x78\164\x2d\146\x75\143\150\x73\x69\141\x2d\63\60\x30\40\x68\x6f\166\145\162\72\156\x6f\55\165\x6e\144\145\x72\x6c\151\x6e\x65\42\x3e" . Str::limit($post->post_title, 60, "\x2e\56\x2e") . "\x3c\57\141\76", "\163\150\x6f\x77" => $this->load->hidden_servers($post->ID, $data), "\x70\165\x62\154\x69\x73\150" => $this->load->hnupdate_publish($post->ID), "\145\x70\151\163\x6f\x64\145" => $this->load->hnmg_last_episode($post->ID, $meta), "\163\x74\141\164\165\163" => $this->load->hnshow_status($meta["\150\x61\x75\156\x5f\155\157\166\151\x65\137\x73\164\x61\x74\165\x73"] ?? ''), "\146\157\162\155\141\x6c\151\x74\x79" => $this->load->hnshow_formality($meta["\150\141\165\156\137\155\157\x76\151\145\137\x66\157\162\x6d\141\154\151\164\171"] ?? ''), "\145\x78\160\157\162\164" => $this->load->list_episode_servers($post->ID, $data), "\x61\143\164\151\157\x6e\163\137\x6c\x69\156\x6b" => "\74\141\40\x68\162\145\146\75\x22\77\160\x61\x67\x65\x3d\150\156\x6d\147\x2d\x65\x70\151\163\x6f\144\145\46\x61\143\164\x3d\x65\144\x69\x74\137\145\x70\46\160\157\163\164\x5f\151\x64\x3d" . $post->ID . "\x22\40\143\154\x61\163\163\x3d\x22" . $linkclass . "\x20\x66\x6f\156\164\55\x62\x6f\154\144\40\x74\x65\x78\x74\x2d\x78\163\x20\164\145\x78\x74\55\167\150\151\x74\x65\40\x70\171\x2d\61\40\x70\170\55\x34\x20\162\x6f\165\x6e\144\x65\x64\55\146\x75\154\154\x22\x3e" . $linkname . "\x3c\57\x61\x3e"]; goto zyjL3; dFoxc: $meta = get_post_meta($post->ID, HNMG_META, true); goto xXN2p; TTw2g: $dataPlayer = $data && !empty($data[0]["\150\x61\165\156\155\157\x76\151\145\163\x5f\163\x65\162\x76\x65\162\137\x64\x61\x74\x61"]) ? key($data[0]["\x68\x61\x75\156\x6d\157\x76\151\x65\x73\x5f\163\x65\162\x76\145\x72\x5f\144\141\164\141"]) : NULL; goto icXF1; ADQKr: wp_reset_postdata(); goto Zpi1l; yDwpk: $query->the_post(); goto jVxr_; YoCvm: $hidden_servers = get_post_meta($post->ID, "\x65\x70\151\x73\x6f\x64\145\x5f\163\145\162\x76\145\162\137\150\x69\144\x64\145\156", true); goto B3rDe; bNIZa: $posts_data = []; goto S42N6; zyjL3: goto vCDL3; goto fPfRW; xXN2p: $data = json_decode(stripslashes($post_meta), true); goto YoCvm; B3rDe: $hidden_servers = is_array($hidden_servers) ? $hidden_servers : (empty($hidden_servers) ? [] : explode("\x2c", $hidden_servers)); goto TTw2g; icXF1: $link = $dataPlayer != NULL ? $data[0]["\x68\x61\165\156\x6d\x6f\166\x69\x65\163\x5f\x73\145\162\x76\145\x72\137\x64\x61\164\x61"][$dataPlayer]["\x68\141\x75\x6e\x6d\x6f\x76\151\x65\163\137\x65\160\x5f\154\x69\x6e\x6b"] ?? '' : ''; goto dAfj1; UvbNA: wp_send_json_success($posts_data); goto E6DQP; jVxr_: global $post; goto pfsuN; fPfRW: MwpZJ: goto ADQKr; dAfj1: $linkclass = $link != '' ? "\142\147\x2d\x72\x65\x64\55\x35\x30\60\40\x68\x6f\x76\145\x72\x3a\x62\147\x2d\162\x65\x64\55\66\60\x30" : "\x62\x67\55\x6f\x72\141\x6e\147\145\55\65\x30\60\40\x68\157\166\x65\162\x3a\x62\x67\x2d\157\162\x61\156\147\145\x2d\x36\x30\60"; goto BX7kW; hCc9u: if (!$query->have_posts()) { goto MwpZJ; } goto yDwpk; juj9u: $query = new \WP_Query(["\x70\157\163\x74\137\164\x79\160\x65" => "\x70\157\x73\x74", "\x70\157\163\164\x73\x5f\x70\145\162\137\160\141\147\145" => -1, "\x6f\162\x64\145\162\142\171" => "\x6d\x6f\144\151\x66\151\x65\x64", "\x6f\162\x64\x65\162" => "\104\x45\x53\103"]); goto bNIZa; S42N6: if (!$query->have_posts()) { goto nTmhj; } goto MKn0J; Zpi1l: nTmhj: goto UvbNA; pfsuN: $post_meta = get_post_meta($post->ID, HNMG_EPS, true); goto dFoxc; MKn0J: vCDL3: goto hCc9u; E6DQP: } public function hn_delete_selected_posts() { goto CVmVg; EDXZH: xlisx: goto dg1eZ; dg1eZ: wp_send_json_success(["\155\x65\163\x73\x61\147\x65" => "\x53\x65\x6c\x65\x63\x74\x65\x64\x20\160\x6f\x73\x74\163\40\x61\x6e\144\x20\x61\163\163\157\143\151\141\x74\x65\144\40\151\155\141\147\145\x73\40\144\145\x6c\145\164\145\144\40\163\x75\143\x63\145\163\163\146\x75\154\154\171"]); goto H4C0Z; DwI5Y: hdsmC: goto Fpn9i; WN8TA: wp_send_json_error(["\155\x65\x73\163\141\x67\145" => "\116\157\40\160\x6f\163\164\163\40\163\145\154\145\x63\x74\145\x64"]); goto S1m6F; Ngyg4: foreach ($post_ids as $post_id) { goto KMmgU; golwB: mzGHv: goto jJMc7; lvBoV: if (empty($meta_options["\150\141\x75\156\137\160\x6f\x73\x74\145\x72\137\x75\x72\x6c"])) { goto MTXwG; } goto G_wh5; uAdoX: if (empty($meta_options["\150\141\x75\x6e\137\164\x68\165\155\x62\x5f\x75\x72\154"])) { goto NYxbb; } goto NRnH1; MNbpJ: unlink($poster_path); goto hcniY; fb40Y: $meta_options = get_post_meta($post_id, "\x5f\x68\141\x75\156\x5f\155\145\x74\x61\142\x6f\170\137\x6f\x70\164\151\157\156\x73", true); goto x6x2C; hcniY: gQMsv: goto OGimA; Ms1yl: NYxbb: goto fTbIU; fTbIU: xM64t: goto Ip5Re; AMi7a: unlink($thumb_path); goto vJxqz; NRnH1: $thumb_path = ABSPATH . str_replace(site_url("\57"), '', $meta_options["\150\x61\x75\x6e\x5f\x74\150\165\x6d\142\137\x75\162\154"]); goto tAZEd; OGimA: MTXwG: goto uAdoX; x6x2C: if (!$meta_options) { goto xM64t; } goto lvBoV; Ip5Re: wp_delete_post($post_id, true); goto RpQcV; G_wh5: $poster_path = ABSPATH . str_replace(site_url("\x2f"), '', $meta_options["\x68\141\165\x6e\137\x70\x6f\x73\x74\145\162\137\165\x72\x6c"]); goto d2hVg; RpQcV: EF80Q: goto golwB; d2hVg: if (!file_exists($poster_path)) { goto gQMsv; } goto MNbpJ; KMmgU: if (!(get_post($post_id) && current_user_can("\144\x65\x6c\x65\x74\145\137\x70\157\163\x74", $post_id))) { goto EF80Q; } goto fb40Y; vJxqz: C2xmb: goto Ms1yl; tAZEd: if (!file_exists($thumb_path)) { goto C2xmb; } goto AMi7a; jJMc7: } goto EDXZH; GX8sS: wp_send_json_error(["\155\x65\163\163\x61\147\145" => "\125\156\x61\165\164\x68\x6f\x72\151\x7a\x65\144"]); goto gxa3r; S1m6F: wp_die(); goto as625; as625: PmG2N: goto Ngyg4; CVmVg: if (current_user_can("\144\x65\x6c\145\164\x65\x5f\x70\x6f\x73\x74\163")) { goto hdsmC; } goto GX8sS; gxa3r: wp_die(); goto DwI5Y; SpegT: if (!empty($post_ids)) { goto PmG2N; } goto WN8TA; H4C0Z: wp_die(); goto x6qkT; Fpn9i: $post_ids = isset($_POST["\x70\x6f\x73\164\137\x69\144\x73"]) ? array_map("\151\x6e\164\166\x61\x6c", $_POST["\x70\x6f\163\164\x5f\151\x64\x73"]) : []; goto SpegT; x6qkT: } public function hnajax_update_episode() { goto diYak; YEfRM: $input = []; goto OfiuZ; GY3AK: cKpfj: goto GdQxA; GdQxA: update_post_meta($post_id, HNMG_EPS, json_encode($input, JSON_UNESCAPED_UNICODE)); goto DfWvv; DfWvv: wp_send_json_success(json_encode($input, JSON_UNESCAPED_UNICODE)); goto a1wjl; OfiuZ: foreach ($_POST["\x68\x61\x75\x6e\155\157\166\151\x65\x73\137\x73\145\162\166\145\162\137\x6e\141\155\145"] as $serverIndex => $serverName) { goto FkQce; jNVLO: foreach ($_POST["\x68\141\x75\x6e\155\x6f\x76\151\145\x73\x5f\x65\160\137\154\151\156\x6b"][$serverIndex] as $episodeIndex => $episodeLink) { goto UntY2; KKVeH: k_8Vc: goto BRili; Mpnwf: $_slug = str_replace("\x2d", "\x5f", $episode_slug); goto VgM7h; PgmI3: hsvdD: goto uxQJx; b9Hkq: if (!isset($_POST["\x68\141\x75\156\x6d\157\166\151\x65\163\137\x65\x70\x5f\x73\165\x62\x5f\154\141\x62\x65\154"][$serverIndex][$episodeIndex])) { goto tfOuW; } goto IsDH9; uxQJx: ZAPR8: goto KKVeH; IsDH9: $subLabels = $_POST["\x68\x61\165\156\x6d\157\x76\151\145\x73\x5f\145\x70\x5f\163\x75\142\x5f\154\x61\x62\145\x6c"][$serverIndex][$episodeIndex]; goto EexnR; fW4KA: if (!isset($_POST["\150\141\165\x6e\155\x6f\x76\x69\x65\163\x5f\x65\x70\137\154\151\163\164\163\166\x5f\x6c\151\x6e\153"][$serverIndex][$episodeIndex])) { goto ZAPR8; } goto Y1_8U; EexnR: $subDefaults = $_POST["\150\141\x75\x6e\155\157\x76\151\145\163\137\145\160\137\x73\165\142\x5f\x64\145\x66\x61\x75\x6c\x74"][$serverIndex][$episodeIndex]; goto RsaGq; UntY2: $episode_slug = sanitize_title($_POST["\150\x61\x75\156\155\x6f\x76\151\x65\x73\137\145\x70\x5f\163\x6c\x75\x67"][$serverIndex][$episodeIndex]); goto Mpnwf; VgM7h: $serverdata["\150\141\165\156\155\157\x76\x69\145\163\x5f\x73\145\162\166\x65\162\x5f\144\141\x74\x61"][$_slug] = ["\150\141\x75\x6e\155\157\x76\151\145\163\137\145\160\137\156\x61\x6d\x65" => isset($_POST["\x68\141\165\x6e\155\x6f\x76\151\145\163\137\145\x70\x5f\x6e\x61\x6d\x65"][$serverIndex][$episodeIndex]) ? $_POST["\x68\x61\x75\x6e\155\x6f\166\151\145\163\x5f\145\x70\x5f\x6e\x61\155\x65"][$serverIndex][$episodeIndex] : '', "\x68\141\x75\156\x6d\157\x76\x69\x65\x73\x5f\145\x70\137\x73\x6c\x75\x67" => isset($_POST["\x68\x61\x75\156\x6d\157\166\x69\x65\163\137\x65\160\x5f\x73\154\x75\147"][$serverIndex][$episodeIndex]) ? $_POST["\150\141\x75\x6e\x6d\157\166\151\145\163\137\x65\160\137\163\154\165\x67"][$serverIndex][$episodeIndex] : '', "\150\x61\x75\156\155\157\166\x69\x65\x73\137\145\x70\x5f\164\171\160\145" => isset($_POST["\x68\141\165\156\155\x6f\x76\x69\x65\163\x5f\145\160\x5f\x74\171\160\145"][$serverIndex][$episodeIndex]) ? $_POST["\x68\x61\165\x6e\x6d\x6f\166\151\145\x73\x5f\x65\160\x5f\x74\x79\x70\x65"][$serverIndex][$episodeIndex] : '', "\x68\x61\x75\x6e\155\x6f\x76\x69\145\x73\137\x65\160\x5f\154\151\x6e\153" => $episodeLink, "\x68\x61\165\156\155\x6f\166\x69\x65\163\137\x65\x70\x5f\163\x75\142\163" => [], "\150\141\x75\156\155\x6f\x76\x69\145\x73\137\x65\160\137\154\151\x73\x74\163\166" => []]; goto b9Hkq; Hft9S: tfOuW: goto fW4KA; Y1_8U: foreach ($_POST["\150\x61\165\x6e\x6d\157\x76\x69\145\163\x5f\145\160\137\154\151\x73\x74\x73\x76\137\x6c\x69\156\153"][$serverIndex][$episodeIndex] as $svIndex => $listsvLink) { goto B3Pa2; JtPbv: $listsvType = isset($_POST["\150\x61\165\156\x6d\x6f\166\151\x65\x73\x5f\x65\x70\x5f\x6c\x69\x73\164\x73\166\137\x74\x79\160\145"][$serverIndex][$episodeIndex][$svIndex]) ? $_POST["\150\141\165\x6e\x6d\157\x76\x69\x65\163\x5f\145\x70\x5f\x6c\151\x73\164\x73\x76\137\164\x79\x70\145"][$serverIndex][$episodeIndex][$svIndex] : ''; goto BxBod; SnOjO: DMtRn: goto ysSaO; BxBod: $serverdata["\x68\x61\x75\156\155\157\166\x69\x65\x73\137\163\145\162\166\145\162\x5f\144\141\164\x61"][$_slug]["\150\x61\x75\x6e\155\157\x76\x69\x65\x73\x5f\145\x70\x5f\154\151\x73\x74\x73\166"][] = ["\x68\x61\165\156\155\157\166\151\145\x73\137\x65\160\137\154\151\163\164\163\x76\x5f\154\x69\x6e\x6b" => trim($listsvLink), "\150\x61\x75\x6e\x6d\157\x76\151\145\163\x5f\145\160\137\x6c\151\163\164\163\166\x5f\156\141\x6d\x65" => trim($listsvName), "\x68\141\165\156\x6d\157\166\151\145\x73\137\x65\x70\137\x6c\x69\163\x74\163\166\x5f\164\x79\x70\145" => trim($listsvType)]; goto SnOjO; B3Pa2: $listsvName = isset($_POST["\150\x61\x75\156\x6d\x6f\x76\151\x65\163\137\x65\160\x5f\x6c\151\x73\164\163\x76\137\156\141\155\x65"][$serverIndex][$episodeIndex][$svIndex]) ? $_POST["\x68\x61\x75\156\x6d\x6f\166\151\x65\x73\137\145\160\x5f\154\151\163\x74\163\x76\x5f\x6e\x61\x6d\145"][$serverIndex][$episodeIndex][$svIndex] : ''; goto JtPbv; ysSaO: } goto PgmI3; L3vXO: WWzUD: goto Hft9S; RsaGq: foreach ($subLabels as $subIndex => $subLabel) { goto RJ1ZB; QTUl5: if (!isset($_POST["\x68\141\165\156\155\x6f\x76\x69\x65\x73\x5f\145\160\x5f\x73\165\142\137\x66\x69\154\145"][$serverIndex][$episodeIndex][$subIndex])) { goto MJ0BX; } goto y4ybo; k7Vir: if (isset($_FILES["\150\141\x75\156\155\x6f\166\x69\x65\x73\x5f\x65\160\x5f\x73\165\x62\x5f\165\160\x6c\x6f\x61\144"]["\x6e\141\x6d\145"][$serverIndex][$episodeIndex][$subIndex]) && !empty($_FILES["\x68\141\x75\x6e\155\157\x76\151\145\x73\x5f\x65\160\x5f\163\165\x62\x5f\165\x70\x6c\x6f\141\x64"]["\x6e\141\x6d\x65"][$serverIndex][$episodeIndex][$subIndex])) { goto q5_NM; } goto QTUl5; QtMEH: MJ0BX: goto Pz4gy; DaO8d: Wx0EO: goto rAPqJ; RJ1ZB: $subFile = ''; goto k7Vir; y4ybo: $subFile = $_POST["\x68\141\x75\156\155\157\166\151\x65\163\x5f\145\160\x5f\x73\165\x62\x5f\146\151\154\x65"][$serverIndex][$episodeIndex][$subIndex]; goto QtMEH; KmfJE: $subFile = $upload["\x75\162\154"]; goto iodG_; g4a4J: $serverdata["\150\141\165\156\x6d\x6f\x76\151\x65\163\x5f\x73\x65\x72\x76\x65\162\x5f\144\x61\164\x61"][$_slug]["\x68\x61\165\x6e\x6d\x6f\x76\x69\145\x73\137\145\160\137\163\165\142\163"][] = ["\x68\x61\x75\156\x6d\157\166\x69\x65\x73\137\x65\x70\137\163\165\x62\137\x66\x69\154\x65" => trim($subFile), "\150\141\x75\x6e\x6d\x6f\166\151\x65\x73\137\x65\x70\x5f\x73\165\142\x5f\154\141\142\x65\x6c" => trim($subLabel), "\x68\141\165\x6e\x6d\157\x76\151\145\x73\137\x65\x70\137\163\165\x62\137\x6b\x69\x6e\144" => "\143\141\160\x74\x69\x6f\x6e\163", "\150\141\165\x6e\x6d\x6f\166\x69\145\163\x5f\145\x70\137\163\x75\142\x5f\144\145\x66\x61\165\x6c\164" => isset($subDefaults[$subIndex]) && $subDefaults[$subIndex] === "\164\x72\x75\x65" ? "\x74\x72\165\145" : "\x66\141\x6c\x73\x65"]; goto DaO8d; hmQ34: q5_NM: goto c3F8z; c3F8z: $uploadedFile = ["\x6e\x61\155\x65" => $_FILES["\150\x61\165\156\155\x6f\x76\x69\x65\x73\x5f\145\x70\137\163\165\142\x5f\165\160\154\157\x61\144"]["\156\141\155\x65"][$serverIndex][$episodeIndex][$subIndex], "\x74\171\160\x65" => $_FILES["\150\x61\165\x6e\x6d\x6f\166\x69\x65\163\137\x65\x70\x5f\x73\165\x62\x5f\x75\x70\154\x6f\141\144"]["\164\171\160\145"][$serverIndex][$episodeIndex][$subIndex], "\164\155\160\137\156\x61\155\x65" => $_FILES["\150\141\165\x6e\155\x6f\166\x69\x65\163\137\145\160\137\x73\165\142\137\x75\160\154\157\141\x64"]["\164\155\x70\137\156\x61\x6d\x65"][$serverIndex][$episodeIndex][$subIndex], "\x65\162\162\157\162" => $_FILES["\x68\141\x75\156\x6d\157\x76\151\x65\163\137\145\x70\x5f\x73\165\142\137\165\x70\x6c\157\x61\x64"]["\145\162\x72\157\162"][$serverIndex][$episodeIndex][$subIndex], "\163\x69\x7a\145" => $_FILES["\150\141\165\156\x6d\157\x76\151\x65\163\137\x65\x70\x5f\x73\165\x62\137\x75\x70\154\157\x61\144"]["\x73\x69\172\x65"][$serverIndex][$episodeIndex][$subIndex]]; goto LNNea; iodG_: L07lf: goto Hh5Dq; LNNea: $upload = wp_handle_upload($uploadedFile, ["\164\x65\163\164\137\x66\157\162\x6d" => false]); goto fXBI4; Hh5Dq: Y87X8: goto g4a4J; Pz4gy: goto Y87X8; goto hmQ34; fXBI4: if (isset($upload["\145\x72\162\x6f\162"])) { goto L07lf; } goto KmfJE; rAPqJ: } goto L3vXO; BRili: } goto dxqTw; GZiPj: if (!isset($_POST["\x68\x61\x75\156\155\x6f\x76\x69\x65\163\137\145\160\137\154\x69\x6e\x6b"][$serverIndex])) { goto jzOxC; } goto jNVLO; vWjP1: $serverdata["\150\141\x75\x6e\x6d\157\166\x69\145\163\137\x73\145\x72\166\x65\162\x5f\156\141\155\x65"] = esc_attr($serverName ? $serverName : "\123\145\x72\x76\145\162\40\x23" . $serverIndex); goto Cq1Jm; FkQce: $serverdata = []; goto vWjP1; dxqTw: fEq2M: goto mYKhT; mYKhT: jzOxC: goto P03lM; P03lM: $input[] = $serverdata; goto ljGip; Cq1Jm: $serverdata["\150\141\165\156\x6d\x6f\x76\x69\x65\x73\137\x73\145\x72\166\145\x72\x5f\x64\141\x74\x61"] = []; goto GZiPj; ljGip: S9mj8: goto C6PQT; C6PQT: } goto GY3AK; diYak: $post_id = isset($_POST["\x70\157\x73\164\x5f\151\144"]) ? absint($_POST["\x70\157\x73\x74\x5f\x69\144"]) : ''; goto YEfRM; a1wjl: } public function hnajax_getlist_episodes() { goto uzZ8m; aU1Uq: $data = json_decode(stripslashes($metaPost), true); goto G0yKz; G0yKz: wp_send_json_success($data); goto fh0JS; uzZ8m: $postID = isset($_POST["\160\x6f\163\x74\137\151\144"]) ? intval($_POST["\160\157\x73\x74\137\x69\x64"]) : 0; goto npaE_; npaE_: $metaPost = get_post_meta($postID, HNMG_EPS, true); goto aU1Uq; fh0JS: wp_die(); goto a58fc; a58fc: } public function hnajax_remove_server() { goto DEz1N; ek120: $server = isset($_POST["\163\145\x72\x76\145\162"]) ? absint($_POST["\163\145\162\x76\145\x72"]) : ''; goto q_0Lq; Y_cKB: unset($hiddensv[$server]); goto FYBQH; FwTbP: wp_die(); goto mb0n0; z4DUZ: if (!$hiddensv) { goto FWEZc; } goto Y_cKB; k9H_b: wp_send_json_error(["\155\x65\163\163\141\147\x65" => "\x49\156\166\x61\x6c\151\144\x20\x72\145\161\165\145\x73\164"]); goto FS5bu; g70wp: $metaPost = array_values($data); goto z4DUZ; UzWlo: wp_die(); goto dnUTB; CIXDN: $hiddensv = get_post_meta($post_id, "\145\x70\151\163\157\144\145\x5f\x73\x65\162\x76\x65\x72\137\150\x69\144\x64\x65\x6e", true); goto pHa4T; xQ8lj: FWEZc: goto KwtLQ; FS5bu: zFxmx: goto oNJPH; FYBQH: update_post_meta($post_id, "\145\x70\151\x73\157\144\145\137\x73\145\x72\166\145\x72\137\x68\151\144\x64\145\x6e", $hiddensv); goto xQ8lj; pHa4T: unset($data[$server]); goto g70wp; DEz1N: $post_id = isset($_POST["\x70\x6f\163\x74\x5f\x69\x64"]) ? absint($_POST["\160\157\163\164\137\151\x64"]) : ''; goto ek120; q_0Lq: if (!(empty($server) && $server == "\60")) { goto Ku2ky; } goto jRtov; JEPJY: wp_send_json_success(["\155\x65\x73\x73\141\x67\x65" => "\123\x65\162\166\145\162\40\144\145\154\x65\164\145\144\40\x73\165\x63\143\x65\x73\163\146\165\x6c\x6c\171"]); goto FwTbP; emVme: wp_send_json_success(["\155\x65\x73\x73\141\147\145" => "\123\x65\x72\x76\145\x72\40\x64\x65\x6c\145\x74\x65\144\40\163\165\143\x63\x65\163\163\x66\165\x6c\x6c\x79"]); goto UzWlo; dnUTB: Ku2ky: goto dXLVo; dXLVo: if (!(!$post_id || !$server)) { goto zFxmx; } goto k9H_b; jRtov: delete_post_meta($post_id, HNMG_EPS); goto emVme; oNJPH: $data = json_decode(stripslashes(get_post_meta($post_id, HNMG_EPS, true)), true); goto CIXDN; KwtLQ: update_post_meta($post_id, HNMG_EPS, wp_json_encode($metaPost, JSON_UNESCAPED_UNICODE)); goto JEPJY; mb0n0: } public function hnajax_publish_post() { goto zYdVe; PTCgb: ZQU1O: goto QvE1z; lu1RX: yRYB1: goto pfNnS; pfNnS: $postData = array("\111\104" => $post_id, "\160\x6f\163\x74\x5f\x73\164\x61\x74\165\x73" => "\160\x75\x62\x6c\151\163\150"); goto OksHU; d_8bI: wp_send_json_error(); goto WOj2V; WOj2V: goto ZQU1O; goto lu1RX; lipgX: if ($post_id) { goto yRYB1; } goto d_8bI; OksHU: wp_update_post($postData); goto zrD_w; zYdVe: $post_id = isset($_POST["\160\x6f\x73\x74\137\151\x64"]) ? (int) $_POST["\160\157\x73\x74\x5f\151\144"] : ''; goto lipgX; zrD_w: wp_send_json_success($post_id); goto PTCgb; QvE1z: } public function hnajax_one_importer() { goto ia94k; D51Qk: $server_name = isset($_POST["\163\x65\162\166\145\x72\x5f\x6e\141\x6d\145"]) ? sanitize_text_field(trim($_POST["\x73\145\x72\166\x65\x72\137\x6e\141\155\145"])) : "\x53\145\x72\166\145\162\x20\43\61"; goto VCefb; zkWSJ: $episode_slug = sanitize_text_field(trim($_POST["\145\160\x69\163\x6f\x64\x65\x5f\x73\154\165\x67"] ?? '')); goto MhJop; MhJop: $metaPost = json_decode(get_post_meta($post_id, HNMG_EPS, true), true) ?? []; goto EfJlm; Wi7iM: $server = isset($_POST["\x73\x65\162\166\145\x72"]) ? absint($_POST["\163\x65\x72\166\145\162"]) : ''; goto D51Qk; HuMvg: $import_type = sanitize_text_field(trim($_POST["\x69\155\x70\x6f\x72\164\x5f\164\x79\160\x65"] ?? '')); goto zkWSJ; ia94k: $post_id = isset($_POST["\x70\157\x73\164\x5f\x69\x64"]) ? absint($_POST["\160\x6f\x73\x74\x5f\151\144"]) : ''; goto Wi7iM; geLfE: wp_send_json_success($metaPost); goto DQ56T; WAf9V: update_post_meta($post_id, HNMG_EPS, wp_json_encode($metaPost, JSON_UNESCAPED_UNICODE)); goto geLfE; EfJlm: foreach ($list_link as $link) { goto QQO2K; y0bfv: if (!(count($link_parts) < 2)) { goto lHtk8; } goto DfqK0; GUyOw: Hi_jL: goto vPxcy; V68_e: py9Vp: goto pRLT5; oG4zk: bObcE: goto UNjj8; IDZyl: lHtk8: goto elvww; UNjj8: Y51tT: goto V68_e; elvww: switch ($import_type) { case "\x6c\151\x73\x74\163\145\x72\x76\x65\x72": goto KJ1Fe; OwXXh: goto Y51tT; goto WReSE; HOb12: $metaPost[$server]["\x68\x61\165\x6e\155\x6f\166\151\x65\163\x5f\x73\145\162\x76\x65\162\137\144\x61\164\x61"][$episode_slug]["\x68\x61\x75\x6e\155\x6f\166\151\145\163\x5f\x65\160\137\x6c\151\163\x74\x73\166"] = $metaPost[$server]["\150\x61\x75\x6e\155\x6f\x76\151\x65\x73\137\x73\x65\162\x76\145\x72\x5f\x64\141\x74\x61"][$episode_slug]["\x68\x61\165\156\x6d\x6f\166\x69\x65\163\x5f\145\160\x5f\x6c\151\x73\164\x73\166"] ?? []; goto PLml1; PLml1: $metaPost[$server]["\x68\x61\x75\156\155\x6f\x76\151\x65\x73\x5f\163\x65\162\166\x65\162\137\x64\141\x74\x61"][$episode_slug]["\150\x61\165\x6e\x6d\157\x76\x69\x65\x73\x5f\145\160\137\154\x69\x73\x74\x73\x76"][] = $new_episode_data; goto OwXXh; KJ1Fe: $new_episode_data = ["\150\x61\x75\x6e\x6d\x6f\166\x69\145\163\137\x65\160\137\x6c\x69\163\164\x73\x76\x5f\x6e\x61\x6d\145" => sanitize_text_field(trim($link_parts[0])), "\150\x61\165\156\155\157\x76\151\145\x73\137\145\160\137\x6c\x69\163\x74\163\x76\x5f\154\151\156\153" => sanitize_text_field(trim($link_parts[1])), "\150\x61\165\156\155\x6f\x76\x69\145\163\x5f\x65\160\137\x6c\151\163\164\163\x76\x5f\164\171\x70\x65" => sanitize_text_field(trim($link_parts[2] ?? ''))]; goto HOb12; WReSE: case "\x73\165\x62\164\x69\x74\x6c\145": goto mKNgt; YL13g: $metaPost[$server]["\x68\141\x75\x6e\155\157\x76\151\145\163\x5f\x73\x65\162\x76\145\x72\137\x64\141\164\x61"][$episode_slug]["\150\x61\x75\x6e\155\157\166\151\145\x73\137\145\160\137\163\165\142\163"][] = $new_subtitle_data; goto n8trZ; mKNgt: $new_subtitle_data = ["\150\x61\x75\x6e\155\157\166\x69\145\163\x5f\x65\160\x5f\x73\x75\x62\137\154\x61\x62\145\154" => sanitize_text_field(trim($link_parts[0])), "\150\141\165\156\x6d\x6f\166\151\145\163\x5f\x65\160\137\x73\x75\142\137\x6c\x69\156\153" => sanitize_text_field(trim($link_parts[1]))]; goto s_Iw0; n8trZ: goto Y51tT; goto GoKUx; s_Iw0: $metaPost[$server]["\150\x61\165\x6e\x6d\157\x76\151\x65\x73\x5f\x73\x65\162\166\x65\162\x5f\x64\141\164\141"][$episode_slug]["\150\141\x75\156\x6d\x6f\x76\151\145\163\x5f\145\160\137\163\x75\142\163"] = $metaPost[$server]["\150\141\x75\x6e\155\x6f\x76\151\145\163\x5f\163\145\162\166\x65\x72\137\x64\x61\164\x61"][$episode_slug]["\x68\141\x75\156\155\x6f\x76\151\145\x73\137\145\160\x5f\163\165\142\163"] ?? []; goto YL13g; GoKUx: case "\x6c\x69\x73\164\145\x70\x69\x73\157\x64\x65": goto KbMF2; fG3k9: $metaPost[$server]["\150\141\165\x6e\x6d\x6f\x76\x69\x65\163\137\163\145\162\x76\145\162\137\144\x61\164\x61"][$ep_slug] = ["\150\141\165\x6e\x6d\157\166\x69\145\163\137\145\160\x5f\156\141\x6d\x65" => sanitize_text_field(trim($ep_name)), "\150\x61\165\x6e\x6d\x6f\166\151\x65\x73\137\x65\160\x5f\163\154\x75\147" => str_replace("\x2d", "\x5f", sanitize_title(trim($ep_slug))), "\x68\x61\x75\x6e\x6d\157\x76\x69\x65\x73\x5f\145\160\x5f\164\171\160\145" => sanitize_text_field(trim($ep_type)), "\150\x61\x75\x6e\x6d\x6f\166\151\145\x73\137\145\x70\137\154\151\156\x6b" => sanitize_text_field(trim($ep_link)), "\150\141\165\x6e\x6d\157\166\151\145\x73\x5f\145\x70\x5f\163\165\142\x73" => [], "\x68\x61\x75\x6e\155\157\x76\x69\x65\163\137\x65\x70\137\x6c\151\x73\164\163\166" => []]; goto jp1xs; iCaRM: $ep_slug = sanitize_text_field(trim($ep_name)); goto fG3k9; jp1xs: goto Y51tT; goto Km8wM; KbMF2: list($ep_name, $ep_link, $ep_type) = $link_parts; goto iCaRM; Km8wM: } goto oG4zk; DfqK0: goto py9Vp; goto IDZyl; QQO2K: if (!empty($link)) { goto Hi_jL; } goto l7DRl; vPxcy: $link_parts = explode("\174", $link); goto y0bfv; l7DRl: goto py9Vp; goto GUyOw; pRLT5: } goto Zroky; VCefb: $list_link = isset($_POST["\x6c\x69\163\x74\x5f\x6c\151\x6e\153"]) ? json_decode(stripslashes($_POST["\x6c\x69\163\x74\137\154\151\156\153"]), true) : []; goto HuMvg; Zroky: WBLzS: goto WAf9V; DQ56T: } public function hnajax_list_serverid() { goto oJ0Qj; oVGWP: foreach ($data[$server]->haunmovies_server_data as $key => $val) { $options .= "\x3c\x6f\x70\164\x69\x6f\156\x20\x76\x61\154\x75\x65\75\42" . $key . "\42\x3e" . esc_html($val->haunmovies_ep_name) . "\74\57\x6f\160\164\x69\x6f\156\x3e"; fFfZ1: } goto CfewD; U_TZR: exit; goto V8jlt; Zc3Lk: if (!empty($data) && isset($data[$server]->haunmovies_server_data)) { goto rAByX; } goto BsIrb; CsDgr: $data = json_decode(stripslashes($episode_meta)); goto Zc3Lk; HiLvH: nA_yN: goto U_TZR; Erb_Y: $episode_meta = get_post_meta($post_id, HNMG_EPS, true); goto CsDgr; wIWph: goto nA_yN; goto OfDht; BsIrb: wp_send_json_error(__("\x4e\x6f\x20\145\160\x69\163\157\x64\x65\x73\40\x66\x6f\165\x6e\144", "\x68\156\x6d\x67\145\160\x69\x73")); goto wIWph; vBZ9U: $server = isset($_POST["\163\x65\x72\x76\145\162"]) ? absint($_POST["\x73\x65\162\166\145\162"]) : ''; goto Erb_Y; oJ0Qj: $post_id = isset($_POST["\160\x6f\x73\x74\x5f\x69\x64"]) ? absint($_POST["\x70\x6f\x73\x74\137\151\144"]) : ''; goto vBZ9U; vING0: $options = "\74\x6f\160\x74\x69\157\156\40\x76\x61\x6c\x75\x65\75\42\42\40\x69\144\x3d\x22\143\150\x6f\157\x73\x65\55\x65\160\42\x3e" . __("\x43\150\157\x6f\x73\145\x20\x45\x70\x69\x73\x6f\x64\145", "\150\156\155\x67\x65\x70\151\163") . "\x3c\57\x6f\x70\164\x69\157\x6e\76"; goto oVGWP; CfewD: PfsUO: goto Iy8kO; Iy8kO: wp_send_json_success($options); goto HiLvH; OfDht: rAByX: goto vING0; V8jlt: } public function hnajax_two_importer() { goto jDVsN; JpjOH: $server_name = isset($_POST["\163\145\x72\x76\145\162\137\156\141\155\145"]) ? sanitize_text_field(trim($_POST["\x73\x65\x72\166\145\x72\x5f\x6e\x61\155\x65"])) : "\x53\145\x72\166\145\162\40\x23\61"; goto uBGHL; rI0BM: foreach ($list_link as $links) { goto gd5K8; Qzwa1: OUpnY: goto WD4jv; jFe0x: $json[$server]["\x68\x61\x75\x6e\155\157\x76\151\x65\x73\137\163\x65\x72\x76\x65\x72\x5f\x64\x61\164\141"][$_slug]["\x68\141\165\x6e\155\x6f\x76\x69\145\163\x5f\145\160\137\x73\165\142\x73"] = $subtitle_info; goto Qzwa1; eBYJN: $_slug = str_replace("\55", "\137", $ep_slug); goto DK8cp; xjxeC: $ep_slug = preg_match("\x2f\x28\133\x61\55\x7a\135\53\x29\57\x69\x73", $ep_name) ? sanitize_title($ep_name) : sanitize_title($ep_name); goto eBYJN; tqVZb: $subtitle_arr = str_replace("\163\x75\142\x74\x69\x74\x6c\145\75", '', explode("\x2c", $info[3])); goto OEn8v; W0tKW: foreach ($subtitle_arr as $key => $subfile) { goto jHwUp; LkCWQ: f0FVz: goto e0EpS; sD0E5: $subtitle_info[$key]["\x68\x61\165\156\x6d\x6f\166\x69\145\x73\x5f\x65\160\137\x73\165\142\137\144\x65\146\141\165\154\164"] = $key == 0 ? true : false; goto LkCWQ; BfJsn: $subtitle_info[$key]["\150\141\165\x6e\x6d\x6f\x76\151\x65\163\137\x65\x70\137\x73\165\x62\x5f\x6c\141\142\145\x6c"] = sanitize_text_field(trim($subfile[1])); goto sD0E5; J_4lQ: $subtitle_info[$key]["\x68\141\165\x6e\x6d\x6f\166\x69\x65\163\x5f\145\160\x5f\163\x75\142\x5f\x66\x69\154\145"] = sanitize_text_field(trim($subfile[0])); goto BfJsn; jHwUp: $subfile = explode("\x2a", $subfile); goto J_4lQ; e0EpS: } goto kMN7c; WD4jv: qFAW2: goto EPdYT; lRmEX: foreach ($server_data as $key => $sv) { goto eP0ty; eP0ty: $sv = explode("\52", $sv); goto L3bUb; L3bUb: $dataserver[$key]["\150\141\165\x6e\155\157\x76\151\x65\x73\137\145\x70\137\x6c\151\163\x74\163\x76\137\154\151\156\x6b"] = sanitize_text_field(trim($sv[0])); goto mrikk; wuBzK: $dataserver[$key]["\x68\141\165\x6e\x6d\x6f\166\x69\145\x73\x5f\x65\x70\137\154\x69\163\164\x73\x76\137\x74\171\160\x65"] = sanitize_text_field(trim($sv[2])); goto n67sQ; n67sQ: vX3ZI: goto OtFAX; mrikk: $dataserver[$key]["\150\x61\x75\156\x6d\x6f\166\151\x65\x73\x5f\x65\160\x5f\154\x69\x73\164\163\166\x5f\156\x61\155\x65"] = sanitize_text_field(trim($sv[1])); goto wuBzK; OtFAX: } goto xLc1X; gd5K8: if (!($links != '')) { goto uVQE5; } goto SZhPT; DK8cp: $array = array("\x68\141\165\156\x6d\157\x76\151\145\x73\x5f\145\160\x5f\x6e\x61\155\145" => sanitize_text_field(trim($ep_name)), "\150\x61\165\x6e\x6d\157\x76\151\x65\x73\x5f\x65\x70\x5f\163\154\x75\147" => str_replace("\55", "\137", sanitize_title(trim($ep_slug))), "\150\141\165\x6e\155\157\166\x69\145\x73\137\145\160\137\x74\171\x70\x65" => sanitize_text_field(trim($ep_type)), "\x68\x61\x75\x6e\155\157\166\151\145\163\x5f\x65\x70\x5f\x6c\x69\x6e\x6b" => sanitize_text_field(trim($ep_link)), "\x68\x61\165\x6e\155\x6f\x76\x69\145\x73\137\x65\x70\137\x73\x75\142\x73" => array(), "\150\x61\x75\x6e\x6d\x6f\x76\151\145\x73\137\145\160\137\154\151\x73\x74\x73\166" => array()); goto hnyrU; gPJe4: $json[$server]["\150\141\x75\x6e\x6d\157\166\x69\x65\163\137\163\145\162\166\x65\x72\x5f\x64\x61\x74\x61"][$_slug]["\x68\141\165\x6e\155\x6f\x76\151\145\x73\x5f\x65\x70\137\154\x69\x73\164\163\x76"] = $dataserver; goto ZGhY0; b39Tn: $server_data = str_replace("\163\x65\162\x76\x65\162\75", '', explode("\x2c", $info[4])); goto U0eJp; KMDri: uVQE5: goto a0Izj; SekMF: if (!isset($info[3])) { goto qFAW2; } goto tqVZb; ZGhY0: P1RJk: goto JMnE1; JMnE1: F4uP1: goto KMDri; U0eJp: if (!($server_data[0] !== '')) { goto P1RJk; } goto lRmEX; SZhPT: $info = explode("\x7c", $links); goto QVTSX; EPdYT: if (!isset($info[4])) { goto F4uP1; } goto b39Tn; hnyrU: $json[$server]["\150\141\165\156\155\157\166\151\145\x73\137\x73\145\x72\x76\x65\162\x5f\144\141\164\141"][$_slug] = $array; goto SekMF; xLc1X: mQgIa: goto gPJe4; QVTSX: list($ep_name, $ep_link, $ep_type) = $info; goto xjxeC; kMN7c: LGo5b: goto jFe0x; OEn8v: if (!($subtitle_arr[0] !== '')) { goto OUpnY; } goto W0tKW; a0Izj: Y1dIi: goto Ajx0G; Ajx0G: } goto uzRs7; vMB9K: $server = isset($_POST["\163\x65\162\x76\x65\162"]) ? absint($_POST["\x73\145\162\x76\145\x72"]) : 0; goto JpjOH; uBGHL: $list_link = isset($_POST["\x6c\x69\x73\164\x5f\154\x69\x6e\x6b"]) ? json_decode(stripslashes($_POST["\x6c\151\163\164\137\x6c\151\x6e\153"]), true) : []; goto ByUnn; jDVsN: $post_id = isset($_POST["\x70\157\x73\x74\137\x69\x64"]) ? absint($_POST["\x70\157\163\164\x5f\151\x64"]) : ''; goto vMB9K; b0H_o: $json[$server]["\150\x61\x75\x6e\x6d\x6f\x76\x69\x65\x73\137\x73\145\x72\x76\x65\x72\137\x6e\141\x6d\x65"] = $server_name; goto rI0BM; slrje: update_post_meta($post_id, HNMG_EPS, wp_json_encode($json, JSON_UNESCAPED_UNICODE)); goto d81qU; d81qU: wp_send_json_success($json); goto BK2QB; ByUnn: $json = json_decode(stripcslashes(get_post_meta($post_id, HNMG_EPS, true)), true); goto b0H_o; uzRs7: khano: goto slrje; BK2QB: } public function hnajax_addnewserver() { goto Atih0; XlZ3R: update_post_meta($post_id, HNMG_EPS, wp_json_encode($metaPost, JSON_UNESCAPED_UNICODE)); goto vs7Tf; vs7Tf: wp_send_json_success($metaPost); goto GYcyE; Atih0: $post_id = isset($_POST["\160\157\163\x74\x5f\151\144"]) ? absint($_POST["\x70\157\163\x74\x5f\151\x64"]) : 0; goto MbdMs; Xz573: pUPSl: goto DE3SP; t32_9: if (!(!$post_id || !$server || !$server_name || !is_array($list_link))) { goto pUPSl; } goto OAphZ; OAphZ: wp_send_json_error(["\x6d\145\x73\x73\x61\x67\145" => __("\x49\156\166\141\x6c\x69\144\40\x64\141\164\141\x20\x70\162\157\166\x69\x64\x65\x64\56", "\150\x6e\x6d\147\145\x70\x69\163")]); goto Xz573; dHbqB: IDO2U: goto EKu3f; sUQpZ: $list_link = isset($_POST["\x6c\x69\163\x74\137\x6c\151\156\153"]) ? json_decode(stripslashes($_POST["\x6c\151\163\x74\x5f\154\151\156\x6b"]), true) : []; goto t32_9; DE3SP: $metaPost = json_decode(stripslashes(get_post_meta($post_id, HNMG_EPS, true)), true); goto O1gOr; BrazW: foreach ($list_link as $link) { goto LQ0FB; aEVr_: goto uKsgw; goto XiJEy; WOYDY: $ep_link = esc_url_raw($data[1]); goto E1nWq; hzegv: uKsgw: goto g0Rse; MxmQa: $ep_slug = str_replace("\55", "\137", $ep_slug); goto zbvsd; q4Q3O: if (!(count($data) < 3)) { goto fR3El; } goto aEVr_; XiJEy: fR3El: goto Aqq_T; LQ0FB: $data = explode("\x7c", $link); goto q4Q3O; zbvsd: $metaPost[$server]["\x68\x61\x75\156\155\157\x76\151\145\163\x5f\163\145\162\x76\x65\162\137\x64\x61\164\x61"][$ep_slug] = ["\150\x61\x75\156\155\157\x76\151\x65\163\x5f\x65\x70\137\156\x61\155\x65" => sanitize_text_field(trim($ep_name)), "\150\x61\x75\x6e\155\157\166\x69\x65\x73\x5f\x65\x70\x5f\x73\x6c\165\x67" => str_replace("\x2d", "\x5f", sanitize_title(trim($ep_slug))), "\150\141\x75\x6e\155\x6f\166\151\x65\x73\137\x65\160\137\164\171\x70\145" => sanitize_text_field(trim($ep_type)), "\x68\141\x75\156\155\157\x76\151\x65\x73\137\x65\x70\137\154\151\x6e\153" => sanitize_text_field(trim($ep_link)), "\150\x61\x75\156\x6d\x6f\166\151\x65\x73\x5f\145\160\x5f\x73\x75\x62\163" => [], "\150\x61\x75\x6e\x6d\157\x76\151\x65\x73\137\x65\x70\137\154\x69\x73\x74\163\166" => []]; goto hzegv; E1nWq: $ep_type = sanitize_text_field($data[2]); goto iB4Jx; Aqq_T: $ep_name = sanitize_text_field($data[0]); goto WOYDY; iB4Jx: $ep_slug = preg_match("\57\x28\133\x61\x2d\x7a\x5d\53\51\x2f\x69\163", $ep_name) ? sanitize_title($ep_name) : sanitize_title("{$ep_name}"); goto MxmQa; g0Rse: } goto dHbqB; zbuOc: $server_name = isset($_POST["\163\145\162\x76\145\x72\x5f\x6e\141\x6d\145"]) ? sanitize_text_field($_POST["\163\x65\162\166\145\x72\137\x6e\x61\x6d\145"]) : ''; goto sUQpZ; O1gOr: $metaPost[$server]["\x68\x61\x75\x6e\x6d\157\x76\x69\145\x73\137\163\145\x72\166\x65\x72\x5f\156\x61\x6d\x65"] = $server_name; goto BrazW; EKu3f: $this->load->set_post_modified($post_id); goto XlZ3R; MbdMs: $server = isset($_POST["\163\145\x72\x76\x65\162"]) ? absint($_POST["\163\145\x72\166\x65\x72"]) : 0; goto zbuOc; GYcyE: } public function hnajax_update_postmeta() { goto yWNj_; e5i9Z: foreach ($post_meta as $item) { goto a25zB; J5vVg: $metaPost[$item["\156\x61\155\x65"]] = sanitize_text_field($item["\166\x61\x6c\165\145"]); goto hZJE5; hZJE5: if (!($item["\156\141\155\x65"] == "\150\x61\165\156\137\141\144\x64\x5f\164\157\x5f\167\x69\144\x67\145\x74")) { goto vLj42; } goto df08o; RxLXT: FFWKl: goto TsciJ; TsciJ: Gbu_m: goto yCcY3; df08o: $widget_values[] = sanitize_text_field($item["\166\x61\x6c\x75\x65"]); goto BKbOW; BKbOW: vLj42: goto RxLXT; a25zB: if (!(isset($item["\x6e\x61\x6d\x65"]) && isset($item["\x76\141\x6c\x75\145"]))) { goto FFWKl; } goto J5vVg; yCcY3: } goto ZAwgT; xLu5_: update_post_meta($post_id, HNMG_META, $metaPost); goto J7DVa; fuOuo: $post_meta = isset($_POST["\160\157\x73\164\137\155\145\x74\x61"]) ? json_decode(stripslashes($_POST["\160\157\163\x74\x5f\x6d\145\164\141"]), true) : []; goto tQ2vC; tQ2vC: if (is_array($post_meta)) { goto R4doi; } goto xEc8p; J7DVa: sleep(1); goto GjZL0; kud5v: wp_send_json_success($metaPost); goto KZrfj; rfG_I: $server = isset($_POST["\163\145\x72\x76\x65\162"]) ? absint($_POST["\x73\145\x72\166\x65\x72"]) : ''; goto fuOuo; ZAwgT: NM5TW: goto UNBi_; xzEiL: $metaPost["\150\141\165\156\x5f\164\150\165\155\142\137\x75\x72\x6c"] = sanitize_text_field($meta_data["\150\141\165\156\137\164\150\x75\x6d\142\x5f\165\x72\x6c"]); goto oV1AO; KPEe_: wp_set_object_terms($post_id, $post_meta["\x68\x61\165\156\x5f\x61\x64\144\x5f\164\157\x5f\x77\151\x64\147\x65\164"], "\160\x6f\x73\x74\137\x6f\x70\164\151\157\x6e\x73", false); goto lWjd1; pjnRI: wp_die(); goto ffekB; DH5Sh: $meta_data = get_post_meta($post_id, HNMG_META, true); goto ETeP5; eyJwJ: wp_set_object_terms($post_id, $post_meta["\150\x61\x75\156\x5f\155\x6f\x76\x69\145\x5f\163\164\141\x74\x75\163"], "\163\x74\x61\x74\165\x73", false); goto KPEe_; EBlBg: $this->load->set_post_modified($post_id); goto xLu5_; ETeP5: $metaPost["\150\x61\165\156\x5f\160\x6f\163\164\x65\162\137\x75\x72\154"] = sanitize_text_field($meta_data["\150\x61\x75\x6e\137\160\157\x73\x74\x65\x72\137\165\x72\154"]); goto xzEiL; yWNj_: $post_id = isset($_POST["\160\x6f\x73\x74\x5f\x69\144"]) ? absint($_POST["\160\x6f\163\x74\137\x69\144"]) : ''; goto rfG_I; ffekB: R4doi: goto DH5Sh; lWjd1: $formality = $this->load->get_post_format($post_meta["\x68\141\165\156\137\x6d\157\x76\x69\145\137\146\157\x72\155\141\154\151\164\x79"]); goto Fl0jl; Fl0jl: set_post_format($post_id, $formality); goto kud5v; GjZL0: $post_meta = get_post_meta($post_id, HNMG_META, true); goto eyJwJ; xEc8p: wp_send_json_error(["\155\x65\x73\163\141\x67\x65" => "\111\156\x76\x61\154\151\x64\x20\x70\x6f\163\x74\40\x6d\x65\164\x61\x20\x66\x6f\162\155\141\164"]); goto pjnRI; oV1AO: $widget_values = []; goto e5i9Z; UNBi_: $metaPost["\x68\x61\165\x6e\x5f\141\144\144\x5f\x74\x6f\x5f\x77\x69\144\x67\x65\164"] = $widget_values; goto EBlBg; KZrfj: } public function hnajax_export_episodes() { goto esQW7; Eyoyk: $list_link = array_map(function ($episode) { goto HWlmU; ZEbsv: $subtitle_string = !empty($subtitle_list) ? "\x7c\163\165\142\x74\x69\164\154\x65\x3d" . implode("\x2c", $subtitle_list) : ''; goto QyJog; QyJog: $lists_v = !empty($list_server) ? "\174\x73\x65\x72\166\x65\162\75" . implode("\54", $list_server) : ''; goto i15KQ; HWlmU: $subtitle_list = array_map(function ($sub) { return $sub["\x68\141\x75\156\155\x6f\166\151\x65\x73\137\145\160\x5f\163\x75\142\x5f\146\151\154\145"] . "\52" . $sub["\x68\141\165\x6e\x6d\157\166\x69\145\163\137\x65\160\x5f\x73\165\x62\137\x6c\141\142\x65\154"]; }, $episode["\x68\141\165\156\155\x6f\166\x69\x65\x73\x5f\145\x70\x5f\163\165\142\163"] ?? []); goto lE8ff; i15KQ: return implode("\174", [$episode["\x68\x61\165\x6e\155\157\166\151\x65\x73\137\145\160\x5f\156\141\x6d\145"], $episode["\150\x61\165\156\x6d\157\166\x69\x65\163\137\x65\160\137\154\151\156\x6b"], $episode["\x68\x61\165\156\155\x6f\x76\x69\x65\163\x5f\145\160\137\x74\x79\x70\145"]]) . $subtitle_string . $lists_v; goto MLEd7; lE8ff: $list_server = array_map(function ($server_data) { return implode("\52", [$server_data["\x68\x61\165\x6e\155\x6f\x76\x69\x65\163\x5f\x65\x70\x5f\154\151\163\164\x73\166\x5f\x6e\x61\155\145"], $server_data["\x68\141\x75\156\x6d\157\166\151\x65\163\x5f\x65\x70\137\x6c\x69\x73\164\x73\166\x5f\154\151\x6e\153"], $server_data["\150\141\165\156\155\157\x76\151\145\x73\x5f\145\160\x5f\154\151\163\164\163\166\137\x74\x79\x70\x65"]]); }, $episode["\x68\141\x75\156\155\157\166\x69\145\x73\137\145\160\137\154\151\163\x74\x73\x76"] ?? []); goto ZEbsv; MLEd7: }, $json[$server]["\150\141\165\x6e\x6d\x6f\166\x69\145\163\137\x73\145\162\x76\145\162\x5f\x64\141\x74\141"] ?? []); goto n12ND; kGT7q: $json = json_decode(stripslashes(get_post_meta($post_id, HNMG_EPS, true)), true); goto Eyoyk; n12ND: if (is_dir(HNMG_EXPORT)) { goto JyXiT; } goto RX2LI; dmnrl: JyXiT: goto Q1Jar; esQW7: $post_id = sanitize_text_field($_POST["\160\157\163\x74\x5f\151\x64"]); goto KOBnV; MzfMC: $file_path = HNMG_EXPORT . "\x2f" . sanitize_file_name($file_name); goto sI89F; Q1Jar: $list_link_string = implode("\15\12", $list_link); goto Ln217; RX2LI: wp_mkdir_p(HNMG_EXPORT); goto dmnrl; zHIjV: wp_send_json(["\163\164\x61\164\165\163" => true, "\155\163\147" => "\x3c\x64\x69\x76\40\143\x6c\141\x73\x73\x3d\x22\x74\145\170\164\x2d\x62\141\163\145\x20\x66\157\156\164\x2d\142\x6f\x6c\144\x20\160\x78\x2d\64\40\x70\171\x2d\66\40\x74\x65\170\x74\55\143\145\156\164\x65\162\42\x3e\74\141\40\150\x72\145\x66\x3d\42" . esc_url(content_url("\146\x69\x6c\x6d\55\145\170\x70\x6f\x72\x74") . "\57" . sanitize_file_name($file_name)) . "\42\x20\144\157\x77\x6e\154\x6f\x61\144\76\104\157\x77\156\x6c\157\141\144\x20" . esc_html($file_name) . "\74\57\x61\x3e\x3c\57\x64\151\166\x3e"]); goto RDo9J; KOBnV: $server = sanitize_text_field($_POST["\x73\x65\162\x76\x65\x72\x5f\x69\144"]); goto kGT7q; Ln217: $file_name = "\105\160\x69\163\157\144\145\x20\x2d\40" . get_the_title($post_id) . "\40\x2d\40" . str_replace("\43", '', $json[$server]["\x68\x61\165\x6e\155\157\x76\x69\145\163\137\x73\x65\162\166\x65\x72\x5f\156\141\x6d\145"]) . "\x2e\164\x78\164"; goto MzfMC; sI89F: file_put_contents($file_path, $list_link_string); goto zHIjV; RDo9J: } public function hnsave_server_hidden() { goto CLq2W; CLq2W: $value = isset($_POST["\x76\x61\154\x75\145"]) ? (array) $_POST["\x76\x61\x6c\165\x65"] : []; goto ttDqU; ttDqU: $post_id = isset($_POST["\160\157\163\164\137\x69\x64"]) ? absint($_POST["\x70\157\x73\x74\x5f\x69\x64"]) : ''; goto NZtSY; pysHT: wp_die(); goto xUzw_; NZtSY: update_post_meta($post_id, "\145\160\x69\163\x6f\144\145\137\x73\145\x72\166\145\162\x5f\150\151\x64\x64\x65\x6e", $value); goto pysHT; xUzw_: } public function hnajax_force_delete_post() { wp_delete_post($_POST["\x70\157\x73\164\137\x69\144"], true); die; } }
