<?php
/*   __________________________________________________
    |  		Code By HauN - HauNYTB.COM  2.0.14    	  |
    |          Telegram: https://t.me/haunytb         |
    |    	   Url : https://haunytb.com    		  |
    |_________________________________________________|
*/
 namespace HNMG\Episodes; use HNMG\Episodes\EP_Helper; use Illuminate\Support\Str; class EP_Actions { public function __construct() { $this->helper = new EP_Helper(); } public function register() { goto xkY3T; uCFcS: add_action("\x77\x70\x5f\141\152\141\170\137\150\156\141\152\141\x78\137\x6f\156\145\x5f\151\155\x70\x6f\x72\x74\145\162", [$this, "\x68\x6e\141\x6a\x61\170\x5f\157\156\145\137\x69\x6d\160\157\162\164\145\162"]); goto iSKGx; atvJB: add_action("\167\160\x5f\x61\152\x61\x78\137\150\x6e\141\x6a\141\170\x5f\x72\145\155\157\166\x65\137\x73\145\162\x76\x65\x72", [$this, "\150\x6e\141\152\141\170\137\162\x65\x6d\x6f\166\145\x5f\x73\x65\x72\166\145\x72"]); goto CIA9X; wNw0R: add_action("\x77\x70\x5f\x61\152\x61\170\x5f\x68\156\137\144\x65\154\145\x74\145\137\163\145\x6c\x65\143\x74\145\x64\137\x70\157\163\x74\163", [$this, "\x68\x6e\137\x64\x65\x6c\x65\164\145\x5f\x73\145\x6c\145\143\x74\145\144\137\x70\157\x73\164\163"]); goto pmfua; b8_8o: add_action("\167\x70\137\141\x6a\141\x78\137\150\x6e\141\152\x61\x78\x5f\x66\157\x72\x63\x65\x5f\144\145\x6c\x65\x74\145\x5f\160\157\163\164", [$this, "\150\156\x61\152\x61\170\x5f\146\x6f\162\143\x65\137\144\x65\154\x65\164\x65\137\160\x6f\163\164"]); goto wNw0R; CIA9X: add_action("\x77\x70\137\x61\152\x61\x78\x5f\x68\156\141\152\141\x78\x5f\160\x75\x62\154\151\163\x68\x5f\x70\157\163\x74", [$this, "\150\x6e\x61\152\141\170\137\x70\x75\142\154\151\163\150\x5f\x70\157\x73\x74"]); goto uCFcS; vEaR0: add_action("\x77\x70\x5f\141\152\x61\x78\137\150\156\x61\x6a\x61\x78\137\x6c\151\163\x74\137\x73\145\x72\166\x65\x72\151\x64", [$this, "\x68\x6e\141\152\141\x78\137\x6c\151\163\164\x5f\163\145\x72\166\145\162\151\144"]); goto osgwf; iSKGx: add_action("\x77\x70\x5f\x61\x6a\x61\x78\x5f\150\x6e\141\x6a\141\x78\x5f\x74\x77\157\x5f\x69\x6d\160\157\x72\164\145\x72", [$this, "\150\x6e\x61\152\x61\x78\137\164\167\157\137\151\155\160\157\162\x74\x65\162"]); goto vEaR0; Z0U8y: add_action("\x77\x70\137\141\152\141\x78\137\x6c\157\x61\144\137\x70\x6f\163\164\163\137\144\x61\164\x61", [$this, "\154\x6f\141\144\137\x70\x6f\x73\x74\163\137\144\141\x74\x61"]); goto H7j03; sVgXc: add_action("\x77\x70\x5f\141\152\x61\x78\x5f\x68\156\x61\x6a\141\x78\x5f\145\170\160\x6f\162\x74\137\145\x70\151\163\157\144\x65\x73", [$this, "\150\156\x61\152\x61\x78\137\x65\170\x70\x6f\162\164\x5f\145\160\x69\x73\x6f\144\x65\163"]); goto b8_8o; bW9Bj: add_action("\x77\160\137\141\152\141\x78\x5f\x6e\157\160\162\x69\166\x5f\x68\x61\x6e\x64\x6c\x65\137\x6c\151\x6b\x65\137\x64\151\x73\154\x69\153\145", [$this, "\x68\141\x6e\x64\154\145\x5f\x6c\151\x6b\x65\x5f\144\151\x73\154\151\153\145"]); goto Z0U8y; hyCn_: add_action("\x77\x70\137\x61\152\141\x78\x5f\150\156\x61\x6a\x61\x78\x5f\x75\x70\144\141\164\145\x5f\160\157\x73\x74\x6d\x65\x74\141", [$this, "\x68\x6e\x61\x6a\x61\x78\137\165\160\x64\141\164\145\137\x70\x6f\163\x74\x6d\145\164\x61"]); goto Hdkdv; osgwf: add_action("\167\160\x5f\141\x6a\141\170\137\150\156\x61\152\141\170\x5f\x75\x70\x64\x61\x74\x65\x5f\x65\160\151\x73\x6f\x64\145", [$this, "\x68\x6e\x61\152\x61\x78\137\165\160\x64\x61\x74\145\137\x65\160\151\163\157\144\145"]); goto AOwGt; AOwGt: add_action("\x77\x70\x5f\141\x6a\x61\170\137\150\x6e\141\x6a\x61\170\x5f\141\x64\x64\156\145\167\163\145\162\x76\145\162", [$this, "\150\156\141\x6a\x61\170\x5f\x61\144\144\156\x65\x77\x73\145\x72\x76\x65\x72"]); goto hyCn_; Hdkdv: add_action("\x77\x70\137\141\152\x61\170\x5f\x68\x6e\163\x61\166\145\137\x73\145\x72\x76\x65\162\x5f\x68\x69\x64\x64\x65\x6e", [$this, "\x68\x6e\x73\141\166\x65\x5f\x73\x65\162\166\x65\x72\x5f\x68\x69\x64\144\x65\x6e"]); goto sVgXc; xkY3T: add_action("\167\x70\x5f\x61\152\141\x78\x5f\x68\x6e\141\152\x61\170\x5f\x67\145\x74\x6c\x69\163\x74\137\x65\160\151\x73\157\x64\x65\163", [$this, "\150\x6e\x61\152\x61\170\137\147\145\x74\x6c\x69\x73\x74\x5f\x65\160\x69\163\157\144\x65\163"]); goto atvJB; pmfua: add_action("\x77\160\137\x61\152\x61\170\137\x68\x61\156\x64\x6c\145\137\x6c\x69\153\x65\137\x64\151\163\154\151\153\145", [$this, "\x68\x61\156\x64\154\145\137\154\x69\153\x65\137\x64\151\163\x6c\151\153\145"]); goto bW9Bj; H7j03: } public function handle_like_dislike() { goto PKy3Y; vVd5e: $type = sanitize_text_field($_POST["\164\x79\160\x65"]); goto mjq4U; gYOyY: $post_id = intval($_POST["\x70\157\x73\x74\x5f\x69\x64"]); goto vVd5e; VGmGL: i6WYl: goto QZWWx; yywyp: $percentage = $total_votes === 0 ? 50 : round($totallikes / $total_votes * 100, 2); goto RYtuI; mjq4U: if (!(!$post_id || !in_array($type, ["\x6c\x69\x6b\x65", "\144\151\x73\x6c\151\153\x65"]))) { goto ozS6h; } goto hwaB1; PKy3Y: if (!(!isset($_POST["\x6e\x6f\156\x63\x65"]) || !wp_verify_nonce($_POST["\x6e\x6f\156\143\145"], "\x77\160\141\x6a\141\x78\x5f\156\x6f\x6e\x63\145"))) { goto zWbzd; } goto Z27OC; gTL_t: $totaldislikes = isset($meta["\150\141\x75\156\137\144\x69\x73\154\x69\153\x65\163"]) ? intval($meta["\x68\141\165\156\x5f\144\x69\x73\154\x69\153\145\x73"]) : 0; goto bZFIU; RYtuI: wp_send_json_success(["\155\x65\x73\163\x61\147\x65" => __("\131\x6f\165\162\x20\x72\x65\x61\143\164\x69\157\156\x20\150\141\x73\x20\142\145\145\156\40\162\x65\143\x6f\162\x64\145\x64\x2e", "\x68\x6e\x6d\147\x65\160\x69\x73"), "\x6c\151\x6b\x65\163" => $totallikes, "\144\151\x73\x6c\151\153\x65\163" => $totaldislikes, "\160\x65\x72\x63\145\156\164\x61\147\x65" => $percentage]); goto MlOOA; pPnrR: $meta["\x68\141\165\156\x5f\x64\151\163\x6c\x69\153\x65\x73"] = $totaldislikes; goto IGck_; mOK8H: zWbzd: goto gYOyY; RtW81: $totallikes = isset($meta["\x68\141\165\x6e\x5f\x6c\x69\153\145\163"]) ? intval($meta["\x68\141\x75\156\137\154\151\153\x65\x73"]) : 0; goto gTL_t; Br9rY: $totaldislikes++; goto pPnrR; CfNWA: update_haunmovies($post_id, HNMG_META, $meta); goto OLiRO; MQwvl: $meta["\150\x61\x75\156\x5f\x6c\151\x6b\x65\x73"] = $totallikes; goto PqEWM; hwaB1: wp_send_json_error(["\155\145\163\x73\141\x67\145" => __("\111\156\166\x61\154\x69\x64\x20\160\x61\x72\x61\x6d\145\164\x65\x72\163", "\x68\156\x6d\x67\145\x70\151\163")]); goto pa30L; IGck_: goto c9ctb; goto VGmGL; pa30L: ozS6h: goto Oq1eJ; QZWWx: $totallikes++; goto MQwvl; bZFIU: if ($type === "\x6c\x69\x6b\145") { goto i6WYl; } goto Br9rY; ZnMoU: $meta = []; goto Vpjbo; Am_3q: if (is_array($meta)) { goto PFQSv; } goto ZnMoU; Vpjbo: PFQSv: goto RtW81; OLiRO: $total_votes = $totallikes + $totaldislikes; goto yywyp; Oq1eJ: $meta = get_haunmovies($post_id, HNMG_META, true); goto Am_3q; PqEWM: c9ctb: goto CfNWA; Z27OC: wp_send_json_error(["\155\145\163\163\141\147\x65" => __("\x49\156\166\x61\x6c\151\144\x20\x72\x65\161\x75\145\163\164", "\150\156\x6d\147\x65\160\x69\163")]); goto mOK8H; MlOOA: } public function load_posts_data() { goto Nb5fQ; bjnIR: if (!$query->have_posts()) { goto QkvyZ; } goto JYX9v; Nb5fQ: $query = new \WP_Query(["\160\x6f\163\164\x5f\164\x79\160\x65" => "\160\157\x73\x74", "\160\x6f\x73\x74\x73\137\x70\x65\162\137\x70\141\x67\x65" => -1, "\157\x72\144\x65\x72\142\171" => "\155\157\x64\151\146\151\x65\x64", "\157\162\x64\x65\162" => "\104\105\x53\103"]); goto DpeLR; WmYKr: OSQ7Q: goto bjnIR; mdD_g: $meta = get_haunmovies($post->ID, HNMG_META, true); goto Bh3Hd; Bh3Hd: $data = json_decode(stripslashes($post_meta), true); goto BXZtQ; sEOYO: $hidden_servers = is_array($hidden_servers) ? $hidden_servers : (empty($hidden_servers) ? [] : explode("\x2c", $hidden_servers)); goto BSuAF; DMXM4: $post_meta = get_haunmovies($post->ID, HNMG_EPS, true); goto mdD_g; DpeLR: $posts_data = []; goto i3ti_; xnged: wp_send_json_success($posts_data); goto XHxjb; VZmy7: WkKUy: goto xnged; TzTFW: $linkname = $link != '' ? __("\105\x64\151\164", "\x68\156\x6d\x67\x65\160\x69\163") : __("\101\144\x64\x20\x53\x65\162\166\145\162", "\150\x6e\155\147\145\x70\151\163"); goto zPqqW; JYX9v: $query->the_post(); goto P6WYJ; zPqqW: $posts_data[] = ["\x63\150\145\x63\153\x62\157\170" => "\74\x69\x6e\x70\165\164\x20\164\171\x70\x65\75\42\143\150\x65\x63\153\142\157\x78\42\40\156\141\x6d\x65\75\x22\x65\160\151\x73\x6f\144\145\137\151\144\163\42\40\166\141\154\x75\x65\75\x22" . $post->ID . "\42\40\x40\x63\x6c\151\143\x6b\x3d\42\164\x6f\147\x67\154\x65\x53\x65\x6c\x65\143\164\151\x6f\156\x28" . $post->ID . "\51\x22\x20\72\143\150\x65\143\x6b\x65\x64\x3d\42\x63\x68\x65\x63\x6b\101\154\x6c\42\40\143\154\141\163\x73\75\x22\x73\151\x7a\x65\x2d\x34\x20\x74\x65\170\164\55\143\x65\156\164\145\162\40\143\x75\x72\x73\x6f\162\55\x70\157\x69\156\x74\x65\162\40\x61\160\160\145\x61\162\141\x6e\143\145\x2d\156\x6f\x6e\x65\x20\x6f\x76\x65\162\x66\154\157\167\x2d\150\151\144\144\x65\x6e\x20\x72\157\x75\156\x64\x65\x64\40\x62\157\162\144\145\x72\40\x62\157\x72\144\x65\162\55\156\x65\165\x74\162\141\x6c\x2d\x33\60\x30\40\x62\147\x2d\167\150\151\x74\x65\40\x66\x6f\x63\x75\x73\72\x6f\x75\x74\154\151\x6e\145\55\156\x6f\x6e\x65\40\146\157\143\165\x73\72\162\151\156\x67\x2d\x30\x22\x20\x2f\76", "\x49\104" => $post->ID, "\164\151\164\x6c\145" => "\74\x61\40\x68\162\145\146\x3d\x22" . get_permalink($post->ID) . "\42\40\x74\x61\x72\147\x65\164\75\42\137\142\x6c\x61\x6e\153\42\40\x63\x6c\141\163\163\75\42\x74\145\x78\164\55\x70\151\x6e\153\x2d\x35\60\60\x20\146\157\156\164\55\x73\x65\155\x69\142\157\x6c\144\x20\164\x65\x78\x74\x2d\x78\x73\40\150\157\166\x65\162\72\164\145\170\164\x2d\x66\165\143\150\x73\151\141\55\63\60\x30\x20\150\x6f\166\x65\162\x3a\x6e\157\x2d\165\156\x64\145\x72\x6c\x69\x6e\145\42\76" . Str::limit($post->post_title, 60, "\x2e\56\x2e") . "\x3c\x2f\141\76", "\x73\150\x6f\167" => $this->helper->hidden_servers($post->ID, $data), "\160\x75\142\x6c\x69\x73\150" => $this->helper->hnupdate_publish($post->ID), "\145\160\x69\163\x6f\x64\145" => $this->helper->hnmg_last_episode($post->ID, $meta), "\163\164\x61\x74\x75\163" => $this->helper->hnshow_status($meta["\x68\x61\x75\156\137\155\x6f\x76\151\145\137\163\164\141\x74\x75\163"] ?? ''), "\146\157\x72\155\x61\154\151\x74\x79" => $this->helper->hnshow_formality($meta["\x68\x61\x75\x6e\137\x6d\157\x76\151\145\137\146\157\162\x6d\x61\x6c\x69\164\x79"] ?? ''), "\x65\170\160\157\x72\164" => $this->helper->list_episode_servers($post->ID, $data), "\141\143\x74\151\x6f\156\163\x5f\154\x69\x6e\x6b" => "\74\x61\x20\150\x72\145\146\75\42\x3f\160\x61\147\x65\x3d\150\x6e\x6d\147\55\145\x70\x69\x73\157\144\x65\46\141\143\x74\x3d\x65\x64\151\164\x5f\145\160\46\160\157\x73\x74\137\151\x64\x3d" . $post->ID . "\42\40\143\x6c\x61\163\x73\75\x22" . $linkclass . "\x20\x66\157\x6e\x74\55\x62\157\x6c\x64\x20\x74\x65\170\x74\55\x78\x73\x20\x74\145\170\164\55\x77\150\151\164\x65\x20\160\x79\x2d\61\x20\160\170\55\64\x20\x72\x6f\x75\156\144\x65\144\55\146\x75\154\x6c\42\x3e" . $linkname . "\74\57\x61\x3e"]; goto H22T4; H22T4: goto OSQ7Q; goto abFcG; BSuAF: $dataPlayer = $data && !empty($data[0]["\150\x61\165\x6e\155\157\x76\x69\145\x73\137\x73\x65\162\166\x65\162\x5f\144\141\x74\x61"]) ? key($data[0]["\150\141\165\156\x6d\x6f\x76\x69\145\163\137\x73\x65\x72\x76\145\162\x5f\x64\x61\x74\x61"]) : NULL; goto FOscS; o_JI8: $linkclass = $link != '' ? "\x62\147\55\162\145\x64\x2d\x35\60\60\40\x68\x6f\x76\145\162\x3a\x62\147\x2d\162\x65\x64\55\66\x30\60" : "\x62\x67\x2d\x6f\162\x61\x6e\x67\x65\55\x35\x30\60\40\x68\157\x76\x65\x72\72\x62\147\55\157\162\x61\156\x67\145\55\66\60\60"; goto TzTFW; abFcG: QkvyZ: goto L3izT; FOscS: $link = $dataPlayer != NULL ? $data[0]["\x68\x61\165\x6e\x6d\157\166\x69\145\x73\137\x73\145\x72\x76\145\x72\x5f\x64\x61\164\x61"][$dataPlayer]["\150\x61\165\x6e\155\x6f\x76\151\145\x73\x5f\145\160\137\x6c\x69\x6e\x6b"] ?? '' : ''; goto o_JI8; BXZtQ: $hidden_servers = get_haunmovies($post->ID, "\137\163\x65\x72\x76\x65\x72\x5f\150\151\x64\144\x65\156", true); goto sEOYO; i3ti_: if (!$query->have_posts()) { goto WkKUy; } goto WmYKr; P6WYJ: global $post; goto DMXM4; L3izT: wp_reset_postdata(); goto VZmy7; XHxjb: } public function hn_delete_selected_posts() { goto H641F; nXFlC: wp_send_json_success(["\x6d\145\x73\x73\x61\x67\x65" => "\123\x65\154\x65\x63\x74\145\144\x20\x70\x6f\x73\x74\163\40\141\156\144\40\141\163\163\157\x63\151\x61\x74\145\144\40\151\155\141\147\145\163\40\x64\145\154\x65\164\145\x64\40\x73\x75\x63\143\x65\163\x73\x66\165\154\x6c\x79"]); goto c7dce; WhSSG: wp_die(); goto PJ_AL; Ysv7n: oNnSD: goto nXFlC; XsFhE: foreach ($post_ids as $post_id) { goto NXbZ2; xEB2u: if (empty($meta_options["\x68\x61\x75\x6e\137\x74\150\x75\x6d\x62\137\165\162\x6c"])) { goto G862t; } goto IUrAs; e30BS: BeAYD: goto qpYug; NXbZ2: if (!(get_post($post_id) && current_user_can("\144\145\154\145\164\x65\x5f\160\x6f\x73\164", $post_id))) { goto B2djI; } goto eQcdc; Hvu2q: if (empty($meta_options["\150\141\x75\156\x5f\160\157\163\164\x65\162\x5f\165\162\x6c"])) { goto BT_6p; } goto TwGU9; eQcdc: $meta_options = get_haunmovies($post_id, HNMG_META, true); goto X8fGJ; BWLP4: unlink($poster_path); goto e30BS; YBqIH: wp_delete_post($post_id, true); goto cCV56; IUrAs: $thumb_path = ABSPATH . str_replace(site_url("\57"), '', $meta_options["\x68\x61\165\156\137\x74\x68\x75\x6d\142\x5f\x75\162\x6c"]); goto GVHPy; qpYug: BT_6p: goto xEB2u; XDAlK: LX14e: goto p5gSB; hzIVQ: UXFKj: goto cQ3lz; GVHPy: if (!file_exists($thumb_path)) { goto LX14e; } goto lH3WS; k2ite: if (!file_exists($poster_path)) { goto BeAYD; } goto BWLP4; Cmb8d: Of0n8: goto YBqIH; p5gSB: G862t: goto Cmb8d; TwGU9: $poster_path = ABSPATH . str_replace(site_url("\x2f"), '', $meta_options["\150\x61\165\x6e\x5f\x70\x6f\163\x74\x65\x72\x5f\165\x72\x6c"]); goto k2ite; cCV56: B2djI: goto hzIVQ; X8fGJ: if (!$meta_options) { goto Of0n8; } goto Hvu2q; lH3WS: unlink($thumb_path); goto XDAlK; cQ3lz: } goto Ysv7n; v0JQA: wp_die(); goto e8S6Q; cElDc: $post_ids = isset($_POST["\160\x6f\163\x74\137\151\144\163"]) ? array_map("\x69\156\x74\166\141\154", $_POST["\160\x6f\163\164\x5f\x69\x64\x73"]) : []; goto pIvjO; lLMuW: wp_send_json_error(["\155\145\163\x73\x61\x67\145" => "\x4e\x6f\40\x70\157\163\164\x73\x20\x73\145\x6c\145\143\164\145\144"]); goto WhSSG; c7dce: wp_die(); goto fazgX; pIvjO: if (!empty($post_ids)) { goto Kczat; } goto lLMuW; H641F: if (current_user_can("\144\145\x6c\145\x74\x65\x5f\160\x6f\163\x74\163")) { goto nFK5b; } goto nNEiA; PJ_AL: Kczat: goto XsFhE; e8S6Q: nFK5b: goto cElDc; nNEiA: wp_send_json_error(["\x6d\145\x73\163\x61\147\x65" => "\x55\156\141\x75\x74\x68\x6f\x72\x69\172\145\144"]); goto v0JQA; fazgX: } public function hnajax_update_episode() { goto DQOq1; vUwsg: MGGM4: goto GkLJD; DQOq1: $post_id = isset($_POST["\160\157\163\164\x5f\x69\144"]) ? absint($_POST["\160\x6f\x73\x74\x5f\151\x64"]) : ''; goto QuZ6u; G3_2P: foreach ($_POST["\150\141\165\156\x6d\x6f\x76\x69\145\163\137\163\x65\162\x76\x65\162\137\x6e\141\x6d\x65"] as $serverIndex => $serverName) { goto zmAy5; wQxDc: $serverdata["\x68\x61\x75\x6e\x6d\x6f\166\x69\x65\163\137\163\145\x72\166\145\x72\137\x64\141\x74\141"] = []; goto iTHwq; JLDyQ: $serverdata["\x68\141\x75\x6e\155\157\166\151\145\x73\x5f\163\x65\162\166\145\x72\137\x6e\141\x6d\145"] = esc_attr($serverName ? $serverName : "\x53\145\x72\166\145\x72\40\43" . $serverIndex); goto wQxDc; vsLHa: Q58iJ: goto mfG9e; dzige: CtLFt: goto pE2MK; iTHwq: if (!isset($_POST["\x68\141\165\156\x6d\157\x76\151\x65\x73\137\145\x70\x5f\154\x69\156\x6b"][$serverIndex])) { goto L7HW0; } goto Jgv33; Jgv33: foreach ($_POST["\x68\x61\x75\156\155\x6f\x76\x69\145\163\x5f\145\160\137\154\151\156\153"][$serverIndex] as $episodeIndex => $episodeLink) { goto nnLVX; sn0_m: Z_9yq: goto rV3mb; p0Q2X: H0oaI: goto yGxAb; P2PyP: KwmJa: goto BElse; D6feb: $serverdata["\x68\141\165\x6e\155\157\x76\151\145\163\137\163\145\x72\166\145\162\x5f\144\x61\x74\x61"][$_slug] = ["\x68\x61\165\x6e\155\157\166\x69\x65\163\137\145\160\137\156\141\155\145" => isset($_POST["\x68\x61\x75\156\x6d\157\x76\151\145\163\137\145\x70\x5f\156\x61\x6d\x65"][$serverIndex][$episodeIndex]) ? $_POST["\150\x61\165\x6e\x6d\x6f\x76\x69\145\163\x5f\x65\x70\137\x6e\x61\x6d\x65"][$serverIndex][$episodeIndex] : '', "\150\141\165\156\155\x6f\x76\151\x65\x73\137\145\x70\x5f\x73\x6c\x75\x67" => isset($_POST["\150\141\x75\x6e\x6d\x6f\x76\x69\145\163\137\145\x70\137\163\x6c\x75\147"][$serverIndex][$episodeIndex]) ? $_POST["\150\x61\165\x6e\155\x6f\x76\x69\145\163\137\x65\160\x5f\163\x6c\165\147"][$serverIndex][$episodeIndex] : '', "\x68\141\x75\x6e\x6d\157\166\151\145\163\137\145\160\137\x74\171\x70\x65" => isset($_POST["\150\x61\165\156\155\x6f\166\x69\145\x73\x5f\145\160\x5f\x74\x79\x70\x65"][$serverIndex][$episodeIndex]) ? $_POST["\150\x61\x75\x6e\x6d\157\166\x69\145\x73\137\x65\x70\137\x74\x79\x70\145"][$serverIndex][$episodeIndex] : '', "\150\141\165\156\x6d\x6f\x76\x69\145\163\x5f\145\x70\x5f\x6c\151\156\x6b" => $episodeLink, "\150\x61\x75\x6e\x6d\157\x76\x69\x65\x73\x5f\145\x70\x5f\163\x75\x62\x73" => [], "\x68\x61\165\156\155\x6f\166\151\x65\x73\x5f\145\x70\x5f\x6c\151\x73\x74\x73\166" => []]; goto vz9b7; Yl9fx: $_slug = str_replace("\55", "\x5f", $episode_slug); goto D6feb; nnLVX: $episode_slug = sanitize_title($_POST["\150\x61\x75\156\x6d\x6f\166\x69\x65\163\x5f\x65\x70\137\x73\x6c\165\147"][$serverIndex][$episodeIndex]); goto Yl9fx; yGxAb: YsCsS: goto sn0_m; vz9b7: if (!isset($_POST["\150\141\165\156\x6d\157\166\x69\145\x73\137\145\160\x5f\163\x75\x62\137\x6c\x61\142\145\154"][$serverIndex][$episodeIndex])) { goto KwmJa; } goto YPCNy; zcmHp: $subDefaults = $_POST["\x68\141\165\156\155\x6f\166\151\x65\x73\137\145\160\137\163\x75\142\x5f\144\145\x66\141\x75\x6c\x74"][$serverIndex][$episodeIndex]; goto vU82f; BElse: if (!isset($_POST["\150\141\165\156\155\157\x76\151\x65\163\x5f\145\x70\x5f\x6c\151\163\x74\163\x76\x5f\154\x69\156\x6b"][$serverIndex][$episodeIndex])) { goto YsCsS; } goto Mbz2S; YPCNy: $subLabels = $_POST["\150\x61\x75\156\x6d\157\166\151\145\163\137\145\x70\137\x73\165\142\x5f\154\141\142\x65\154"][$serverIndex][$episodeIndex]; goto zcmHp; Mbz2S: foreach ($_POST["\150\141\165\x6e\x6d\157\x76\x69\x65\x73\x5f\145\160\137\154\x69\x73\x74\x73\166\x5f\154\151\x6e\153"][$serverIndex][$episodeIndex] as $svIndex => $listsvLink) { goto eSk9r; Kscuq: RvbOM: goto EDf42; c0l8w: $serverdata["\x68\141\165\156\155\157\x76\151\145\163\137\x73\145\162\166\x65\x72\137\144\141\164\141"][$_slug]["\150\141\x75\x6e\155\x6f\166\x69\145\163\x5f\x65\x70\137\x6c\x69\163\164\x73\x76"][] = ["\x68\x61\165\156\155\157\166\x69\145\x73\137\x65\160\x5f\x6c\x69\163\164\163\166\x5f\154\151\156\x6b" => trim($listsvLink), "\x68\141\165\x6e\155\x6f\x76\151\145\163\137\145\x70\137\x6c\151\163\164\163\166\137\156\141\155\145" => trim($listsvName), "\x68\x61\x75\x6e\155\157\x76\x69\145\x73\137\145\x70\x5f\154\x69\163\x74\163\166\x5f\x74\171\160\145" => trim($listsvType)]; goto Kscuq; qGCUu: $listsvType = isset($_POST["\150\x61\x75\156\155\x6f\166\x69\145\163\x5f\x65\x70\137\154\x69\x73\164\163\166\x5f\x74\x79\x70\145"][$serverIndex][$episodeIndex][$svIndex]) ? $_POST["\x68\x61\165\156\x6d\x6f\x76\x69\145\163\137\145\x70\137\154\x69\163\x74\x73\x76\137\164\171\x70\x65"][$serverIndex][$episodeIndex][$svIndex] : ''; goto c0l8w; eSk9r: $listsvName = isset($_POST["\150\x61\165\x6e\x6d\157\x76\151\145\163\x5f\x65\160\137\x6c\151\163\164\x73\166\x5f\156\x61\155\145"][$serverIndex][$episodeIndex][$svIndex]) ? $_POST["\150\x61\165\x6e\155\157\166\x69\x65\163\137\145\x70\x5f\154\151\x73\x74\163\x76\137\156\x61\155\x65"][$serverIndex][$episodeIndex][$svIndex] : ''; goto qGCUu; EDf42: } goto p0Q2X; oKISJ: E6gWS: goto P2PyP; vU82f: foreach ($subLabels as $subIndex => $subLabel) { goto n6Y_w; gRXMK: if (isset($upload["\x65\162\x72\x6f\x72"])) { goto JBCxJ; } goto MtdL3; ufSRo: RcAGP: goto QJ4ph; MtdL3: $subFile = $upload["\x75\162\154"]; goto Ibq77; ba4fE: tS9t2: goto Qlzd7; AdSgc: $serverdata["\150\x61\x75\x6e\x6d\157\166\x69\145\x73\137\163\145\x72\166\x65\162\137\x64\141\x74\141"][$_slug]["\150\141\165\156\x6d\157\166\x69\145\163\x5f\145\x70\137\x73\165\142\163"][] = ["\150\141\165\156\x6d\157\x76\151\x65\163\x5f\x65\160\x5f\x73\165\142\x5f\x66\x69\154\x65" => trim($subFile), "\150\141\x75\156\155\157\166\x69\x65\163\x5f\145\x70\x5f\x73\x75\142\137\154\141\x62\x65\154" => trim($subLabel), "\x68\141\165\156\x6d\x6f\x76\x69\145\x73\x5f\x65\160\137\163\x75\142\x5f\153\151\156\x64" => "\143\x61\160\x74\x69\157\x6e\x73", "\x68\x61\x75\156\x6d\157\166\151\x65\x73\137\x65\x70\137\x73\165\142\137\144\x65\x66\x61\165\154\164" => isset($subDefaults[$subIndex]) && $subDefaults[$subIndex] === "\164\x72\x75\145" ? "\x74\x72\x75\x65" : "\146\x61\154\x73\x65"]; goto AYfeg; Qlzd7: goto uvC3n; goto ufSRo; NLz1h: $subFile = $_POST["\150\141\165\156\x6d\157\166\151\x65\x73\137\145\160\x5f\x73\x75\x62\x5f\146\x69\x6c\x65"][$serverIndex][$episodeIndex][$subIndex]; goto ba4fE; n6Y_w: $subFile = ''; goto Htuwl; AYfeg: YcFCD: goto fpzZj; TRizO: if (!isset($_POST["\150\141\x75\x6e\x6d\157\166\x69\x65\x73\137\x65\x70\137\163\x75\142\137\146\151\x6c\x65"][$serverIndex][$episodeIndex][$subIndex])) { goto tS9t2; } goto NLz1h; L1xMO: uvC3n: goto AdSgc; Htuwl: if (isset($_FILES["\x68\141\165\156\155\157\166\151\x65\163\x5f\x65\160\137\x73\x75\142\137\165\x70\x6c\157\141\x64"]["\x6e\x61\155\145"][$serverIndex][$episodeIndex][$subIndex]) && !empty($_FILES["\x68\141\165\x6e\155\157\x76\151\145\x73\x5f\x65\160\137\163\x75\x62\x5f\x75\160\x6c\157\x61\144"]["\x6e\141\x6d\x65"][$serverIndex][$episodeIndex][$subIndex])) { goto RcAGP; } goto TRizO; QJ4ph: $uploadedFile = ["\156\x61\x6d\x65" => $_FILES["\150\141\x75\156\x6d\157\166\151\x65\x73\x5f\x65\160\x5f\163\x75\x62\137\165\x70\154\157\141\144"]["\x6e\141\155\145"][$serverIndex][$episodeIndex][$subIndex], "\x74\171\160\145" => $_FILES["\x68\x61\x75\x6e\155\x6f\x76\151\x65\x73\x5f\x65\160\137\163\x75\x62\x5f\x75\160\154\x6f\141\x64"]["\164\171\160\x65"][$serverIndex][$episodeIndex][$subIndex], "\164\155\x70\x5f\156\x61\x6d\145" => $_FILES["\x68\x61\165\x6e\x6d\x6f\x76\x69\x65\163\x5f\x65\160\137\x73\x75\x62\x5f\x75\160\154\x6f\141\144"]["\x74\155\x70\137\x6e\x61\x6d\145"][$serverIndex][$episodeIndex][$subIndex], "\145\x72\x72\157\162" => $_FILES["\x68\141\165\x6e\x6d\x6f\x76\151\x65\163\137\x65\160\x5f\x73\x75\142\137\x75\160\x6c\x6f\x61\144"]["\145\162\162\157\162"][$serverIndex][$episodeIndex][$subIndex], "\x73\151\172\145" => $_FILES["\150\x61\165\x6e\155\157\x76\151\145\163\137\x65\160\x5f\163\165\142\x5f\x75\x70\x6c\x6f\141\144"]["\163\151\x7a\145"][$serverIndex][$episodeIndex][$subIndex]]; goto zucgP; Ibq77: JBCxJ: goto L1xMO; zucgP: $upload = wp_handle_upload($uploadedFile, ["\164\x65\163\x74\137\146\157\162\155" => false]); goto gRXMK; fpzZj: } goto oKISJ; rV3mb: } goto vsLHa; mfG9e: L7HW0: goto TO4lk; TO4lk: $input[] = $serverdata; goto dzige; zmAy5: $serverdata = []; goto JLDyQ; pE2MK: } goto vUwsg; tFB8C: wp_send_json_success(json_encode($input, JSON_UNESCAPED_UNICODE)); goto XcFFN; QuZ6u: $input = []; goto G3_2P; GkLJD: update_haunmovies($post_id, HNMG_EPS, json_encode($input, JSON_UNESCAPED_UNICODE)); goto tFB8C; XcFFN: } public function hnajax_getlist_episodes() { goto rkcff; AXdJ0: $data = json_decode(stripslashes($metaPost), true); goto n0sm4; NynzW: wp_die(); goto hBWvO; rkcff: $postID = isset($_POST["\160\x6f\163\164\x5f\x69\x64"]) ? intval($_POST["\160\157\163\164\x5f\x69\x64"]) : 0; goto SskW6; n0sm4: wp_send_json_success($data); goto NynzW; SskW6: $metaPost = get_haunmovies($postID, HNMG_EPS, true); goto AXdJ0; hBWvO: } public function hnajax_remove_server() { goto e_OHH; VYoQY: update_haunmovies($post_id, HNMG_EPS, wp_json_encode($metaPost, JSON_UNESCAPED_UNICODE)); goto pHdQ4; lAvmH: $server = isset($_POST["\163\x65\162\x76\x65\162"]) ? absint($_POST["\163\x65\x72\166\145\x72"]) : ''; goto gJMcd; yh4nG: if (!(!$post_id || !$server)) { goto On_bX; } goto nJyOc; vzaOh: if (!$hiddensv) { goto SaCtS; } goto xpWbu; xpWbu: unset($hiddensv[$server]); goto jbBZ6; Kk7iS: On_bX: goto LQlIp; u7xzY: wp_die(); goto QFVmn; r52aZ: wp_die(); goto pFNA4; nJyOc: wp_send_json_error(["\x6d\145\x73\163\x61\x67\x65" => "\111\156\x76\x61\154\x69\x64\40\x72\145\161\x75\x65\163\x74"]); goto Kk7iS; pHdQ4: wp_send_json_success(["\x6d\145\x73\163\x61\x67\x65" => "\x53\x65\x72\166\x65\x72\40\144\x65\x6c\145\x74\145\144\40\163\165\143\143\145\x73\x73\x66\165\x6c\154\x79"]); goto r52aZ; FnuKJ: unset($data[$server]); goto NSmFE; gJMcd: if (!(empty($server) && $server == "\60")) { goto oJF91; } goto oPqwN; NSmFE: $metaPost = array_values($data); goto vzaOh; QuXUO: $hiddensv = get_haunmovies($post_id, "\137\x73\x65\162\x76\x65\162\x5f\150\151\x64\144\145\156", true); goto FnuKJ; LQlIp: $data = json_decode(stripslashes(get_haunmovies($post_id, HNMG_EPS, true)), true); goto QuXUO; e_OHH: $post_id = isset($_POST["\160\157\x73\164\x5f\x69\x64"]) ? absint($_POST["\160\157\163\164\137\x69\x64"]) : ''; goto lAvmH; hEHNK: SaCtS: goto VYoQY; hb_PY: wp_send_json_success(["\x6d\145\x73\163\x61\147\x65" => "\123\145\x72\166\145\x72\x20\144\145\154\145\164\x65\x64\40\x73\165\x63\x63\x65\x73\x73\x66\x75\154\154\x79"]); goto u7xzY; oPqwN: delete_haunmovies($post_id, HNMG_EPS); goto hb_PY; QFVmn: oJF91: goto yh4nG; jbBZ6: update_haunmovies($post_id, "\x5f\163\145\x72\x76\145\x72\x5f\x68\x69\144\144\145\x6e", $hiddensv); goto hEHNK; pFNA4: } public function hnajax_publish_post() { goto o_8P5; mldIN: wp_send_json_success($post_id); goto SHUsl; DrTyG: if ($post_id) { goto YjeyX; } goto BvHFs; o5snZ: goto c3sWi; goto o8oZs; o_8P5: $post_id = isset($_POST["\160\157\163\164\x5f\151\144"]) ? (int) $_POST["\x70\157\x73\x74\x5f\151\x64"] : ''; goto DrTyG; G0uns: $postData = array("\111\x44" => $post_id, "\160\157\x73\164\x5f\163\164\x61\x74\x75\163" => "\160\165\x62\x6c\x69\x73\x68"); goto Wa4V_; o8oZs: YjeyX: goto G0uns; BvHFs: wp_send_json_error(); goto o5snZ; SHUsl: c3sWi: goto dQ9Sk; Wa4V_: wp_update_post($postData); goto mldIN; dQ9Sk: } public function hnajax_one_importer() { goto H1RB5; RJdTs: BocGy: goto usjmJ; z6E_W: $import_type = sanitize_text_field(trim($_POST["\151\155\160\157\x72\x74\x5f\x74\x79\x70\145"] ?? '')); goto wasbJ; usjmJ: update_haunmovies($post_id, HNMG_EPS, wp_json_encode($metaPost, JSON_UNESCAPED_UNICODE)); goto F6bGG; qhKmx: $server = isset($_POST["\163\145\x72\x76\x65\162"]) ? absint($_POST["\163\x65\162\166\x65\162"]) : ''; goto etnts; wasbJ: $episode_slug = sanitize_text_field(trim($_POST["\x65\x70\x69\163\157\x64\x65\x5f\x73\154\x75\x67"] ?? '')); goto o36af; etnts: $server_name = isset($_POST["\163\145\x72\x76\x65\162\137\156\x61\x6d\145"]) ? sanitize_text_field(trim($_POST["\x73\145\x72\x76\x65\x72\x5f\x6e\x61\x6d\x65"])) : "\x53\x65\x72\166\x65\x72\x20\x23\61"; goto R7A5w; H1RB5: $post_id = isset($_POST["\160\x6f\x73\164\x5f\151\144"]) ? absint($_POST["\160\157\163\x74\x5f\x69\x64"]) : ''; goto qhKmx; pS5CI: foreach ($list_link as $link) { goto rmMcN; Kg4LH: $link_parts = explode("\174", $link); goto ITf67; crSEl: cjQyL: goto jgT9A; ouB9v: MH9kl: goto crSEl; uRCbH: goto PFSlj; goto bCKlo; ITf67: if (!(count($link_parts) < 2)) { goto D4Oor; } goto XsKmN; bCKlo: RbMhy: goto Kg4LH; L4XTB: switch ($import_type) { case "\x6c\x69\x73\164\163\145\162\x76\145\162": goto SRDS3; xApmY: $metaPost[$server]["\x68\x61\165\156\155\x6f\166\x69\145\x73\137\x73\x65\x72\166\x65\x72\x5f\x64\141\x74\141"][$episode_slug]["\150\141\x75\156\x6d\x6f\x76\151\x65\163\x5f\x65\x70\x5f\x6c\x69\163\164\163\x76"][] = $new_episode_data; goto Ub9D3; SRDS3: $new_episode_data = ["\150\x61\x75\x6e\155\157\166\151\x65\x73\x5f\145\160\137\x6c\151\x73\164\x73\166\x5f\156\x61\x6d\145" => sanitize_text_field(trim($link_parts[0])), "\x68\x61\x75\156\155\x6f\166\x69\145\x73\137\x65\x70\137\x6c\151\x73\164\x73\x76\137\x6c\x69\156\153" => sanitize_text_field(trim($link_parts[1])), "\150\141\x75\156\155\x6f\x76\x69\x65\163\x5f\145\160\137\154\x69\163\164\x73\166\137\164\171\160\x65" => sanitize_text_field(trim($link_parts[2] ?? ''))]; goto Nw1JG; Ub9D3: goto cjQyL; goto YNiON; Nw1JG: $metaPost[$server]["\150\x61\x75\156\155\157\x76\151\145\163\137\163\x65\x72\166\145\162\x5f\x64\x61\x74\x61"][$episode_slug]["\150\x61\165\156\155\157\x76\151\145\163\137\145\160\x5f\x6c\x69\x73\164\163\166"] = $metaPost[$server]["\150\141\165\x6e\155\x6f\166\151\x65\x73\x5f\163\x65\162\x76\145\x72\137\x64\141\164\141"][$episode_slug]["\150\141\165\156\x6d\x6f\x76\151\145\x73\x5f\145\x70\137\x6c\151\x73\x74\x73\x76"] ?? []; goto xApmY; YNiON: case "\x73\x75\142\164\x69\x74\154\145": goto WpOa7; g5J77: $metaPost[$server]["\150\x61\x75\x6e\155\157\x76\x69\x65\x73\137\x73\x65\162\x76\x65\x72\137\x64\x61\164\x61"][$episode_slug]["\150\141\165\156\x6d\157\x76\151\145\x73\x5f\145\x70\137\x73\165\142\x73"] = $metaPost[$server]["\x68\x61\165\x6e\155\x6f\x76\x69\145\163\x5f\163\145\162\x76\x65\162\137\144\141\164\141"][$episode_slug]["\150\141\x75\x6e\155\157\x76\x69\145\163\137\x65\x70\x5f\163\x75\142\163"] ?? []; goto fXzMM; Me58r: goto cjQyL; goto t7v_Y; WpOa7: $new_subtitle_data = ["\150\x61\165\x6e\155\157\x76\x69\145\x73\137\x65\160\x5f\x73\x75\x62\137\154\141\x62\145\154" => sanitize_text_field(trim($link_parts[0])), "\x68\141\165\x6e\x6d\x6f\166\x69\145\163\x5f\x65\160\137\163\165\142\x5f\x6c\151\156\x6b" => sanitize_text_field(trim($link_parts[1]))]; goto g5J77; fXzMM: $metaPost[$server]["\150\141\x75\156\x6d\x6f\166\151\x65\163\137\x73\145\x72\166\x65\x72\137\x64\x61\x74\x61"][$episode_slug]["\x68\141\165\x6e\x6d\157\x76\151\145\x73\137\145\160\x5f\163\x75\x62\x73"][] = $new_subtitle_data; goto Me58r; t7v_Y: case "\154\151\x73\x74\x65\x70\151\x73\x6f\144\x65": goto FY1sY; CPu1W: $ep_slug = sanitize_text_field(trim($ep_name)); goto uGUXS; qmod_: goto cjQyL; goto gDnue; uGUXS: $metaPost[$server]["\150\x61\165\x6e\155\x6f\166\x69\x65\163\x5f\x73\x65\x72\166\x65\162\137\144\141\x74\141"][$ep_slug] = ["\x68\141\165\156\155\x6f\x76\x69\x65\x73\137\x65\x70\137\156\x61\x6d\x65" => sanitize_text_field(trim($ep_name)), "\x68\141\x75\156\x6d\x6f\166\151\x65\x73\x5f\x65\x70\x5f\x73\x6c\165\147" => str_replace("\55", "\x5f", sanitize_title(trim($ep_slug))), "\150\x61\165\x6e\x6d\x6f\x76\151\x65\x73\137\145\160\x5f\164\x79\x70\145" => sanitize_text_field(trim($ep_type)), "\150\141\165\x6e\x6d\x6f\166\x69\x65\x73\x5f\x65\x70\137\x6c\151\156\153" => sanitize_text_field(trim($ep_link)), "\150\x61\165\x6e\155\x6f\x76\x69\145\163\137\145\160\x5f\163\x75\142\163" => [], "\x68\141\x75\156\155\157\x76\151\145\163\x5f\x65\x70\x5f\154\x69\163\x74\163\x76" => []]; goto qmod_; FY1sY: list($ep_name, $ep_link, $ep_type) = $link_parts; goto CPu1W; gDnue: } goto ouB9v; reozd: D4Oor: goto L4XTB; rmMcN: if (!empty($link)) { goto RbMhy; } goto uRCbH; jgT9A: PFSlj: goto iWe4q; XsKmN: goto PFSlj; goto reozd; iWe4q: } goto RJdTs; F6bGG: wp_send_json_success($metaPost); goto H5coP; o36af: $metaPost = json_decode(get_haunmovies($post_id, HNMG_EPS, true), true) ?? []; goto pS5CI; R7A5w: $list_link = isset($_POST["\154\x69\163\x74\x5f\x6c\151\156\153"]) ? json_decode(stripslashes($_POST["\x6c\x69\163\x74\137\x6c\x69\x6e\153"]), true) : []; goto z6E_W; H5coP: } public function hnajax_list_serverid() { goto HhYy4; t2RMM: wp_send_json_error(__("\116\157\x20\x65\x70\x69\163\157\144\x65\163\40\146\x6f\x75\156\x64", "\150\156\x6d\147\145\x70\151\163")); goto JU8dR; p2Hjy: foreach ($data[$server]->haunmovies_server_data as $key => $val) { $options .= "\74\x6f\x70\164\151\x6f\156\40\166\141\x6c\x75\x65\x3d\x22" . $key . "\42\x3e" . esc_html($val->haunmovies_ep_name) . "\x3c\x2f\157\160\x74\x69\157\156\76"; qIh2M: } goto D1ERV; l1psb: tO2Wl: goto MjUHh; gmtzS: $data = json_decode(stripslashes($episode_meta)); goto CDh6N; D1ERV: ywRjl: goto MOH74; qFsEp: vqMdG: goto I_x0d; MjUHh: exit; goto suuED; CDh6N: if (!empty($data) && isset($data[$server]->haunmovies_server_data)) { goto vqMdG; } goto t2RMM; iUhLF: $episode_meta = get_haunmovies($post_id, HNMG_EPS, true); goto gmtzS; Pmih_: $server = isset($_POST["\163\145\x72\166\x65\162"]) ? absint($_POST["\x73\x65\162\166\145\x72"]) : ''; goto iUhLF; I_x0d: $options = "\74\157\x70\164\151\157\156\x20\166\x61\x6c\165\x65\x3d\x22\x22\40\151\144\x3d\42\x63\x68\157\157\x73\145\x2d\x65\x70\42\x3e" . __("\x43\150\x6f\x6f\163\145\40\x45\160\151\163\157\x64\145", "\x68\156\x6d\x67\145\x70\x69\x73") . "\x3c\x2f\157\160\164\x69\x6f\x6e\x3e"; goto p2Hjy; HhYy4: $post_id = isset($_POST["\160\x6f\x73\164\137\151\x64"]) ? absint($_POST["\160\157\x73\164\x5f\x69\x64"]) : ''; goto Pmih_; MOH74: wp_send_json_success($options); goto l1psb; JU8dR: goto tO2Wl; goto qFsEp; suuED: } public function hnajax_two_importer() { goto GSVVd; ucy9B: $server = isset($_POST["\163\145\162\x76\145\x72"]) ? absint($_POST["\x73\145\x72\166\145\x72"]) : 0; goto B8PkM; vZa1a: $json = json_decode(stripcslashes(get_haunmovies($post_id, HNMG_EPS, true)), true); goto stEN2; B8PkM: $server_name = isset($_POST["\163\145\x72\166\145\162\137\x6e\x61\155\145"]) ? sanitize_text_field(trim($_POST["\x73\x65\162\x76\145\162\137\156\x61\155\145"])) : "\123\x65\x72\x76\x65\162\40\x23\61"; goto FeW9m; ri17F: foreach ($list_link as $links) { goto DyOf6; yRVAA: foreach ($subtitle_arr as $key => $subfile) { goto rFq8V; kKUUm: $subtitle_info[$key]["\150\x61\165\x6e\x6d\157\166\151\x65\163\x5f\x65\x70\137\163\165\x62\137\x64\x65\146\x61\165\154\164"] = $key == 0 ? true : false; goto EEOAl; L8bHU: $subtitle_info[$key]["\150\x61\165\156\x6d\157\166\151\145\x73\137\145\160\137\163\x75\142\x5f\146\x69\x6c\145"] = sanitize_text_field(trim($subfile[0])); goto UTCBl; EEOAl: le5m6: goto euatO; UTCBl: $subtitle_info[$key]["\x68\141\165\156\x6d\x6f\x76\x69\x65\x73\x5f\x65\x70\137\x73\x75\142\x5f\154\x61\142\x65\x6c"] = sanitize_text_field(trim($subfile[1])); goto kKUUm; rFq8V: $subfile = explode("\x2a", $subfile); goto L8bHU; euatO: } goto YyoJ5; BNnHM: $subtitle_arr = str_replace("\163\x75\142\x74\x69\x74\154\x65\75", '', explode("\x2c", $info[3])); goto z9aMP; b3QOG: $info = explode("\174", $links); goto CnnwG; YyoJ5: eWBGg: goto By0Rt; ZGSNr: ftlhN: goto yegLN; q77A9: Shzrf: goto wswgR; osYsn: $_slug = str_replace("\55", "\137", $ep_slug); goto SL8xO; TKcyF: if (!isset($info[3])) { goto ZptNE; } goto BNnHM; dRhzZ: $server_data = str_replace("\x73\x65\x72\x76\145\162\x3d", '', explode("\x2c", $info[4])); goto xkNJL; HReW1: $json[$server]["\x68\141\x75\156\155\x6f\166\151\x65\x73\137\x73\145\x72\166\x65\162\x5f\x64\x61\164\x61"][$_slug] = $array; goto TKcyF; GtviV: if (!isset($info[4])) { goto iM7Yw; } goto dRhzZ; By0Rt: $json[$server]["\150\x61\x75\x6e\x6d\x6f\166\x69\145\x73\x5f\163\145\x72\166\145\162\137\x64\141\x74\x61"][$_slug]["\x68\x61\165\156\x6d\x6f\x76\151\x65\163\x5f\145\x70\x5f\163\165\142\x73"] = $subtitle_info; goto XNcdn; wswgR: $json[$server]["\x68\x61\x75\x6e\x6d\157\166\x69\145\x73\137\x73\x65\x72\166\145\162\x5f\x64\141\164\x61"][$_slug]["\150\141\165\x6e\155\157\x76\151\x65\163\137\x65\160\x5f\154\x69\x73\x74\163\x76"] = $dataserver; goto ZGSNr; PRe1m: vZVi7: goto J9ODd; yegLN: iM7Yw: goto PRe1m; SL8xO: $array = array("\x68\141\x75\x6e\155\x6f\x76\x69\145\x73\137\145\160\137\x6e\x61\x6d\x65" => sanitize_text_field(trim($ep_name)), "\150\x61\165\156\155\x6f\166\151\x65\x73\x5f\x65\160\137\x73\154\x75\147" => str_replace("\55", "\x5f", sanitize_title(trim($ep_slug))), "\150\x61\165\156\155\157\166\151\145\x73\x5f\x65\160\137\x74\171\x70\x65" => sanitize_text_field(trim($ep_type)), "\150\x61\165\x6e\x6d\x6f\166\x69\145\x73\x5f\145\x70\x5f\154\x69\156\153" => sanitize_text_field(trim($ep_link)), "\150\x61\165\156\x6d\157\166\151\x65\163\x5f\x65\160\137\x73\x75\x62\x73" => array(), "\150\141\165\156\155\157\x76\x69\x65\163\137\x65\160\x5f\154\x69\163\x74\x73\x76" => array()); goto HReW1; XNcdn: CCnpY: goto HMukg; z9aMP: if (!($subtitle_arr[0] !== '')) { goto CCnpY; } goto yRVAA; CnnwG: list($ep_name, $ep_link, $ep_type) = $info; goto Rh0Eh; J9ODd: dUUup: goto ONsEy; Rh0Eh: $ep_slug = preg_match("\57\50\133\x61\55\x7a\x5d\x2b\51\57\x69\x73", $ep_name) ? sanitize_title($ep_name) : sanitize_title($ep_name); goto osYsn; xkNJL: if (!($server_data[0] !== '')) { goto ftlhN; } goto ZmXAB; ZmXAB: foreach ($server_data as $key => $sv) { goto oTps_; E01hk: $dataserver[$key]["\x68\x61\165\156\155\x6f\166\x69\145\x73\137\x65\160\137\154\x69\x73\164\x73\166\137\x6c\151\156\153"] = sanitize_text_field(trim($sv[0])); goto FYaER; FYaER: $dataserver[$key]["\150\141\165\x6e\155\157\166\x69\145\x73\x5f\x65\160\x5f\x6c\x69\163\164\163\166\x5f\x6e\x61\155\145"] = sanitize_text_field(trim($sv[1])); goto a4FkI; oTps_: $sv = explode("\52", $sv); goto E01hk; a4FkI: $dataserver[$key]["\150\141\165\156\x6d\x6f\x76\151\x65\x73\x5f\x65\x70\x5f\154\151\x73\x74\x73\x76\137\x74\171\160\x65"] = sanitize_text_field(trim($sv[2])); goto mAxY2; mAxY2: XLp6A: goto Ah9W_; Ah9W_: } goto q77A9; HMukg: ZptNE: goto GtviV; DyOf6: if (!($links != '')) { goto vZVi7; } goto b3QOG; ONsEy: } goto UcW4o; dr9Ol: wp_send_json_success($json); goto vKXcz; GSVVd: $post_id = isset($_POST["\x70\x6f\163\x74\137\151\144"]) ? absint($_POST["\x70\x6f\x73\x74\137\151\144"]) : ''; goto ucy9B; FeW9m: $list_link = isset($_POST["\154\151\x73\164\x5f\154\x69\x6e\153"]) ? json_decode(stripslashes($_POST["\x6c\x69\163\164\137\154\151\x6e\153"]), true) : []; goto vZa1a; UcW4o: lM3i7: goto FxzAV; FxzAV: update_haunmovies($post_id, HNMG_EPS, wp_json_encode($json, JSON_UNESCAPED_UNICODE)); goto dr9Ol; stEN2: $json[$server]["\x68\x61\165\156\x6d\x6f\166\151\x65\163\137\163\145\162\x76\145\162\137\156\x61\155\x65"] = $server_name; goto ri17F; vKXcz: } public function hnajax_addnewserver() { goto TlfZP; djB9G: mHkZ6: goto tbfPK; dtORV: $server_name = isset($_POST["\x73\x65\162\166\145\x72\x5f\156\x61\155\145"]) ? sanitize_text_field(trim($_POST["\x73\x65\162\x76\145\x72\137\x6e\141\x6d\145"])) : "\123\145\162\166\145\162\40\x23\61"; goto Oq295; HlGCt: $server = isset($_POST["\x73\145\162\166\x65\x72"]) ? absint($_POST["\163\x65\x72\166\145\x72"]) : 0; goto dtORV; Vfbe8: foreach ($_POST["\150\141\165\x6e\x6d\x6f\x76\151\145\163\x5f\x65\160\137\154\x69\156\x6b"][$server] as $episodeIndex => $episodeLink) { goto dU2QZ; dU2QZ: $episode_slug = sanitize_title($_POST["\x68\x61\x75\156\x6d\157\166\x69\145\163\137\x65\160\x5f\x73\154\x75\x67"][$server][$episodeIndex]); goto IfG2x; GQaL_: $json[$server]["\x68\141\x75\x6e\x6d\x6f\166\151\x65\163\x5f\163\x65\x72\x76\145\162\x5f\144\x61\164\141"][$_slug] = $array; goto cxe9g; cxe9g: ipD4H: goto x8VdU; rjxHZ: $array = ["\x68\x61\165\156\155\157\x76\151\145\x73\x5f\145\160\x5f\x6e\x61\x6d\x65" => isset($_POST["\x68\141\165\156\x6d\x6f\166\x69\x65\163\137\145\x70\x5f\x6e\141\x6d\x65"][$server][$episodeIndex]) ? $_POST["\x68\141\165\156\x6d\x6f\166\151\145\163\x5f\145\160\x5f\x6e\141\x6d\x65"][$server][$episodeIndex] : '', "\150\x61\165\x6e\155\x6f\x76\151\145\x73\137\x65\160\x5f\x73\154\165\x67" => isset($_POST["\150\141\165\x6e\x6d\x6f\166\151\x65\163\137\145\x70\x5f\163\x6c\x75\147"][$server][$episodeIndex]) ? $_POST["\x68\x61\x75\156\155\x6f\x76\x69\x65\163\x5f\145\x70\137\163\154\165\x67"][$server][$episodeIndex] : '', "\150\x61\x75\x6e\x6d\157\x76\151\x65\x73\x5f\145\160\137\164\x79\x70\x65" => isset($_POST["\150\141\165\x6e\x6d\x6f\166\x69\x65\163\x5f\x65\x70\x5f\164\171\160\145"][$server][$episodeIndex]) ? $_POST["\150\x61\165\156\155\157\166\151\x65\x73\137\145\x70\137\164\x79\x70\145"][$server][$episodeIndex] : '', "\150\x61\x75\156\x6d\157\166\151\145\x73\137\145\160\x5f\x6c\x69\x6e\153" => $episodeLink, "\x68\x61\165\156\155\157\x76\151\x65\x73\137\145\160\x5f\x73\x75\x62\x73" => [], "\150\x61\165\156\155\157\166\x69\x65\163\x5f\145\160\x5f\x6c\x69\163\x74\x73\x76" => []]; goto GQaL_; IfG2x: $_slug = str_replace("\x2d", "\137", $episode_slug); goto rjxHZ; x8VdU: } goto QiA6R; P8Tys: wp_send_json_error(["\155\x65\163\163\x61\147\x65" => __("\x49\x6e\x76\x61\154\x69\144\x20\x70\157\x73\x74\40\x49\x44\x20\x70\x72\157\x76\151\144\145\144\x2e", "\150\x6e\155\147\x65\x70\151\x73")]); goto djB9G; f8KSC: if (!isset($_POST["\x68\141\x75\x6e\x6d\157\x76\x69\x65\x73\x5f\145\x70\x5f\x6c\151\x6e\153"][$server])) { goto BopAT; } goto Vfbe8; kt1O1: $json[$server]["\x68\141\x75\156\155\157\166\x69\145\x73\137\163\145\162\x76\145\162\x5f\x6e\141\155\x65"] = $server_name; goto f8KSC; y42vi: update_haunmovies($post_id, HNMG_EPS, json_encode($json, JSON_UNESCAPED_UNICODE)); goto iAHHx; iAHHx: wp_send_json_success($json); goto R_W1u; TlfZP: $post_id = isset($_POST["\160\x6f\163\164\137\x69\x64"]) ? absint($_POST["\160\x6f\163\x74\137\151\144"]) : 0; goto HlGCt; QiA6R: jxhD9: goto a0AIg; tbfPK: $json = json_decode(stripslashes(get_haunmovies($post_id, HNMG_EPS, true)), true); goto kt1O1; a0AIg: BopAT: goto FxJMW; FxJMW: $this->helper->set_post_modified($post_id); goto y42vi; Oq295: if ($post_id) { goto mHkZ6; } goto P8Tys; R_W1u: } public function hnajax_update_postmeta() { goto QU4Bj; ndwbx: wp_set_object_terms($post_id, $post_meta["\x68\x61\x75\x6e\137\155\x6f\x76\x69\x65\137\163\164\141\x74\x75\163"], "\x73\x74\x61\x74\165\x73", false); goto nCZ6C; zkdyS: if (is_array($post_meta)) { goto sGu83; } goto CuEmG; tEINi: set_post_format($post_id, $formality); goto Nb26a; SvtAB: $widget_values = []; goto DF4W_; euypE: sGu83: goto OQS3Z; u3D06: $this->helper->set_post_modified($post_id); goto R9mgD; vGd5b: $metaPost["\150\x61\x75\156\137\x74\150\x75\155\142\x5f\x75\x72\154"] = sanitize_text_field($meta_data["\150\x61\165\x6e\137\x74\150\165\x6d\x62\137\x75\x72\154"]); goto SvtAB; AuwzU: $post_meta = isset($_POST["\x70\157\x73\164\137\155\x65\x74\141"]) ? json_decode(stripslashes($_POST["\160\x6f\163\164\137\x6d\145\164\x61"]), true) : []; goto zkdyS; Nb26a: wp_send_json_success($metaPost); goto XjWPr; R9mgD: update_haunmovies($post_id, HNMG_META, $metaPost); goto QEr6p; hj8Lx: $metaPost["\x68\x61\165\156\137\x61\144\144\x5f\x74\x6f\x5f\x77\151\144\x67\x65\164"] = $widget_values; goto u3D06; shD1i: kZJEY: goto hj8Lx; nCZ6C: wp_set_object_terms($post_id, $post_meta["\x68\141\165\x6e\137\x61\x64\144\137\164\157\x5f\167\x69\x64\147\x65\x74"], "\x70\157\163\x74\x5f\x6f\160\164\x69\157\x6e\x73", false); goto NHikB; CuEmG: wp_send_json_error(["\x6d\x65\x73\x73\141\x67\x65" => "\x49\156\x76\x61\x6c\x69\x64\40\160\x6f\x73\x74\40\x6d\x65\164\x61\x20\146\157\162\155\141\164"]); goto O5dJC; yVkUE: $post_meta = get_haunmovies($post_id, HNMG_META, true); goto ndwbx; Q5QBr: $metaPost["\150\141\165\156\137\x70\157\x73\164\145\x72\x5f\165\x72\154"] = sanitize_text_field($meta_data["\x68\141\x75\x6e\137\x70\x6f\163\164\x65\x72\x5f\165\x72\154"]); goto vGd5b; O5dJC: wp_die(); goto euypE; DF4W_: foreach ($post_meta as $item) { goto PpJgE; Ca8fQ: zlh7v: goto P4yu_; I_Igz: $widget_values[] = sanitize_text_field($item["\166\141\154\x75\145"]); goto Ca8fQ; kmKRt: ONFq_: goto TVh3_; PpJgE: if (!(isset($item["\x6e\141\155\x65"]) && isset($item["\166\x61\x6c\165\145"]))) { goto H27gU; } goto eBiY9; VBFJB: if (!($item["\x6e\x61\155\145"] == "\x68\x61\165\x6e\x5f\x61\144\144\137\164\x6f\x5f\x77\151\x64\x67\x65\164")) { goto zlh7v; } goto I_Igz; P4yu_: H27gU: goto kmKRt; eBiY9: $metaPost[$item["\x6e\x61\x6d\x65"]] = sanitize_text_field($item["\x76\141\x6c\165\x65"]); goto VBFJB; TVh3_: } goto shD1i; n4e90: $server = isset($_POST["\x73\145\162\x76\145\162"]) ? absint($_POST["\x73\145\162\166\145\x72"]) : ''; goto AuwzU; NHikB: $formality = $this->helper->get_post_format($post_meta["\x68\141\165\156\137\x6d\x6f\x76\151\145\137\146\157\162\x6d\x61\154\151\x74\x79"]); goto tEINi; QU4Bj: $post_id = isset($_POST["\160\x6f\163\164\137\x69\144"]) ? absint($_POST["\160\157\x73\x74\137\x69\x64"]) : ''; goto n4e90; OQS3Z: $meta_data = get_haunmovies($post_id, HNMG_META, true); goto Q5QBr; QEr6p: sleep(1); goto yVkUE; XjWPr: } public function hnajax_export_episodes() { goto VAj3y; T_cHR: $list_link = array_map(function ($episode) { goto gvspz; B9cfH: $subtitle_string = !empty($subtitle_list) ? "\x7c\x73\x75\142\164\x69\x74\x6c\145\75" . implode("\54", $subtitle_list) : ''; goto K5ZuF; K5ZuF: $lists_v = !empty($list_server) ? "\x7c\163\145\x72\x76\145\x72\75" . implode("\54", $list_server) : ''; goto u5mJF; gvspz: $subtitle_list = array_map(function ($sub) { return $sub["\x68\x61\x75\156\x6d\x6f\x76\151\145\163\137\145\x70\x5f\x73\165\x62\137\x66\x69\154\x65"] . "\52" . $sub["\150\x61\x75\156\x6d\157\166\x69\x65\x73\137\145\160\x5f\x73\x75\142\x5f\154\x61\142\145\x6c"]; }, $episode["\150\141\x75\x6e\155\157\x76\x69\145\163\x5f\x65\160\x5f\163\x75\x62\163"] ?? []); goto DiA8k; DiA8k: $list_server = array_map(function ($server_data) { return implode("\x2a", [$server_data["\150\141\165\156\155\157\x76\151\145\x73\x5f\145\x70\137\154\x69\x73\x74\163\x76\137\156\x61\155\x65"], $server_data["\150\141\165\x6e\155\x6f\166\x69\145\163\x5f\145\160\137\154\151\163\x74\163\166\137\154\151\156\153"], $server_data["\x68\141\x75\156\155\x6f\x76\x69\145\163\137\x65\160\x5f\154\151\x73\164\x73\166\137\x74\171\x70\145"]]); }, $episode["\150\x61\165\x6e\x6d\x6f\x76\x69\x65\163\x5f\145\x70\137\154\x69\163\x74\x73\166"] ?? []); goto B9cfH; u5mJF: return implode("\174", [$episode["\150\141\x75\x6e\x6d\157\x76\x69\145\x73\137\x65\160\x5f\x6e\x61\155\x65"], $episode["\150\x61\165\156\155\x6f\x76\x69\x65\x73\137\x65\x70\x5f\x6c\151\x6e\153"], $episode["\x68\141\165\156\x6d\157\166\x69\145\163\x5f\x65\160\137\164\171\x70\x65"]]) . $subtitle_string . $lists_v; goto v4awl; v4awl: }, $json[$server]["\x68\141\x75\x6e\155\x6f\x76\151\145\x73\137\163\x65\x72\x76\145\162\137\x64\x61\x74\x61"] ?? []); goto DQ724; eUIVB: $file_path = HNMG_EXPORT . "\57" . sanitize_file_name($file_name); goto sUf_8; VAj3y: $post_id = sanitize_text_field($_POST["\x70\x6f\x73\x74\x5f\151\x64"]); goto zvCr8; fiNb4: bLh6P: goto DoI2n; DoI2n: $list_link_string = implode("\xd\xa", $list_link); goto bFdbt; DQ724: if (is_dir(HNMG_EXPORT)) { goto bLh6P; } goto FFMMf; I6YW8: $json = json_decode(stripslashes(get_haunmovies($post_id, HNMG_EPS, true)), true); goto T_cHR; bFdbt: $file_name = "\105\x70\x69\x73\157\144\x65\x20\x2d\x20" . get_the_title($post_id) . "\40\x2d\40" . str_replace("\x23", '', $json[$server]["\x68\141\165\156\x6d\x6f\166\151\145\x73\x5f\163\145\x72\x76\145\162\x5f\x6e\x61\155\145"]) . "\x2e\x74\170\164"; goto eUIVB; zvCr8: $server = sanitize_text_field($_POST["\163\x65\162\x76\x65\162\137\151\144"]); goto I6YW8; FFMMf: wp_mkdir_p(HNMG_EXPORT); goto fiNb4; sUf_8: file_put_contents($file_path, $list_link_string); goto R2wr6; R2wr6: wp_send_json(["\163\x74\141\164\x75\163" => true, "\155\x73\x67" => "\x3c\144\151\x76\x20\143\x6c\x61\163\163\x3d\42\x74\x65\170\164\x2d\x62\141\x73\x65\x20\x66\x6f\156\164\55\142\157\x6c\x64\x20\x70\170\55\64\40\x70\171\x2d\66\40\164\145\x78\x74\x2d\x63\x65\x6e\164\x65\162\42\x3e\74\141\x20\150\x72\145\146\x3d\42" . esc_url(content_url("\146\151\154\155\55\x65\170\x70\157\x72\164") . "\x2f" . sanitize_file_name($file_name)) . "\x22\40\144\157\x77\x6e\x6c\x6f\x61\x64\76\x44\157\167\156\154\x6f\x61\x64\40" . esc_html($file_name) . "\74\57\x61\76\x3c\57\144\151\166\76"]); goto r_F4x; r_F4x: } public function hnsave_server_hidden() { goto lCyon; lCyon: $value = isset($_POST["\166\x61\154\x75\x65"]) ? (array) $_POST["\x76\141\x6c\x75\145"] : []; goto uJUM4; ylt1q: wp_die(); goto XVJ3b; MrHcW: update_haunmovies($post_id, "\137\163\x65\162\166\x65\162\137\150\151\x64\x64\x65\x6e", $value); goto ylt1q; uJUM4: $post_id = isset($_POST["\x70\157\163\164\x5f\151\x64"]) ? absint($_POST["\x70\157\x73\164\137\151\x64"]) : ''; goto MrHcW; XVJ3b: } public function hnajax_force_delete_post() { wp_delete_post($_POST["\160\157\x73\164\x5f\x69\x64"], true); die; } }
