<?php
/*   __________________________________________________
    |  		Code By HauN - HauNYTB.COM  2.0.14    	  |
    |          Telegram: https://t.me/haunytb         |
    |    	   Url : https://haunytb.com    		  |
    |_________________________________________________|
*/
 namespace HNMG\EP_Load; class EP_Rewrite { public function register() { goto tNfhI; S0s5S: add_filter("\x71\165\x65\162\171\x5f\x76\x61\x72\163", [$this, "\150\x6e\x5f\x72\x65\x67\151\x73\x74\145\162\137\x71\165\145\162\171\137\166\141\x72\163"]); goto KPJbO; WAHk0: add_action("\151\x6e\151\164", [$this, "\x61\144\x64\x5f\143\165\x73\164\x6f\x6d\x5f\162\x65\167\162\x69\x74\145\137\x72\165\x6c\x65\x73"], 20, 1); goto S0s5S; tNfhI: add_action("\x69\x6e\x69\x74", [$this, "\x68\156\137\162\145\167\162\x69\164\x65\137\x72\165\154\145"], 20, 1); goto WAHk0; KPJbO: add_action("\151\x6e\151\x74", [$this, "\x68\141\x75\x6e\137\x73\145\x74\137\160\145\x72\155\141\x6c\x69\x6e\153\137\163\164\162\x75\143\164\x75\162\145"]); goto YAAhz; YAAhz: } public function hn_rewrite_rule() { goto oi7ZH; oi7ZH: $urltype = preg_replace("\x2f\133\x5e\x61\55\x7a\x41\x2d\x5a\60\x2d\71\173\x7d\x5c\56\134\x2d\x5c\57\174\x5d\57", '', hnmg_value("\150\156\x63\x6f\x72\145\x5f\x75\x72\x6c\137\164\x79\160\x65")); goto KbQ5_; KbQ5_: $watch = preg_replace_callback("\57\134\x7b\50\x5b\136\175\x5d\53\x29\134\x7d\x2f", function ($matches) { goto FmNHS; TtnjO: LRwrT: goto CfDiA; BC0mC: switch ($after) { case "\105\x50": return $before . "\x28\x5b\136\57\135\x2a\51"; case "\x53\x56": return $before . "\50\x5b\x5e\x2f\135\x2a\x29"; } goto wnd1a; MyCou: nvzuk: goto MmaP2; IPwpY: return ''; goto TtnjO; oY4Lc: oeV9q: goto BC0mC; EBPKQ: return "\50\133\136\57\x5d\x2a\x29"; goto T0skM; dPwgQ: list($before, $after) = explode("\x7c", $matches[1]); goto Ka10q; MmaP2: nlLh2: goto EBPKQ; Ka10q: switch ($before) { case "\x45\120": return "\x28\x5b\136\57\135\52\51" . $after; case "\x53\126": return "\50\133\x5e\x2f\x5d\52\51" . $after; case "\x48": case "\127": return $after; } goto TtfSB; TtfSB: gpsOu: goto oY4Lc; FmNHS: if (!($matches[1] == "\x48\117\x4d\105")) { goto LRwrT; } goto IPwpY; CfDiA: if (!(strpos($matches[1], "\174") !== false)) { goto nlLh2; } goto dPwgQ; wnd1a: I8Eut: goto MyCou; T0skM: }, $urltype); goto gt3sB; CB5oJ: $path_pattern_with_pagination = $path_pattern . "\50\133\x5e\57\x5d\x2a\x29\x2f\x28\133\x5e\x2f\135\52\x29\57\77"; goto uRWi5; u0wqx: add_rewrite_rule("\136\143\157\144\x65\57\x28\x5b\136\x2f\x5d\52\x29\x2f\x3f", "\x69\156\x64\x65\170\x2e\x70\x68\160\77\160\141\147\145\156\141\155\145\x3d\x68\x61\165\x6e\x2d\143\x6f\x64\145\46\x68\141\165\x6e\x5f\x63\x6f\x64\145\75\44\155\x61\164\143\x68\x65\163\133\x31\135", "\x74\x6f\160"); goto FFwAy; BQRNS: flush_rewrite_rules(); goto NvltG; uRmRN: add_rewrite_rule("\x5e\x61\x7a\55\x6c\151\x73\x74\x2f\x28\x5b\136\57\x5d\52\51\x2f\x28\133\136\57\x5d\x2a\x29\57\x28\x5b\x5e\x2f\135\x2a\x29\77", "\151\156\144\x65\x78\56\160\x68\x70\77\x70\141\147\145\x6e\141\x6d\x65\75\141\x7a\x2d\154\x69\x73\x74\46\x6c\145\x74\164\145\162\x3d\44\x6d\141\x74\x63\150\x65\163\133\61\x5d\x26\160\x61\x67\145\75\44\x6d\x61\164\x63\x68\145\163\133\62\135\46\x70\x61\x67\145\61\75\x24\155\x61\164\143\x68\x65\163\x5b\63\x5d", "\164\157\x70"); goto BQRNS; RZuPM: $query_string = "\151\156\x64\145\x78\56\160\x68\160\x3f\x70\x61\x67\x65\156\141\155\x65\75\146\151\154\x74\145\162\x2d\155\157\x76\x69\x65\x73"; goto E6TMv; YN8H3: $filter = hnmg_value("\x68\x61\x75\156\137\x66\151\x6c\x74\x65\x72\x5f\163\145\x6c\x65\x63\164"); goto X48tr; X48tr: $path_pattern = "\136\x66\x69\x6c\x74\x65\x72\55\155\x6f\166\151\145\x73\x2f" . str_repeat("\x28\133\136\57\135\x2a\x29\57", count($filter)); goto RZuPM; Dx_Zu: mejTd: goto u0wqx; E6TMv: foreach ($filter as $index => $param) { $query_string .= "\46{$param}\75\x24\x6d\x61\164\x63\150\145\163\133" . ($index + 1) . "\135"; Ao82z: } goto Fnx5F; uRWi5: $with_pagination = $query_string . "\46\160\141\x67\145\x3d\x24\155\x61\164\x63\150\x65\163\x5b" . (count($filter) + 1) . "\x5d\x26\x70\x61\147\x65\61\75\x24\x6d\x61\x74\143\150\x65\x73\133" . (count($filter) + 2) . "\135"; goto pYgXl; FFwAy: add_rewrite_rule("\x5e\141\172\55\154\151\163\164\57\x28\x5b\x5e\x2f\x5d\52\51\77", "\151\x6e\x64\x65\x78\x2e\x70\150\160\77\x70\x61\147\x65\156\x61\155\145\x3d\141\172\x2d\x6c\x69\x73\164\46\154\145\164\x74\x65\162\x3d\44\155\141\164\x63\x68\145\x73\x5b\x31\135", "\164\157\x70"); goto uRmRN; Fnx5F: WRsuA: goto CB5oJ; lNWs7: add_rewrite_rule(rtrim($path_pattern, "\x2f\x3f") . "\57\x3f\44", $query_string, "\x74\157\x70"); goto Dx_Zu; gt3sB: add_rewrite_rule("\136" . $watch . "\x3f\x24", "\151\156\144\145\x78\x2e\160\150\x70\77\156\x61\x6d\x65\x3d\x24\x6d\141\x74\143\x68\x65\163\133\61\135\46\x65\x70\151\163\157\x64\145\137\x73\154\x75\x67\75\x24\155\x61\x74\x63\x68\x65\163\x5b\62\x5d\x26\x68\x61\x75\156\x5f\163\x65\x72\x76\x65\162\75\44\x6d\141\x74\x63\150\145\163\x5b\x33\135\46\150\x61\x75\x6e\137\x61\143\x74\151\x6f\156\x3d\x77\x61\x74\143\150", "\x74\x6f\x70"); goto aEu1Q; aEu1Q: if (!hnmg_value("\150\141\165\156\137\x66\151\x6c\164\x65\x72\x5f\145\x6e\141\142\154\145")) { goto mejTd; } goto YN8H3; pYgXl: add_rewrite_rule(rtrim($path_pattern_with_pagination, "\x2f\x3f") . "\x2f\77\x24", $with_pagination, "\164\x6f\160"); goto lNWs7; NvltG: } public function remcat_function($link) { return str_replace("\57\x63\x61\164\145\x67\x6f\162\171\57", "\x2f", $link); } public function add_custom_rewrite_rules() { goto ji4Aw; zUFKj: add_filter("\x75\163\145\x72\137\164\162\x61\151\154\151\156\147\x73\x6c\x61\163\x68\x69\164", [$this, "\x72\x65\155\143\x61\164\x5f\146\165\x6e\x63\x74\x69\157\x6e"]); goto i72_s; i72_s: flush_rewrite_rules(); goto BLadT; qUGvN: foreach ($actions as $action) { add_action($action, [$this, "\x66\154\x75\x73\x68\x5f\x72\x65\x77\x72\151\164\x65\x5f\x72\x75\154\x65\163"]); Wj81o: } goto mU2oU; ji4Aw: if (!hnmg_value("\150\x61\x75\156\x5f\162\x65\x6d\x6f\166\145\137\143\x61\164\x65\147\x6f\162\x69\145\163\x5f\160\x72\145\x66\151\x78")) { goto wuo8c; } goto c_YQZ; c_YQZ: $actions = ["\x63\162\x65\x61\164\145\144\x5f\x63\141\x74\145\x67\x6f\162\171", "\144\x65\154\x65\164\x65\137\x63\x61\164\145\x67\157\162\x79", "\x65\144\151\x74\x65\144\x5f\143\141\164\145\147\157\x72\x79"]; goto qUGvN; Fw53P: add_filter("\162\x65\x71\165\x65\163\164", [$this, "\150\x61\156\x64\x6c\145\137\x63\x61\164\145\147\157\162\171\137\x72\x65\144\x69\162\145\143\x74"]); goto zUFKj; Lj8Nr: add_filter("\143\x61\164\x65\147\x6f\162\x79\x5f\x72\x65\167\x72\x69\x74\145\x5f\162\165\154\x65\x73", [$this, "\165\x70\144\x61\x74\145\x5f\143\141\164\145\147\x6f\x72\171\137\162\145\167\162\x69\164\x65\x5f\x72\x75\x6c\x65\x73"]); goto Fw53P; BLadT: wuo8c: goto mLAZ0; s3ZSM: add_action("\x69\x6e\151\164", [$this, "\x75\160\144\141\x74\x65\137\143\141\x74\x65\x67\157\162\x79\x5f\160\145\x72\155\x61\x73\x74\x72\x75\x63\164"]); goto Lj8Nr; mU2oU: ApBHZ: goto s3ZSM; mLAZ0: } public function flush_rewrite_rules() { flush_rewrite_rules(); } public function update_category_permastruct() { global $wp_rewrite; $wp_rewrite->extra_permastructs["\143\x61\164\x65\147\157\162\171"]["\163\x74\162\x75\143\x74"] = "\45\143\x61\164\x65\x67\157\x72\x79\45"; } public function update_category_rewrite_rules($category_rewrite) { goto xTgZy; P8KGd: OBaeg: goto F_6JX; Ugg3H: $new_rules["{$old_category_base}\x2f\50\x2e\52\51\44"] = "\151\156\144\145\x78\56\x70\x68\160\77\x63\x61\164\x65\147\157\x72\171\137\162\x65\144\151\162\x65\143\x74\75\x24\x6d\141\x74\143\150\145\163\x5b\x31\135"; goto NBXNz; Dqwtp: foreach ($categories as $category) { goto uLGnS; Bt0xk: $new_rules["\x28{$slug}\x29\57\50\77\x3a\146\145\x65\x64\57\x29\x3f\x28\146\145\x65\144\174\x72\144\x66\x7c\162\163\163\x7c\x72\163\163\62\x7c\x61\164\157\x6d\51\57\77\x24"] = "\x69\x6e\144\x65\x78\x2e\x70\x68\160\x3f\143\x61\x74\x65\147\x6f\162\171\137\156\141\155\x65\75\x24\155\x61\x74\143\x68\x65\x73\133\x31\135\x26\x66\x65\x65\x64\x3d\x24\x6d\141\x74\143\150\145\163\133\62\135"; goto EcU3Y; EcU3Y: $new_rules["\x28{$slug}\x29\x2f\160\x61\147\145\57\77\50\x5b\60\55\x39\x5d\x7b\x31\54\x7d\51\x2f\x3f\x24"] = "\151\x6e\144\x65\170\x2e\x70\150\x70\x3f\143\x61\x74\x65\147\157\x72\171\x5f\156\141\x6d\x65\75\x24\x6d\x61\164\143\150\145\x73\133\61\135\46\x70\x61\147\145\x64\75\x24\155\141\x74\143\150\145\x73\133\62\135"; goto ia3vA; uLGnS: $slug = $category->slug; goto fULKc; tI3Jh: ABir2: goto Bt0xk; n7Drm: $slug = get_category_parents($category->parent, false, "\57", true) . $slug; goto tI3Jh; fULKc: if (!($category->parent && $category->parent !== $category->cat_ID)) { goto ABir2; } goto n7Drm; eA24l: LuSat: goto Hv6KV; ia3vA: $new_rules["\x28{$slug}\51\x2f\x3f\x24"] = "\x69\x6e\x64\145\170\56\160\x68\160\77\143\141\164\145\147\x6f\162\171\137\156\141\155\145\x3d\44\x6d\x61\x74\x63\150\145\x73\x5b\x31\x5d"; goto eA24l; Hv6KV: } goto P8KGd; NBXNz: return $new_rules; goto ZBcws; F_6JX: $old_category_base = trim(get_option("\x63\141\x74\x65\x67\157\x72\x79\137\x62\x61\163\x65") ?: "\143\141\x74\145\147\157\x72\x79", "\x2f"); goto Ugg3H; pgCsk: $new_rules = []; goto Dqwtp; xTgZy: $categories = get_categories(["\150\151\144\145\137\x65\155\x70\164\x79" => false, "\154\141\x6e\147" => class_exists("\x53\151\x74\x65\160\162\x65\x73\163") ? "\137\x69\143\x6c\137\163\150\157\x77\137\141\154\154\137\154\141\x6e\x67\163" : null]); goto pgCsk; ZBcws: } public function handle_category_redirect($query_vars) { goto a0kXA; FPCWR: tN5Pa: goto Cl8a9; a0kXA: if (!isset($query_vars["\x63\141\164\145\147\x6f\162\x79\x5f\162\x65\144\151\x72\145\x63\x74"])) { goto tN5Pa; } goto F7Ft_; F7Ft_: wp_safe_redirect(trailingslashit(home_url()) . user_trailingslashit($query_vars["\143\x61\x74\x65\147\x6f\x72\x79\137\162\x65\144\151\x72\x65\x63\x74"], "\x63\x61\x74\x65\x67\157\162\171"), 301); goto QyQuq; QyQuq: exit; goto FPCWR; Cl8a9: return $query_vars; goto dsA7s; dsA7s: } public function hn_register_query_vars($vars) { $new_vars = ["\150\x61\x75\x6e\x5f\x61\x63\164\x69\x6f\156", "\x68\141\x75\x6e\137\x69\156\x66\157", "\150\x61\165\x6e\137\163\145\x72\166\145\162", "\x65\160\x69\163\x6f\144\x65\x5f\163\154\x75\x67", "\150\x61\165\156\x5f\145\x70\x69\x73\157\144\145", "\146\x6f\x72\x6d\x61\x6c\151\164\x79", "\163\164\x61\x74\165\x73", "\143\x6f\x75\156\164\162\x79", "\x72\145\154\145\141\x73\145", "\143\x61\x74\145\x67\157\x72\171", "\x70\141\x67\x65", "\160\x61\147\145\61", "\154\x65\x74\164\x65\162", "\150\x61\165\156\137\143\x6f\x64\145", "\x66\151\x6c\164\145\162\137\160\x61\147\x65", "\163\x6f\162\x74", "\x74\171\160\x65", "\171\145\x61\x72", "\x67\x65\156\x72\145", "\x6b\145\x79\x77\x6f\162\144", "\x70\141\147\145\x64", "\143\141\x74\x65\x67\x6f\162\x79\x5f\162\145\x64\x69\x72\x65\143\x74"]; return array_merge($vars, $new_vars); } public function haun_set_permalink_structure() { update_option("\160\145\162\x6d\141\154\x69\156\153\x5f\163\x74\162\x75\143\164\165\162\145", "\x2f\x25\160\x6f\x73\x74\156\x61\155\145\x25"); } }
