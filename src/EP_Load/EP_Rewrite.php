<?php
/*   __________________________________________________
    |  		Code By HauN - HauNYTB.COM  2.0.14    	  |
    |          Telegram: https://t.me/haunytb         |
    |    	   Url : https://haunytb.com    		  |
    |_________________________________________________|
*/
 namespace HNMG\EP_Load; class EP_Rewrite { public function register() { goto RTdSK; RTdSK: add_action("\x69\x6e\x69\x74", [$this, "\x68\x6e\137\162\x65\167\162\x69\164\145\137\162\165\x6c\x65"], 20, 1); goto vN_eA; vN_eA: add_action("\151\156\x69\x74", [$this, "\x61\x64\144\x5f\x63\165\163\x74\157\x6d\x5f\162\145\x77\x72\x69\164\x65\137\x72\165\x6c\145\163"], 20, 1); goto GwVHm; GwVHm: add_filter("\x71\x75\145\162\x79\x5f\x76\x61\x72\163", [$this, "\x68\156\x5f\162\x65\x67\x69\x73\164\145\x72\x5f\x71\165\145\x72\x79\x5f\166\x61\162\x73"]); goto TE3iL; TE3iL: } public function hn_rewrite_rule() { goto r143K; aWTvH: flush_rewrite_rules(); goto Ngdoz; r143K: $urltype = preg_replace("\x2f\x5b\x5e\141\x2d\x7a\x41\x2d\x5a\x30\55\71\x7b\175\x5c\56\x5c\55\x5c\x2f\174\135\x2f", '', hnmg_value("\150\156\x63\x6f\162\145\x5f\x75\x72\154\137\164\171\160\x65")); goto Pv5wr; lhZv6: add_rewrite_rule("\136\x61\172\55\154\x69\163\164\x2f\50\x5b\136\x2f\135\x2a\51\77", "\x69\x6e\144\145\170\56\160\x68\x70\x3f\x70\x61\x67\145\x6e\x61\155\x65\x3d\x61\172\x2d\x6c\151\x73\x74\x26\154\x65\164\x74\x65\162\x3d\44\155\x61\164\143\x68\145\163\133\x31\135", "\164\x6f\x70"); goto XOGyH; VChpQ: $filter = hnmg_value("\x68\141\x75\156\x5f\x66\x69\x6c\164\x65\162\137\163\145\x6c\145\x63\x74"); goto TpqPX; TpqPX: $path_pattern = "\136\146\x69\x6c\x74\145\x72\x2d\x6d\x6f\166\x69\x65\x73\57" . str_repeat("\x28\x5b\x5e\57\x5d\52\x29\x2f", count($filter)); goto AHbep; mTS1C: trbCM: goto Zsw8a; AHbep: $query_string = "\x69\x6e\144\x65\170\x2e\160\x68\x70\x3f\x70\x61\x67\145\x6e\141\155\x65\x3d\x66\151\154\164\x65\x72\55\155\x6f\166\x69\x65\163"; goto PrzOY; XOGyH: add_rewrite_rule("\x5e\141\x7a\x2d\x6c\151\163\164\x2f\x28\133\x5e\x2f\x5d\x2a\x29\57\x28\133\136\57\x5d\x2a\51\57\50\x5b\136\57\x5d\52\51\x3f", "\x69\x6e\144\145\x78\56\x70\x68\x70\x3f\x70\x61\x67\145\x6e\141\155\145\75\141\172\55\x6c\x69\163\x74\x26\x6c\x65\x74\x74\x65\x72\75\x24\155\141\x74\143\150\145\x73\x5b\61\x5d\46\x70\141\147\x65\x3d\44\155\141\164\x63\x68\145\163\x5b\62\135\x26\160\x61\147\x65\x31\x3d\44\x6d\141\164\143\x68\145\163\133\63\x5d", "\164\x6f\160"); goto aWTvH; Pv5wr: $watch = preg_replace_callback("\x2f\x5c\x7b\50\133\x5e\x7d\x5d\x2b\51\x5c\x7d\57", function ($matches) { goto S3UkU; QSvj_: return ''; goto cmLhR; ZLMuF: HqTUK: goto uB2Cd; cmLhR: HElZ0: goto r1mGq; mWsS2: fHVu4: goto ZLMuF; r1mGq: if (!(strpos($matches[1], "\x7c") !== false)) { goto P34mc; } goto rNVCt; svWIO: N9t3h: goto QoRUU; rNVCt: list($before, $after) = explode("\x7c", $matches[1]); goto VLnhV; HhvyQ: return "\50\133\136\x2f\x5d\x2a\51"; goto Ajrj4; QoRUU: P34mc: goto HhvyQ; yySgx: AhoSx: goto svWIO; uB2Cd: switch ($after) { case "\x45\x50": return $before . "\x28\x5b\136\x2f\135\52\x29"; case "\x53\126": return $before . "\50\133\x5e\x2f\x5d\x2a\51"; } goto yySgx; S3UkU: if (!($matches[1] == "\110\x4f\x4d\x45")) { goto HElZ0; } goto QSvj_; VLnhV: switch ($before) { case "\x45\x50": return "\50\133\x5e\x2f\x5d\x2a\x29" . $after; case "\123\x56": return "\50\133\136\x2f\135\x2a\51" . $after; case "\x48": case "\x57": return $after; } goto mWsS2; Ajrj4: }, $urltype); goto vJR27; PrzOY: foreach ($filter as $index => $param) { $query_string .= "\46{$param}\75\44\155\141\x74\x63\150\x65\163\x5b" . ($index + 1) . "\x5d"; iB9CB: } goto b4RTd; YqS5F: $with_pagination = $query_string . "\x26\x70\x61\x67\x65\x3d\44\155\x61\164\143\150\x65\163\133" . (count($filter) + 1) . "\x5d\x26\x70\141\147\145\x31\75\x24\x6d\x61\164\x63\x68\x65\163\133" . (count($filter) + 2) . "\135"; goto gcjLV; If3Nv: $path_pattern_with_pagination = $path_pattern . "\x28\133\136\57\135\x2a\x29\57\x28\x5b\x5e\x2f\x5d\52\x29\57\x3f"; goto YqS5F; vJR27: add_rewrite_rule("\136" . $watch . "\77\44", "\151\156\x64\x65\170\56\160\x68\160\x3f\156\141\x6d\x65\75\44\155\141\x74\143\x68\x65\163\x5b\x31\x5d\x26\x65\x70\151\x73\157\144\145\137\x73\x6c\165\147\75\x24\155\141\x74\143\150\x65\x73\x5b\x32\135\46\x68\141\x75\156\x5f\x73\145\x72\x76\145\162\75\44\x6d\x61\x74\x63\150\145\163\133\x33\135\x26\150\141\x75\156\137\141\143\x74\x69\x6f\156\x3d\x77\141\x74\143\x68", "\164\157\160"); goto mkfuN; b4RTd: ODtX6: goto If3Nv; gcjLV: add_rewrite_rule(rtrim($path_pattern_with_pagination, "\x2f\77") . "\x2f\77\x24", $with_pagination, "\x74\x6f\x70"); goto pRHYF; pRHYF: add_rewrite_rule(rtrim($path_pattern, "\x2f\x3f") . "\57\77\x24", $query_string, "\x74\157\x70"); goto mTS1C; mkfuN: if (!hnmg_value("\x68\x61\x75\x6e\137\146\x69\x6c\x74\x65\162\137\x65\156\141\x62\x6c\145")) { goto trbCM; } goto VChpQ; Zsw8a: add_rewrite_rule("\136\x63\157\144\145\57\50\x5b\136\57\135\52\51\57\x3f", "\x69\x6e\144\x65\x78\56\x70\150\x70\x3f\x70\x61\147\x65\x6e\x61\155\145\75\150\x61\165\x6e\55\143\x6f\x64\x65\x26\150\x61\165\156\137\143\x6f\144\x65\75\x24\x6d\141\x74\143\x68\x65\x73\x5b\x31\x5d", "\164\x6f\x70"); goto lhZv6; Ngdoz: } public function remcat_function($link) { return str_replace("\57\x63\x61\164\145\x67\x6f\162\171\57", "\57", $link); } public function add_custom_rewrite_rules() { goto h83iN; h83iN: if (!hnmg_value("\150\141\165\x6e\x5f\162\145\x6d\157\166\145\x5f\143\x61\x74\145\147\157\x72\151\145\163\x5f\x70\162\145\x66\x69\170")) { goto dUW1E; } goto EVSIF; rX1ev: add_rewrite_rule("\x5e\x6c\x6f\x61\x64\x5c\x2e\160\150\160\44", $vendor_path . "\x2f\x6c\x6f\141\144\56\x70\x68\160", "\164\x6f\x70"); goto sohfh; gKE3O: $urlfont = $base_path . "\57" . get_template() . "\57\x76\x65\x6e\144\x6f\162\x2f\x68\x6e\x63\x6f\x72\145\x2f\150\x6e\x6d\147\x65\x70\151\x73\x2f\x76\x65\156\144\157\162\x2f\146\x6f\162\164\141\167\x65\x73\x6f\155\145\x2f\146\157\156\x74\55\141\167\145\163\x6f\155\x65"; goto RQ9E6; ydSCB: add_filter("\162\x65\161\165\x65\x73\x74", [$this, "\x68\141\156\144\x6c\145\x5f\x63\141\164\x65\147\x6f\162\x79\x5f\162\145\x64\x69\x72\145\x63\x74"]); goto DuYVy; wdBdF: add_rewrite_rule("\136\x66\x6f\156\164\55\141\167\x65\x73\157\x6d\145\134\56\155\151\156\134\x2e\143\x73\163\x24", "{$urlfont}\x2f\x63\x73\x73\57\146\x6f\x6e\x74\55\141\167\145\163\157\x6d\145\x2e\155\151\x6e\x2e\x63\x73\x73", "\x74\x6f\x70"); goto rINSk; SW2_A: T31pv: goto xcR8V; xcR8V: add_action("\x69\x6e\x69\x74", [$this, "\165\160\144\141\x74\x65\137\x63\x61\x74\x65\x67\x6f\x72\x79\x5f\x70\145\162\155\x61\x73\x74\x72\x75\x63\x74"]); goto lCXJN; TaIko: dUW1E: goto ZxjNN; EVSIF: $actions = ["\x63\x72\x65\141\164\x65\x64\137\143\141\164\x65\x67\x6f\162\171", "\144\x65\154\145\x74\145\x5f\x63\141\x74\x65\x67\x6f\162\171", "\x65\144\x69\x74\x65\144\x5f\x63\x61\x74\145\147\157\x72\171"]; goto whQY_; rINSk: add_rewrite_rule("\x5e\146\157\x6e\164\163\57\146\x6f\156\164\141\x77\145\163\157\155\x65\55\x77\145\142\x66\x6f\156\164\x5c\x2e\50\167\157\146\146\x32\77\174\164\164\146\x7c\x73\166\147\x7c\145\x6f\x74\x29\50\x5c\x3f\56\52\51\x3f\x24", "{$urlfont}\57\x66\x6f\x6e\164\163\57\x66\157\x6e\x74\141\167\145\x73\157\155\x65\55\x77\x65\142\x66\x6f\156\164\x2e\x24\61\x24\x32", "\164\x6f\160"); goto XfHGb; whQY_: foreach ($actions as $action) { add_action($action, [$this, "\146\154\165\163\150\137\162\145\167\162\151\x74\x65\137\162\x75\154\x65\163"]); uuvmF: } goto SW2_A; sohfh: add_rewrite_rule("\x5e\x6c\157\x61\x64\x65\x70\151\x73\x2f\x28\x2e\x2a\x29\x24", $vendor_path . "\57\x61\x73\x73\x65\164\163\x2f\44\x31", "\x74\x6f\x70"); goto wdBdF; DuYVy: add_filter("\x75\x73\x65\x72\x5f\x74\162\x61\151\x6c\x69\x6e\147\163\154\141\x73\x68\151\164", [$this, "\x72\145\x6d\x63\141\x74\x5f\146\165\x6e\x63\164\151\157\x6e"]); goto TaIko; XfHGb: flush_rewrite_rules(); goto e7bo6; lCXJN: add_filter("\143\141\x74\x65\x67\x6f\162\171\x5f\x72\145\167\x72\151\164\145\137\x72\x75\x6c\145\163", [$this, "\x75\x70\x64\x61\164\x65\x5f\143\x61\164\145\x67\157\x72\x79\x5f\162\x65\167\x72\151\164\x65\x5f\162\x75\x6c\x65\163"]); goto ydSCB; RQ9E6: $vendor_path = $base_path . "\57" . get_template() . "\57\166\145\156\144\157\162\57\150\x6e\143\x6f\162\145\57\x68\156\155\x67\145\160\151\x73\x2f\162\145\x73\157\x75\x72\143\145\163"; goto rX1ev; ZxjNN: $base_path = strpos(get_template_directory(), "\x61\160\x70\57\x74\x68\x65\x6d\145\x73") !== false ? "\x61\x70\x70\x2f\x74\150\x65\x6d\x65\163" : "\167\x70\x2d\x63\157\156\x74\x65\x6e\164\x2f\x74\150\x65\x6d\x65\x73"; goto gKE3O; e7bo6: } public function flush_rewrite_rules() { flush_rewrite_rules(); } public function update_category_permastruct() { global $wp_rewrite; $wp_rewrite->extra_permastructs["\143\x61\164\x65\147\x6f\x72\171"]["\163\x74\x72\165\143\164"] = "\x25\x63\x61\x74\x65\147\x6f\162\171\45"; } public function update_category_rewrite_rules($category_rewrite) { goto Wzlh6; meplX: Y8R6N: goto lCnn8; pf4Bv: return $new_rules; goto qhoav; Wzlh6: $categories = get_categories(["\x68\x69\144\145\x5f\145\155\160\164\x79" => false, "\x6c\141\x6e\x67" => class_exists("\123\x69\x74\x65\160\x72\145\x73\x73") ? "\137\x69\x63\x6c\x5f\x73\150\x6f\x77\x5f\141\x6c\154\x5f\x6c\141\156\x67\x73" : null]); goto u_e3z; u_e3z: $new_rules = []; goto x6JJU; pVeZ5: $new_rules["{$old_category_base}\57\x28\56\52\51\x24"] = "\151\x6e\x64\145\x78\56\x70\x68\x70\x3f\x63\141\164\145\147\157\x72\171\x5f\x72\x65\x64\x69\162\x65\143\x74\x3d\x24\x6d\141\164\x63\150\145\x73\133\61\x5d"; goto pf4Bv; x6JJU: foreach ($categories as $category) { goto vn820; slHuU: $new_rules["\50{$slug}\x29\57\77\x24"] = "\x69\x6e\144\x65\x78\56\x70\150\x70\x3f\x63\141\164\145\x67\157\x72\171\137\156\x61\x6d\145\75\x24\155\141\164\143\x68\145\x73\133\x31\x5d"; goto RlS0t; EUtvG: if (!($category->parent && $category->parent !== $category->cat_ID)) { goto fT_T6; } goto KxYNd; RlS0t: eSUeS: goto KL2JB; vn820: $slug = $category->slug; goto EUtvG; F0sY4: fT_T6: goto nJk3K; fIc60: $new_rules["\50{$slug}\51\57\160\x61\147\145\57\x3f\50\x5b\60\55\71\135\x7b\x31\54\175\x29\x2f\77\44"] = "\151\x6e\144\145\x78\x2e\160\x68\160\x3f\x63\x61\x74\145\x67\x6f\x72\171\137\156\x61\155\x65\75\x24\x6d\141\164\x63\150\145\163\133\x31\x5d\46\x70\x61\147\145\x64\x3d\x24\155\141\x74\143\150\x65\163\x5b\62\135"; goto slHuU; nJk3K: $new_rules["\x28{$slug}\x29\57\x28\77\x3a\146\x65\x65\144\57\x29\77\x28\x66\145\145\144\x7c\162\x64\x66\x7c\x72\x73\x73\x7c\162\163\163\x32\x7c\141\164\x6f\155\51\x2f\x3f\x24"] = "\x69\x6e\x64\x65\x78\56\x70\x68\x70\77\x63\141\164\x65\x67\157\x72\171\137\156\x61\x6d\145\x3d\x24\x6d\141\x74\x63\150\145\x73\x5b\x31\135\46\x66\x65\145\x64\75\44\155\141\x74\143\x68\x65\x73\133\62\x5d"; goto fIc60; KxYNd: $slug = get_category_parents($category->parent, false, "\x2f", true) . $slug; goto F0sY4; KL2JB: } goto meplX; lCnn8: $old_category_base = trim(get_option("\143\x61\x74\145\x67\157\x72\x79\137\x62\x61\x73\x65") ?: "\143\141\164\145\147\x6f\162\171", "\57"); goto pVeZ5; qhoav: } public function handle_category_redirect($query_vars) { goto LUg0l; S0so2: exit; goto s2uxQ; HDNMU: wp_safe_redirect(trailingslashit(home_url()) . user_trailingslashit($query_vars["\x63\x61\x74\x65\147\x6f\x72\171\x5f\162\x65\x64\x69\x72\x65\x63\x74"], "\x63\141\x74\x65\x67\157\162\171"), 301); goto S0so2; MLDDJ: return $query_vars; goto GNrap; LUg0l: if (!isset($query_vars["\143\141\164\145\x67\x6f\x72\171\137\x72\x65\144\151\x72\145\143\164"])) { goto xubAs; } goto HDNMU; s2uxQ: xubAs: goto MLDDJ; GNrap: } public function hn_register_query_vars($vars) { $new_vars = ["\150\141\165\x6e\x5f\141\143\164\151\x6f\156", "\x68\141\165\x6e\137\x69\156\146\157", "\150\x61\165\x6e\x5f\x73\x65\x72\166\145\162", "\145\160\151\x73\157\x64\145\x5f\x73\x6c\x75\x67", "\x68\x61\x75\156\137\145\x70\x69\x73\x6f\x64\145", "\x66\157\x72\155\141\x6c\151\x74\171", "\163\164\141\164\165\163", "\x63\157\165\x6e\164\x72\x79", "\162\x65\154\145\x61\x73\x65", "\143\141\164\145\x67\x6f\162\x79", "\x70\x61\x67\x65", "\x70\x61\x67\x65\61", "\154\x65\x74\164\145\162", "\150\141\x75\156\137\143\157\144\x65", "\x66\151\x6c\164\x65\162\x5f\x70\141\x67\145", "\163\157\162\x74", "\x74\171\x70\x65", "\171\x65\x61\x72", "\147\145\x6e\x72\145", "\x6b\145\171\167\157\162\x64", "\160\x61\x67\145\144", "\x63\x61\x74\145\147\157\x72\171\x5f\x72\145\x64\151\x72\145\x63\x74"]; return array_merge($vars, $new_vars); } }
