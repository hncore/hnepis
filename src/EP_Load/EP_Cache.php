<?php
/*   __________________________________________________
    |  		Code By HauN - HauNYTB.COM  2.0.14    	  |
    |          Telegram: https://t.me/haunytb         |
    |    	   Url : https://haunytb.com    		  |
    |_________________________________________________|
*/
 namespace HNMG\EP_Load; class EP_Cache { public $timeCache; public $folderCache; public function __construct() { goto KuXWs; cHy80: WP_Filesystem(); goto o29BO; Wz9WU: if (!function_exists("\127\120\x5f\106\151\154\145\x73\171\x73\x74\145\155")) { require_once ABSPATH . "\167\x70\55\x61\x64\x6d\x69\x6e\57\151\156\143\154\165\x64\145\163\57\146\151\x6c\145\x2e\160\x68\x70"; } goto NwuBg; NwuBg: global $wp_filesystem; goto cHy80; KuXWs: $this->folderCache = WP_CONTENT_DIR . "\57\146\x69\x6c\155\x2d\x63\x61\x63\150\x65"; goto Shrj0; Shrj0: $this->timeCache = 3600; goto Wz9WU; o29BO: $this->wp_filesystem = $wp_filesystem; goto cj4Lz; cj4Lz: } public function readCache($name) { goto MpWyD; N7I0K: $result = file_get_contents($file); goto cVaCp; cVaCp: mFrO7: goto Ou0Vr; urxl3: $createFolderCache = $this->createFolderCache($name); goto XPQDQ; db1EV: DDIPU: goto N2IB1; zZGHH: if (!($this->timeCache > time() - filemtime($file))) { goto mFrO7; } goto N7I0K; N2IB1: return $result; goto MC_6z; tYDAd: $result = file_get_contents($file); goto jN17y; jN17y: goto n_Wkt; goto WCfD5; EtSdq: $result = ''; goto urxl3; Y5uQ7: if (!file_exists($file)) { goto DDIPU; } goto pv3Xm; Ou0Vr: n_Wkt: goto db1EV; MpWyD: $name = md5(md5($name)); goto EtSdq; XPQDQ: $file = $this->folderCache . "\x2f" . $createFolderCache . "\57" . $name . "\x2e\164\170\164"; goto Y5uQ7; pv3Xm: if ($this->timeCache != '') { goto EhRaL; } goto tYDAd; WCfD5: EhRaL: goto zZGHH; MC_6z: } public function getCache() { goto ByE28; WhNQQ: ddecx: goto usX8Y; WeChX: if (!$getDirContents) { goto aC3CT; } goto Vcl0w; Ykm_7: aC3CT: goto HP2ZY; usX8Y: return json_encode($result); goto Ykm_7; oRgNk: $getDirContents = $this->getDirContents($this->folderCache); goto kp6Pb; Vcl0w: foreach ($getDirContents as $key => $value) { goto M94x0; M94x0: if (!strpos($value, "\56\x74\170\164")) { goto NamwS; } goto K7uCB; VPU2W: AOhWT: goto G4XR4; opWzW: NamwS: goto VPU2W; K7uCB: $result[] = array("\146\151\154\x65" => $value); goto opWzW; G4XR4: } goto WhNQQ; ByE28: $result = array(); goto oRgNk; kp6Pb: $i = 0; goto WeChX; HP2ZY: } public function saveCache($name, $data) { goto Qa3zH; dOoNH: if (is_dir($dir)) { goto KkNLe; } goto vfivY; fASha: $this->wp_filesystem->put_contents($file, $data, FS_CHMOD_FILE); goto M25oo; FDZx6: $createFolderCache = $this->createFolderCache($name); goto Alrjg; Alrjg: if (is_dir($this->folderCache)) { goto ELygu; } goto Cu0tG; FlwuO: CbCq5: goto c0Gxp; DK9fO: if (chmod($this->folderCache, 0777)) { goto CbCq5; } goto XwLAZ; XwLAZ: chmod($this->folderCache, 0777); goto FlwuO; cBo_s: KkNLe: goto fASha; M25oo: $index_file = WP_CONTENT_DIR . "\x2f\146\x69\154\x6d\55\x63\x61\143\x68\x65\57\151\156\x64\145\170\56\160\150\160"; goto NwZSu; Qa3zH: $name = md5(md5($name)); goto FDZx6; rOfam: ELygu: goto DK9fO; NwZSu: $this->wp_filesystem->put_contents($index_file, "\74\x3f\x70\x68\x70\40\x2f\x2f\x20\x53\151\154\145\156\x63\x65\x20\151\x73\40\x67\157\x6c\144\x65\x6e\x2e", FS_CHMOD_FILE); goto piSGb; vfivY: mkdir($dir, 0777, true); goto cBo_s; GpmYy: $file = $dir . "\x2f" . $name . "\x2e\164\x78\164"; goto dOoNH; c0Gxp: $dir = $this->folderCache . "\x2f" . $createFolderCache; goto GpmYy; Cu0tG: mkdir($this->folderCache, 0777, true); goto rOfam; piSGb: } public function delCache($name) { goto HnVfG; dM52b: YNbNz: goto CalCj; W4wlj: ZiQUm: goto d9Eoo; EFrt1: $result = array("\x73\164\x61\x74\165\163" => 0, "\x72\x65\163\x75\154\x74" => "\x4c\x69\x6e\x6b\x20\156\157\164\40\x65\x78\151\x73\x74\x73"); goto hVeZO; kyIoN: OYcGs: goto IQevC; WqPr1: goto M14kH; goto W4wlj; xIcbC: $createFolderCache = $this->createFolderCache($name); goto KdJRj; KdJRj: $file = $this->folderCache . "\57" . $createFolderCache . "\x2f" . $name . "\56\164\170\164"; goto YY3dU; hVeZO: goto YNbNz; goto kyIoN; IQevC: if (unlink($file)) { goto ZiQUm; } goto ejb5s; aoZQJ: M14kH: goto dM52b; kXA1L: $name = md5(md5($name)); goto xIcbC; CalCj: return $result; goto H8GB_; HnVfG: $result = ''; goto kXA1L; ejb5s: $result = array("\x73\164\141\x74\165\163" => 0, "\x72\145\x73\165\154\x74" => "\104\145\x6c\x65\164\x65\40\145\x72\x72\157\162"); goto WqPr1; d9Eoo: $result = array("\x73\164\x61\164\x75\x73" => 1, "\x72\145\163\165\x6c\x74" => "\x44\x65\154\x65\x74\145\144"); goto aoZQJ; YY3dU: if (file_exists($file)) { goto OYcGs; } goto EFrt1; H8GB_: } public function delAllCache($timeCache) { goto j1Jf9; rxoQf: $result["\x63\141\143\x68\145\x5f\x64\x65\x6c\145\164\x65\144"] = $j; goto jS278; eaT1O: $getDirContents = $this->getDirContents($this->folderCache); goto byMEU; EW0gZ: $this->removeEmptySubFolders($this->folderCache); goto WmvrQ; WmvrQ: $result["\164\157\x74\x61\154\137\x63\141\x63\x68\x65"] = $i; goto An77y; byMEU: $i = $j = 0; goto fjIxq; oCiBx: return json_encode($result); goto S97f_; dcxbQ: xd9cc: goto EW0gZ; k_3ly: gbmdI: goto dcxbQ; An77y: $result["\x74\151\x6d\145\x5f\x6c\x69\x6d\x69\164"] = $timeCache; goto rxoQf; Mqx_w: foreach ($getDirContents as $key => $value) { goto lxE4b; e0QvR: u3rt8: goto P68JB; xpt1i: $result["\163\x74\141\x74\x75\x73"] = 0; goto K1KrC; vSdwR: $j++; goto Bfh13; lxE4b: if (!strpos($value, "\56\x74\170\164")) { goto cq2xd; } goto YcmU6; AOEKo: $result["\x73\164\x61\164\x75\x73"] = 1; goto ft9SJ; P68JB: cq2xd: goto z8gkI; Q5sZU: N6D4u: goto AOEKo; nNHo2: if (!($timeCache <= time() - filemtime($value))) { goto u3rt8; } goto vSdwR; K1KrC: goto xy_Xl; goto Q5sZU; z8gkI: n4Dq9: goto a2sPH; Bfh13: if (unlink($value)) { goto N6D4u; } goto xpt1i; YcmU6: $i++; goto nNHo2; ft9SJ: xy_Xl: goto e0QvR; a2sPH: } goto k_3ly; j1Jf9: $result = array(); goto eaT1O; jS278: $result["\x63\x61\x63\x68\x65\137\x63\x6f\165\156\164"] = $i - $j; goto oCiBx; fjIxq: if (!$getDirContents) { goto xd9cc; } goto Mqx_w; S97f_: } public function cacheCount() { goto az570; wGs3Z: $getDirContents = $this->getDirContents($this->folderCache); goto A0hgg; A0hgg: $i = 1; goto aWnmj; kYHGN: return json_encode($result); goto HoOdn; aWnmj: if (!$getDirContents) { goto DUHc5; } goto LGTKz; e6PmU: NpRuj: goto p323q; az570: $result = array(); goto wGs3Z; p323q: DUHc5: goto kYHGN; LGTKz: foreach ($getDirContents as $key => $value) { goto qPCWW; qK1pF: $result["\x72\145\x73\x75\154\x74"] = 1; goto j2Dpx; Qirdu: OmtJK: goto tX4En; KI2fC: $i++; goto gJ4IQ; gJ4IQ: ILRL3: goto Qirdu; j2Dpx: $result["\x74\x6f\164\x61\x6c\x5f\x63\141\x63\x68\x65"] = $i; goto KI2fC; qPCWW: if (!strpos($value, "\56\x74\x78\164")) { goto ILRL3; } goto qK1pF; tX4En: } goto e6PmU; HoOdn: } private function createFolderCache($name) { goto Ux7H5; dZXOk: return $folder1 . "\57" . $folder2; goto SqnvC; Ux7H5: $folder1 = substr($name, 0, 2); goto mH_r1; mH_r1: $folder2 = substr($name, 2, 2); goto dZXOk; SqnvC: } private function getDirContents($dir, &$results = array()) { goto BCe6g; iQ9r1: foreach ($files as $key => $value) { goto eUgSR; Pbzzf: $results[] = $path; goto qijrE; UBSkO: $this->getDirContents($path, $results); goto Pbzzf; jx1XQ: if (!is_dir($path)) { goto CbMDy; } goto DSGx2; HJlZv: goto bzCV1; goto EpxNE; V5LLz: $results[] = $path; goto rxEBW; rxEBW: bzCV1: goto HMsFg; eUgSR: $path = realpath($dir . DIRECTORY_SEPARATOR . $value); goto jx1XQ; DSGx2: if (!($value != "\56" && $value != "\56\56")) { goto va25Y; } goto UBSkO; EpxNE: CbMDy: goto V5LLz; HMsFg: HQIrp: goto qLKNm; qijrE: va25Y: goto HJlZv; qLKNm: } goto TMvXp; BCe6g: $files = scandir($dir); goto iQ9r1; TMvXp: H03_N: goto dkr3j; dkr3j: return $results; goto vFd3Z; vFd3Z: } private function removeEmptySubFolders($path) { goto UHqlE; SZH1w: foreach (glob($path . DIRECTORY_SEPARATOR . "\x2a") as $file) { $empty &= is_dir($file) && $this->removeEmptySubFolders($file); qZLEy: } goto AsGHC; iV1H7: return $empty && @rmdir($path); goto mxDne; UHqlE: $empty = true; goto SZH1w; AsGHC: ZfEwV: goto iV1H7; mxDne: } }
